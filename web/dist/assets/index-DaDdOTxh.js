import{u as Kr,j as r,a as fe,Q as Xr,b as Qr}from"./query-CxuHkjVw.js";import{r as b,R as ee,u as Yr,L as Ze,a as es,b as K,N as Et,B as ts}from"./router-P8FkEVy8.js";import{a as rs,g as er,r as tr}from"./vendor-D3F3s8fL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var ke={},Ct;function ss(){if(Ct)return ke;Ct=1;var e=rs();return ke.createRoot=e.createRoot,ke.hydrateRoot=e.hydrateRoot,ke}var as=ss();const ns=er(as);let is={data:""},os=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||is,ls=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cs=/\/\*[^]*?\*\/|  +/g,Rt=/\n+/g,X=(e,t)=>{let s="",a="",n="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?s=o+" "+i+";":a+=o[1]=="f"?X(i,o):o+"{"+X(i,o[1]=="k"?"":t)+"}":typeof i=="object"?a+=X(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,l):l?l+" "+m:m)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=X.p?X.p(o,i):o+":"+i+";")}return s+(t&&n?t+"{"+n+"}":n)+a},J={},rr=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+rr(e[s]);return t}return e},ds=(e,t,s,a,n)=>{let o=rr(e),i=J[o]||(J[o]=(m=>{let c=0,d=11;for(;c<m.length;)d=101*d+m.charCodeAt(c++)>>>0;return"go"+d})(o));if(!J[i]){let m=o!==e?e:(c=>{let d,u,f=[{}];for(;d=ls.exec(c.replace(cs,""));)d[4]?f.shift():d[3]?(u=d[3].replace(Rt," ").trim(),f.unshift(f[0][u]=f[0][u]||{})):f[0][d[1]]=d[2].replace(Rt," ").trim();return f[0]})(e);J[i]=X(n?{["@keyframes "+i]:m}:m,s?"":"."+i)}let l=s&&J.g?J.g:null;return s&&(J.g=J[i]),((m,c,d,u)=>{u?c.data=c.data.replace(u,m):c.data.indexOf(m)===-1&&(c.data=d?m+c.data:c.data+m)})(J[i],t,a,l),i},us=(e,t,s)=>e.reduce((a,n,o)=>{let i=t[o];if(i&&i.call){let l=i(s),m=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=m?"."+m:l&&typeof l=="object"?l.props?"":X(l,""):l===!1?"":l}return a+n+(i??"")},"");function $e(e){let t=this||{},s=e.call?e(t.p):e;return ds(s.unshift?s.raw?us(s,[].slice.call(arguments,1),t.p):s.reduce((a,n)=>Object.assign(a,n&&n.call?n(t.p):n),{}):s,os(t.target),t.g,t.o,t.k)}let sr,ot,lt;$e.bind({g:1});let Z=$e.bind({k:1});function ms(e,t,s,a){X.p=t,sr=e,ot=s,lt=a}function Q(e,t){let s=this||{};return function(){let a=arguments;function n(o,i){let l=Object.assign({},o),m=l.className||n.className;s.p=Object.assign({theme:ot&&ot()},l),s.o=/ *go\d+/.test(m),l.className=$e.apply(s,a)+(m?" "+m:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),lt&&c[0]&&lt(l),sr(c,l)}return n}}var hs=e=>typeof e=="function",Me=(e,t)=>hs(e)?e(t):e,fs=(()=>{let e=0;return()=>(++e).toString()})(),ar=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ps=20,yt="default",nr=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:a}=t;return nr(e,{type:e.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Ce=[],ir={toasts:[],pausedAt:void 0,settings:{toastLimit:ps}},H={},or=(e,t=yt)=>{H[t]=nr(H[t]||ir,e),Ce.forEach(([s,a])=>{s===t&&a(H[t])})},lr=e=>Object.keys(H).forEach(t=>or(e,t)),xs=e=>Object.keys(H).find(t=>H[t].toasts.some(s=>s.id===e)),Le=(e=yt)=>t=>{or(t,e)},gs={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ys=(e={},t=yt)=>{let[s,a]=b.useState(H[t]||ir),n=b.useRef(H[t]);b.useEffect(()=>(n.current!==H[t]&&a(H[t]),Ce.push([t,a]),()=>{let i=Ce.findIndex(([l])=>l===t);i>-1&&Ce.splice(i,1)}),[t]);let o=s.toasts.map(i=>{var l,m,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:i.duration||((m=e[i.type])==null?void 0:m.duration)||e?.duration||gs[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...s,toasts:o}},bs=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:s?.id||fs()}),pe=e=>(t,s)=>{let a=bs(t,e,s);return Le(a.toasterId||xs(a.id))({type:2,toast:a}),a.id},k=(e,t)=>pe("blank")(e,t);k.error=pe("error");k.success=pe("success");k.loading=pe("loading");k.custom=pe("custom");k.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Le(t)(s):lr(s)};k.dismissAll=e=>k.dismiss(void 0,e);k.remove=(e,t)=>{let s={type:4,toastId:e};t?Le(t)(s):lr(s)};k.removeAll=e=>k.remove(void 0,e);k.promise=(e,t,s)=>{let a=k.loading(t.loading,{...s,...s?.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let o=t.success?Me(t.success,n):void 0;return o?k.success(o,{id:a,...s,...s?.success}):k.dismiss(a),n}).catch(n=>{let o=t.error?Me(t.error,n):void 0;o?k.error(o,{id:a,...s,...s?.error}):k.dismiss(a)}),e};var vs=1e3,js=(e,t="default")=>{let{toasts:s,pausedAt:a}=ys(e,t),n=b.useRef(new Map).current,o=b.useCallback((u,f=vs)=>{if(n.has(u))return;let p=setTimeout(()=>{n.delete(u),i({type:4,toastId:u})},f);n.set(u,p)},[]);b.useEffect(()=>{if(a)return;let u=Date.now(),f=s.map(p=>{if(p.duration===1/0)return;let x=(p.duration||0)+p.pauseDuration-(u-p.createdAt);if(x<0){p.visible&&k.dismiss(p.id);return}return setTimeout(()=>k.dismiss(p.id,t),x)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[s,a,t]);let i=b.useCallback(Le(t),[t]),l=b.useCallback(()=>{i({type:5,time:Date.now()})},[i]),m=b.useCallback((u,f)=>{i({type:1,toast:{id:u,height:f}})},[i]),c=b.useCallback(()=>{a&&i({type:6,time:Date.now()})},[a,i]),d=b.useCallback((u,f)=>{let{reverseOrder:p=!1,gutter:x=8,defaultPosition:g}=f||{},y=s.filter(w=>(w.position||g)===(u.position||g)&&w.height),j=y.findIndex(w=>w.id===u.id),N=y.filter((w,C)=>C<j&&w.visible).length;return y.filter(w=>w.visible).slice(...p?[N+1]:[0,N]).reduce((w,C)=>w+(C.height||0)+x,0)},[s]);return b.useEffect(()=>{s.forEach(u=>{if(u.dismissed)o(u.id,u.removeDelay);else{let f=n.get(u.id);f&&(clearTimeout(f),n.delete(u.id))}})},[s,o]),{toasts:s,handlers:{updateHeight:m,startPause:l,endPause:c,calculateOffset:d}}},ws=Z`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ns=Z`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ss=Z`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ks=Q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ws} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ns} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ss} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_s=Z`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ts=Q("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_s} 1s linear infinite;
`,Es=Z`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Cs=Z`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Rs=Q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Es} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Cs} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,As=Q("div")`
  position: absolute;
`,Is=Q("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Os=Z`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ms=Q("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Os} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ps=({toast:e})=>{let{icon:t,type:s,iconTheme:a}=e;return t!==void 0?typeof t=="string"?b.createElement(Ms,null,t):t:s==="blank"?null:b.createElement(Is,null,b.createElement(Ts,{...a}),s!=="loading"&&b.createElement(As,null,s==="error"?b.createElement(ks,{...a}):b.createElement(Rs,{...a})))},Ds=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$s=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ls="0%{opacity:0;} 100%{opacity:1;}",Fs="0%{opacity:1;} 100%{opacity:0;}",Us=Q("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bs=Q("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ws=(e,t)=>{let s=e.includes("top")?1:-1,[a,n]=ar()?[Ls,Fs]:[Ds(s),$s(s)];return{animation:t?`${Z(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Z(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qs=b.memo(({toast:e,position:t,style:s,children:a})=>{let n=e.height?Ws(e.position||t||"top-center",e.visible):{opacity:0},o=b.createElement(Ps,{toast:e}),i=b.createElement(Bs,{...e.ariaProps},Me(e.message,e));return b.createElement(Us,{className:e.className,style:{...n,...s,...e.style}},typeof a=="function"?a({icon:o,message:i}):b.createElement(b.Fragment,null,o,i))});ms(b.createElement);var zs=({id:e,className:t,style:s,onHeightUpdate:a,children:n})=>{let o=b.useCallback(i=>{if(i){let l=()=>{let m=i.getBoundingClientRect().height;a(e,m)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return b.createElement("div",{ref:o,className:t,style:s},n)},Hs=(e,t)=>{let s=e.includes("top"),a=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ar()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...a,...n}},Vs=$e`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_e=16,Js=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:a,children:n,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:m,handlers:c}=js(s,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:_e,left:_e,right:_e,bottom:_e,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},m.map(d=>{let u=d.position||t,f=c.calculateOffset(d,{reverseOrder:e,gutter:a,defaultPosition:t}),p=Hs(u,f);return b.createElement(zs,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Vs:"",style:p},d.type==="custom"?Me(d.message,d):n?n(d):b.createElement(qs,{toast:d,position:u}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const s=b.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:m,...c},d)=>b.createElement("svg",{ref:d,...Zs,width:n,height:n,stroke:a,strokeWidth:i?Number(o)*24/Number(n):o,className:["lucide",`lucide-${Gs(e)}`,l].join(" "),...c},[...t.map(([u,f])=>b.createElement(u,f)),...Array.isArray(m)?m:[m]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=G("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=G("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=G("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=G("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=G("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ra={},It=e=>{let t;const s=new Set,a=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(x=>x(t,p))}},n=()=>t,m={setState:a,getState:n,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(ra?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},c=t=e(a,n,m);return m},sa=e=>e?It(e):It;var Ke={exports:{}},Xe={},Qe={exports:{}},Ye={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot;function aa(){if(Ot)return Ye;Ot=1;var e=tr();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function l(u,f){var p=f(),x=a({inst:{value:p,getSnapshot:f}}),g=x[0].inst,y=x[1];return o(function(){g.value=p,g.getSnapshot=f,m(g)&&y({inst:g})},[u,p,f]),n(function(){return m(g)&&y({inst:g}),u(function(){m(g)&&y({inst:g})})},[u]),i(p),p}function m(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!s(u,p)}catch{return!0}}function c(u,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return Ye.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Ye}var Mt;function na(){return Mt||(Mt=1,Qe.exports=aa()),Qe.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt;function ia(){if(Pt)return Xe;Pt=1;var e=tr(),t=na();function s(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,l=e.useMemo,m=e.useDebugValue;return Xe.useSyncExternalStoreWithSelector=function(c,d,u,f,p){var x=o(null);if(x.current===null){var g={hasValue:!1,value:null};x.current=g}else g=x.current;x=l(function(){function j(R){if(!N){if(N=!0,w=R,R=f(R),p!==void 0&&g.hasValue){var A=g.value;if(p(A,R))return C=A}return C=R}if(A=C,a(w,R))return A;var V=f(R);return p!==void 0&&p(A,V)?(w=R,A):(w=R,C=V)}var N=!1,w,C,T=u===void 0?null:u;return[function(){return j(d())},T===null?void 0:function(){return j(T())}]},[d,u,f,p]);var y=n(c,x[0],x[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),m(y),y},Xe}var Dt;function oa(){return Dt||(Dt=1,Ke.exports=ia()),Ke.exports}var la=oa();const ca=er(la),dr={},{useDebugValue:da}=ee,{useSyncExternalStoreWithSelector:ua}=ca;let $t=!1;const ma=e=>e;function ha(e,t=ma,s){(dr?"production":void 0)!=="production"&&s&&!$t&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$t=!0);const a=ua(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return da(a),a}const fa=e=>{(dr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sa(e):e,s=(a,n)=>ha(t,a,n);return Object.assign(s,t),s},pa=e=>fa,et={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STREAM_URL:"/stream/raido.mp3"},ct=new Map,Te=e=>{const t=ct.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([s,a])=>[s,a.getState()])):{}},xa=(e,t,s)=>{if(e===void 0)return{type:"untracked",connection:t.connect(s)};const a=ct.get(s.name);if(a)return{type:"tracked",store:e,...a};const n={connection:t.connect(s),stores:{}};return ct.set(s.name,n),{type:"tracked",store:e,...n}},ga=(e,t={})=>(s,a,n)=>{const{enabled:o,anonymousActionType:i,store:l,...m}=t;let c;try{c=(o??(et?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(et?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(s,a,n);const{connection:d,...u}=xa(l,c,m);let f=!0;n.setState=(g,y,j)=>{const N=s(g,y);if(!f)return N;const w=j===void 0?{type:i||"anonymous"}:typeof j=="string"?{type:j}:j;return l===void 0?(d?.send(w,a()),N):(d?.send({...w,type:`${l}/${w.type}`},{...Te(m.name),[l]:n.getState()}),N)};const p=(...g)=>{const y=f;f=!1,s(...g),f=y},x=e(n.setState,a,n);if(u.type==="untracked"?d?.init(x):(u.stores[u.store]=n,d?.init(Object.fromEntries(Object.entries(u.stores).map(([g,y])=>[g,g===u.store?x:y.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let g=!1;const y=n.dispatch;n.dispatch=(...j)=>{(et?"production":void 0)!=="production"&&j[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),y(...j)}}return d.subscribe(g=>{var y;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return tt(g.payload,j=>{if(j.type==="__setState"){if(l===void 0){p(j.state);return}Object.keys(j.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=j.state[l];if(N==null)return;JSON.stringify(n.getState())!==JSON.stringify(N)&&p(N);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(j)});case"DISPATCH":switch(g.payload.type){case"RESET":return p(x),l===void 0?d?.init(n.getState()):d?.init(Te(m.name));case"COMMIT":if(l===void 0){d?.init(n.getState());return}return d?.init(Te(m.name));case"ROLLBACK":return tt(g.state,j=>{if(l===void 0){p(j),d?.init(n.getState());return}p(j[l]),d?.init(Te(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return tt(g.state,j=>{if(l===void 0){p(j);return}JSON.stringify(n.getState())!==JSON.stringify(j[l])&&p(j[l])});case"IMPORT_STATE":{const{nextLiftedState:j}=g.payload,N=(y=j.computedStates.slice(-1)[0])==null?void 0:y.state;if(!N)return;p(l===void 0?N:N[l]),d?.send(null,j);return}case"PAUSE_RECORDING":return f=!f}return}}),x},ya=ga,tt=(e,t)=>{let s;try{s=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}s!==void 0&&t(s)},dt=pa()(ya((e,t)=>({isConnected:!1,setIsConnected:s=>e({isConnected:s}),nowPlaying:void 0,updateNowPlaying:s=>e({nowPlaying:s}),isDarkMode:!0,toggleDarkMode:()=>{const s=!t().isDarkMode;e({isDarkMode:s}),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("raido-dark-mode",s.toString())},volume:parseInt(localStorage.getItem("raido-volume")||"75"),setVolume:s=>{e({volume:s}),localStorage.setItem("raido-volume",s.toString())},isMuted:localStorage.getItem("raido-muted")==="true",toggleMute:()=>{const s=!t().isMuted;e({isMuted:s}),localStorage.setItem("raido-muted",s.toString())},isAdmin:!1,setIsAdmin:s=>e({isAdmin:s})}),{name:"raido-store"})),ba=localStorage.getItem("raido-dark-mode")!=="false";ba?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function va(){const e=b.useRef(null),t=Kr(),{setIsConnected:s,updateNowPlaying:a}=dt(),n=b.useRef(),o=b.useRef(0),i=5,l=()=>{try{const c=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;e.current=new WebSocket(c),e.current.onopen=()=>{console.log("ðŸ´â€â˜ ï¸ WebSocket connected"),s(!0),o.current>0&&k.success("ðŸ´â€â˜ ï¸ Reconnected to the radio!"),o.current=0},e.current.onmessage=d=>{try{const u=JSON.parse(d.data);switch(u.type){case"now_playing":case"track_change":a(u.data),t.invalidateQueries({queryKey:["nowPlaying"]}),t.invalidateQueries({queryKey:["nextUp"]}),t.invalidateQueries({queryKey:["history"]});break;case"commentary":k("ðŸ—£ï¸ New DJ commentary!",{icon:"ðŸŽ™ï¸",duration:3e3}),t.invalidateQueries({queryKey:["history"]});break;default:console.log("Unknown WebSocket message type:",u.type)}}catch(u){console.error("Error parsing WebSocket message:",u)}},e.current.onclose=d=>{if(console.log("WebSocket disconnected:",d.code,d.reason),s(!1),d.code!==1e3&&o.current<i){const u=Math.min(1e3*Math.pow(2,o.current),3e4);o.current++,console.log(`Reconnecting in ${u}ms (attempt ${o.current})`),n.current=setTimeout(()=>{l()},u)}else o.current>=i&&k.error("ðŸ´â€â˜ ï¸ Lost connection to the radio. Please refresh.")},e.current.onerror=d=>{console.error("WebSocket error:",d)}}catch(m){console.error("Error creating WebSocket:",m),s(!1)}};return b.useEffect(()=>(l(),()=>{n.current&&clearTimeout(n.current),e.current&&e.current.close(1e3,"Component unmounting")}),[]),{isConnected:dt(m=>m.isConnected),reconnect:l}}const ja=({className:e="",size:t="md"})=>{const s={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"};return r.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[r.jsx("div",{className:`${s[t]} relative`,children:r.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"20",cy:"18",r:"12",fill:"#f59e0b",className:"drop-shadow-lg"}),r.jsx("circle",{cx:"20",cy:"18",r:"10",fill:"#fbbf24"}),r.jsx("circle",{cx:"16",cy:"16",r:"2.5",fill:"#1f2937"}),r.jsx("circle",{cx:"24",cy:"16",r:"2.5",fill:"#1f2937"}),r.jsx("circle",{cx:"16.5",cy:"15.5",r:"0.8",fill:"#ef4444"}),r.jsx("circle",{cx:"24.5",cy:"15.5",r:"0.8",fill:"#ef4444"}),r.jsx("path",{d:"M20 19 L18 22 L22 22 Z",fill:"#d97706"}),r.jsx("rect",{x:"17",y:"23",width:"6",height:"2",fill:"#1f2937",rx:"1"}),r.jsx("rect",{x:"18",y:"22",width:"1",height:"2",fill:"#f3f4f6"}),r.jsx("rect",{x:"20",y:"22",width:"1",height:"2",fill:"#f3f4f6"}),r.jsx("rect",{x:"22",y:"22",width:"1",height:"2",fill:"#f3f4f6"}),r.jsx("path",{d:"M5 10 Q10 5 20 10",stroke:"#10b981",strokeWidth:"2",fill:"none",className:"animate-pulse"}),r.jsx("path",{d:"M35 10 Q30 5 20 10",stroke:"#10b981",strokeWidth:"2",fill:"none",className:"animate-pulse",style:{animationDelay:"0.5s"}}),r.jsx("path",{d:"M8 15 Q12 12 20 15",stroke:"#34d399",strokeWidth:"1.5",fill:"none",className:"animate-pulse",style:{animationDelay:"1s"}}),r.jsx("path",{d:"M32 15 Q28 12 20 15",stroke:"#34d399",strokeWidth:"1.5",fill:"none",className:"animate-pulse",style:{animationDelay:"1.5s"}}),r.jsx("line",{x1:"20",y1:"6",x2:"20",y2:"2",stroke:"#6b7280",strokeWidth:"2"}),r.jsx("circle",{cx:"20",cy:"2",r:"1",fill:"#ef4444",className:"animate-ping"})]})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-xl font-bold text-white font-pirate tracking-wide",children:"Raido"}),r.jsx("p",{className:"text-xs text-pirate-300 font-medium -mt-1",children:"AI Pirate Radio"})]})]})};function wa({children:e}){const t=Yr(),{isConnected:s,nowPlaying:a}=dt(c=>({isConnected:c.isConnected,nowPlaying:c.nowPlaying}));va();const o=t.pathname.startsWith("/stations")?[{name:"Stations",href:"/stations",icon:At}]:[{name:"Now Playing",href:"/now-playing",icon:Ks},{name:"DJ Admin",href:"/raido/admin",icon:Ys},{name:"Stations",href:"/stations",icon:At}],i=a?.track?.title?.trim(),l=a?.track?.artist?.trim(),m=i?l?`${i} â€” ${l}`:i:null;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:[r.jsxs("header",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center h-16 gap-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(Ze,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:r.jsx(ja,{size:"md"})})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:o.map(c=>{const d=t.pathname===c.href;return r.jsxs(Ze,{to:c.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${d?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[r.jsx(c.icon,{className:"h-4 w-4"}),r.jsx("span",{children:c.name})]},c.name)})}),m?r.jsx("div",{className:"hidden md:block max-w-xs px-4",children:r.jsx("span",{className:"block truncate text-sm font-medium text-gray-100",title:m,children:m})}):null,r.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[r.jsxs("a",{href:"/christmas/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors",title:"Visit Christmas Station",children:[r.jsx("span",{children:"ðŸŽ„"}),r.jsx("span",{className:"hidden sm:inline",children:"Christmas Radio"})]}),r.jsxs("div",{className:`flex items-center space-x-2 text-xs ${s?"text-green-400":"text-red-400"}`,role:"status","aria-live":"polite","aria-label":`Connection status: ${s?"Connected":"Disconnected"}`,children:[s?r.jsx(ta,{className:"h-4 w-4","aria-hidden":"true"}):r.jsx(ea,{className:"h-4 w-4","aria-hidden":"true"}),r.jsx("span",{className:"hidden sm:inline",children:s?"Connected":"Disconnected"})]})]})]})}),r.jsx("div",{className:"md:hidden border-t border-gray-700",children:r.jsxs("div",{className:"px-4 py-2 space-y-1",children:[o.map(c=>{const d=t.pathname===c.href;return r.jsxs(Ze,{to:c.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${d?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[r.jsx(c.icon,{className:"h-4 w-4"}),r.jsx("span",{children:c.name})]},c.name)}),r.jsxs("a",{href:"/christmas/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors",children:[r.jsx("span",{children:"ðŸŽ„"}),r.jsx("span",{children:"Christmas Radio"})]}),m?r.jsx("div",{className:"mt-2 px-3 py-2 rounded-md text-sm font-medium text-gray-100 bg-gray-700/40",children:m}):null]})})]}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),r.jsx("footer",{className:"bg-gray-800 bg-opacity-50 border-t border-gray-700 mt-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[r.jsx("p",{children:"ðŸ´â€â˜ ï¸ Raido - AI Pirate Radio Â© 2024"}),r.jsx("p",{className:"mt-1",children:"Sailing the digital seas with AI-powered beats"})]})})})]})}class Ee extends ee.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("UI ErrorBoundary caught:",t,s)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback??r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),this.state.error?.message&&r.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),r.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function ur(e,t){return function(){return e.apply(t,arguments)}}const{toString:Na}=Object.prototype,{getPrototypeOf:bt}=Object,{iterator:Fe,toStringTag:mr}=Symbol,Ue=(e=>t=>{const s=Na.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),B=e=>(e=e.toLowerCase(),t=>Ue(t)===e),Be=e=>t=>typeof t===e,{isArray:oe}=Array,he=Be("undefined");function xe(e){return e!==null&&!he(e)&&e.constructor!==null&&!he(e.constructor)&&D(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hr=B("ArrayBuffer");function Sa(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hr(e.buffer),t}const ka=Be("string"),D=Be("function"),fr=Be("number"),ge=e=>e!==null&&typeof e=="object",_a=e=>e===!0||e===!1,Re=e=>{if(Ue(e)!=="object")return!1;const t=bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mr in e)&&!(Fe in e)},Ta=e=>{if(!ge(e)||xe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ea=B("Date"),Ca=B("File"),Ra=B("Blob"),Aa=B("FileList"),Ia=e=>ge(e)&&D(e.pipe),Oa=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||D(e.append)&&((t=Ue(e))==="formdata"||t==="object"&&D(e.toString)&&e.toString()==="[object FormData]"))},Ma=B("URLSearchParams"),[Pa,Da,$a,La]=["ReadableStream","Request","Response","Headers"].map(B),Fa=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ye(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),oe(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(xe(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(a=0;a<i;a++)l=o[a],t.call(null,e[l],l,e)}}function pr(e,t){if(xe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xr=e=>!he(e)&&e!==te;function ut(){const{caseless:e}=xr(this)&&this||{},t={},s=(a,n)=>{const o=e&&pr(t,n)||n;Re(t[o])&&Re(a)?t[o]=ut(t[o],a):Re(a)?t[o]=ut({},a):oe(a)?t[o]=a.slice():t[o]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&ye(arguments[a],s);return t}const Ua=(e,t,s,{allOwnKeys:a}={})=>(ye(t,(n,o)=>{s&&D(n)?e[o]=ur(n,s):e[o]=n},{allOwnKeys:a}),e),Ba=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wa=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},qa=(e,t,s,a)=>{let n,o,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!a||a(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&bt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},za=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},Ha=e=>{if(!e)return null;if(oe(e))return e;let t=e.length;if(!fr(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Va=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bt(Uint8Array)),Ja=(e,t)=>{const a=(e&&e[Fe]).call(e);let n;for(;(n=a.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},Za=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},Ga=B("HTMLFormElement"),Ka=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),Lt=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Xa=B("RegExp"),gr=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ye(s,(n,o)=>{let i;(i=t(n,o,e))!==!1&&(a[o]=i||n)}),Object.defineProperties(e,a)},Qa=e=>{gr(e,(t,s)=>{if(D(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(D(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ya=(e,t)=>{const s={},a=n=>{n.forEach(o=>{s[o]=!0})};return oe(e)?a(e):a(String(e).split(t)),s},en=()=>{},tn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function rn(e){return!!(e&&D(e.append)&&e[mr]==="FormData"&&e[Fe])}const sn=e=>{const t=new Array(10),s=(a,n)=>{if(ge(a)){if(t.indexOf(a)>=0)return;if(xe(a))return a;if(!("toJSON"in a)){t[n]=a;const o=oe(a)?[]:{};return ye(a,(i,l)=>{const m=s(i,n+1);!he(m)&&(o[l]=m)}),t[n]=void 0,o}}return a};return s(e,0)},an=B("AsyncFunction"),nn=e=>e&&(ge(e)||D(e))&&D(e.then)&&D(e.catch),yr=((e,t)=>e?setImmediate:t?((s,a)=>(te.addEventListener("message",({source:n,data:o})=>{n===te&&o===s&&a.length&&a.shift()()},!1),n=>{a.push(n),te.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",D(te.postMessage)),on=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||yr,ln=e=>e!=null&&D(e[Fe]),h={isArray:oe,isArrayBuffer:hr,isBuffer:xe,isFormData:Oa,isArrayBufferView:Sa,isString:ka,isNumber:fr,isBoolean:_a,isObject:ge,isPlainObject:Re,isEmptyObject:Ta,isReadableStream:Pa,isRequest:Da,isResponse:$a,isHeaders:La,isUndefined:he,isDate:Ea,isFile:Ca,isBlob:Ra,isRegExp:Xa,isFunction:D,isStream:Ia,isURLSearchParams:Ma,isTypedArray:Va,isFileList:Aa,forEach:ye,merge:ut,extend:Ua,trim:Fa,stripBOM:Ba,inherits:Wa,toFlatObject:qa,kindOf:Ue,kindOfTest:B,endsWith:za,toArray:Ha,forEachEntry:Ja,matchAll:Za,isHTMLForm:Ga,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:gr,freezeMethods:Qa,toObjectSet:Ya,toCamelCase:Ka,noop:en,toFiniteNumber:tn,findKey:pr,global:te,isContextDefined:xr,isSpecCompliantForm:rn,toJSONObject:sn,isAsyncFn:an,isThenable:nn,setImmediate:yr,asap:on,isIterable:ln};function S(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const br=S.prototype,vr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vr[e]={value:e}});Object.defineProperties(S,vr);Object.defineProperty(br,"isAxiosError",{value:!0});S.from=(e,t,s,a,n,o)=>{const i=Object.create(br);return h.toFlatObject(e,i,function(m){return m!==Error.prototype},l=>l!=="isAxiosError"),S.call(i,e.message,t,s,a,n),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const cn=null;function mt(e){return h.isPlainObject(e)||h.isArray(e)}function jr(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function Ft(e,t,s){return e?e.concat(t).map(function(n,o){return n=jr(n),!s&&o?"["+n+"]":n}).join(s?".":""):t}function dn(e){return h.isArray(e)&&!e.some(mt)}const un=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function We(e,t,s){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=h.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!h.isUndefined(y[g])});const a=s.metaTokens,n=s.visitor||d,o=s.dots,i=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(h.isDate(x))return x.toISOString();if(h.isBoolean(x))return x.toString();if(!m&&h.isBlob(x))throw new S("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(x)||h.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,y){let j=x;if(x&&!y&&typeof x=="object"){if(h.endsWith(g,"{}"))g=a?g:g.slice(0,-2),x=JSON.stringify(x);else if(h.isArray(x)&&dn(x)||(h.isFileList(x)||h.endsWith(g,"[]"))&&(j=h.toArray(x)))return g=jr(g),j.forEach(function(w,C){!(h.isUndefined(w)||w===null)&&t.append(i===!0?Ft([g],C,o):i===null?g:g+"[]",c(w))}),!1}return mt(x)?!0:(t.append(Ft(y,g,o),c(x)),!1)}const u=[],f=Object.assign(un,{defaultVisitor:d,convertValue:c,isVisitable:mt});function p(x,g){if(!h.isUndefined(x)){if(u.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(x),h.forEach(x,function(j,N){(!(h.isUndefined(j)||j===null)&&n.call(t,j,h.isString(N)?N.trim():N,g,f))===!0&&p(j,g?g.concat(N):[N])}),u.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Ut(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function vt(e,t){this._pairs=[],e&&We(e,this,t)}const wr=vt.prototype;wr.append=function(t,s){this._pairs.push([t,s])};wr.toString=function(t){const s=t?function(a){return t.call(this,a,Ut)}:Ut;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function mn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nr(e,t,s){if(!t)return e;const a=s&&s.encode||mn;h.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(n?o=n(t,s):o=h.isURLSearchParams(t)?t.toString():new vt(t,s).toString(a),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Bt{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Sr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hn=typeof URLSearchParams<"u"?URLSearchParams:vt,fn=typeof FormData<"u"?FormData:null,pn=typeof Blob<"u"?Blob:null,xn={isBrowser:!0,classes:{URLSearchParams:hn,FormData:fn,Blob:pn},protocols:["http","https","file","blob","url","data"]},jt=typeof window<"u"&&typeof document<"u",ht=typeof navigator=="object"&&navigator||void 0,gn=jt&&(!ht||["ReactNative","NativeScript","NS"].indexOf(ht.product)<0),yn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bn=jt&&window.location.href||"http://localhost",vn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserEnv:gn,hasStandardBrowserWebWorkerEnv:yn,navigator:ht,origin:bn},Symbol.toStringTag,{value:"Module"})),O={...vn,...xn};function jn(e,t){return We(e,new O.classes.URLSearchParams,{visitor:function(s,a,n,o){return O.isNode&&h.isBuffer(s)?(this.append(a,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function wn(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nn(e){const t={},s=Object.keys(e);let a;const n=s.length;let o;for(a=0;a<n;a++)o=s[a],t[o]=e[o];return t}function kr(e){function t(s,a,n,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),m=o>=s.length;return i=!i&&h.isArray(n)?n.length:i,m?(h.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!l):((!n[i]||!h.isObject(n[i]))&&(n[i]=[]),t(s,a,n[i],o)&&h.isArray(n[i])&&(n[i]=Nn(n[i])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const s={};return h.forEachEntry(e,(a,n)=>{t(wn(a),n,s,0)}),s}return null}function Sn(e,t,s){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const be={transitional:Sr,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,o=h.isObject(t);if(o&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return n?JSON.stringify(kr(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return jn(t,this.formSerializer).toString();if((l=h.isFileList(t))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return We(l?{"files[]":t}:t,m&&new m,this.formSerializer)}}return o||n?(s.setContentType("application/json",!1),Sn(t)):t}],transformResponse:[function(t){const s=this.transitional||be.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(a&&!this.responseType||n)){const i=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:O.classes.FormData,Blob:O.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{be.headers[e]={}});const kn=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_n=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!s||t[s]&&kn[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},Wt=Symbol("internals");function de(e){return e&&String(e).trim().toLowerCase()}function Ae(e){return e===!1||e==null?e:h.isArray(e)?e.map(Ae):String(e)}function Tn(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const En=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rt(e,t,s,a,n){if(h.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!h.isString(t)){if(h.isString(a))return t.indexOf(a)!==-1;if(h.isRegExp(a))return a.test(t)}}function Cn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function Rn(e,t){const s=h.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,o,i){return this[a].call(this,t,n,o,i)},configurable:!0})})}let $=class{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function o(l,m,c){const d=de(m);if(!d)throw new Error("header name must be a non-empty string");const u=h.findKey(n,d);(!u||n[u]===void 0||c===!0||c===void 0&&n[u]!==!1)&&(n[u||m]=Ae(l))}const i=(l,m)=>h.forEach(l,(c,d)=>o(c,d,m));if(h.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(h.isString(t)&&(t=t.trim())&&!En(t))i(_n(t),s);else if(h.isObject(t)&&h.isIterable(t)){let l={},m,c;for(const d of t){if(!h.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(m=l[c])?h.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}i(l,s)}else t!=null&&o(s,t,a);return this}get(t,s){if(t=de(t),t){const a=h.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return Tn(n);if(h.isFunction(s))return s.call(this,n,a);if(h.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=de(t),t){const a=h.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||rt(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function o(i){if(i=de(i),i){const l=h.findKey(a,i);l&&(!s||rt(a,a[l],l,s))&&(delete a[l],n=!0)}}return h.isArray(t)?t.forEach(o):o(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const o=s[a];(!t||rt(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const s=this,a={};return h.forEach(this,(n,o)=>{const i=h.findKey(a,o);if(i){s[i]=Ae(n),delete s[o];return}const l=t?Cn(o):String(o).trim();l!==o&&delete s[o],s[l]=Ae(n),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return h.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&h.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[Wt]=this[Wt]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=de(i);a[l]||(Rn(n,i),a[l]=!0)}return h.isArray(t)?t.forEach(o):o(t),this}};$.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors($.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});h.freezeMethods($);function st(e,t){const s=this||be,a=t||s,n=$.from(a.headers);let o=a.data;return h.forEach(e,function(l){o=l.call(s,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function _r(e){return!!(e&&e.__CANCEL__)}function le(e,t,s){S.call(this,e??"canceled",S.ERR_CANCELED,t,s),this.name="CanceledError"}h.inherits(le,S,{__CANCEL__:!0});function Tr(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new S("Request failed with status code "+s.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function An(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function In(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,o=0,i;return t=t!==void 0?t:1e3,function(m){const c=Date.now(),d=a[o];i||(i=c),s[n]=m,a[n]=c;let u=o,f=0;for(;u!==n;)f+=s[u++],u=u%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),c-i<t)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function On(e,t){let s=0,a=1e3/t,n,o;const i=(c,d=Date.now())=>{s=d,n=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const d=Date.now(),u=d-s;u>=a?i(c,d):(n=c,o||(o=setTimeout(()=>{o=null,i(n)},a-u)))},()=>n&&i(n)]}const Pe=(e,t,s=3)=>{let a=0;const n=In(50,250);return On(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,m=i-a,c=n(m),d=i<=l;a=i;const u={loaded:i,total:l,progress:l?i/l:void 0,bytes:m,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},s)},qt=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},zt=e=>(...t)=>h.asap(()=>e(...t)),Mn=O.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,O.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(O.origin),O.navigator&&/(msie|trident)/i.test(O.navigator.userAgent)):()=>!0,Pn=O.hasStandardBrowserEnv?{write(e,t,s,a,n,o){const i=[e+"="+encodeURIComponent(t)];h.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),h.isString(a)&&i.push("path="+a),h.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $n(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Er(e,t,s){let a=!Dn(t);return e&&(a||s==!1)?$n(e,t):t}const Ht=e=>e instanceof $?{...e}:e;function se(e,t){t=t||{};const s={};function a(c,d,u,f){return h.isPlainObject(c)&&h.isPlainObject(d)?h.merge.call({caseless:f},c,d):h.isPlainObject(d)?h.merge({},d):h.isArray(d)?d.slice():d}function n(c,d,u,f){if(h.isUndefined(d)){if(!h.isUndefined(c))return a(void 0,c,u,f)}else return a(c,d,u,f)}function o(c,d){if(!h.isUndefined(d))return a(void 0,d)}function i(c,d){if(h.isUndefined(d)){if(!h.isUndefined(c))return a(void 0,c)}else return a(void 0,d)}function l(c,d,u){if(u in t)return a(c,d);if(u in e)return a(void 0,c)}const m={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,u)=>n(Ht(c),Ht(d),u,!0)};return h.forEach(Object.keys({...e,...t}),function(d){const u=m[d]||n,f=u(e[d],t[d],d);h.isUndefined(f)&&u!==l||(s[d]=f)}),s}const Cr=e=>{const t=se({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=$.from(i),t.url=Nr(Er(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let m;if(h.isFormData(s)){if(O.hasStandardBrowserEnv||O.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((m=i.getContentType())!==!1){const[c,...d]=m?m.split(";").map(u=>u.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...d].join("; "))}}if(O.hasStandardBrowserEnv&&(a&&h.isFunction(a)&&(a=a(t)),a||a!==!1&&Mn(t.url))){const c=n&&o&&Pn.read(o);c&&i.set(n,c)}return t},Ln=typeof XMLHttpRequest<"u",Fn=Ln&&function(e){return new Promise(function(s,a){const n=Cr(e);let o=n.data;const i=$.from(n.headers).normalize();let{responseType:l,onUploadProgress:m,onDownloadProgress:c}=n,d,u,f,p,x;function g(){p&&p(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function j(){if(!y)return;const w=$.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};Tr(function(A){s(A),g()},function(A){a(A),g()},T),y=null}"onloadend"in y?y.onloadend=j:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(j)},y.onabort=function(){y&&(a(new S("Request aborted",S.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new S("Network Error",S.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||Sr;n.timeoutErrorMessage&&(C=n.timeoutErrorMessage),a(new S(C,T.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&h.forEach(i.toJSON(),function(C,T){y.setRequestHeader(T,C)}),h.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),l&&l!=="json"&&(y.responseType=n.responseType),c&&([f,x]=Pe(c,!0),y.addEventListener("progress",f)),m&&y.upload&&([u,p]=Pe(m),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(d=w=>{y&&(a(!w||w.type?new le(null,e,y):w),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const N=An(n.url);if(N&&O.protocols.indexOf(N)===-1){a(new S("Unsupported protocol "+N+":",S.ERR_BAD_REQUEST,e));return}y.send(o||null)})},Un=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const o=function(c){if(!n){n=!0,l();const d=c instanceof Error?c:this.reason;a.abort(d instanceof S?d:new le(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:m}=a;return m.unsubscribe=()=>h.asap(l),m}},Bn=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},Wn=async function*(e,t){for await(const s of qn(e))yield*Bn(s,t)},qn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},Vt=(e,t,s,a)=>{const n=Wn(e,t);let o=0,i,l=m=>{i||(i=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:c,value:d}=await n.next();if(c){l(),m.close();return}let u=d.byteLength;if(s){let f=o+=u;s(f)}m.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(m){return l(m),n.return()}},{highWaterMark:2})},qe=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rr=qe&&typeof ReadableStream=="function",zn=qe&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ar=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Hn=Rr&&Ar(()=>{let e=!1;const t=new Request(O.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Jt=64*1024,ft=Rr&&Ar(()=>h.isReadableStream(new Response("").body)),De={stream:ft&&(e=>e.body)};qe&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!De[t]&&(De[t]=h.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new S(`Response type '${t}' is not supported`,S.ERR_NOT_SUPPORT,a)})})})(new Response);const Vn=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(O.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await zn(e)).byteLength},Jn=async(e,t)=>{const s=h.toFiniteNumber(e.getContentLength());return s??Vn(t)},Zn=qe&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:m,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:f}=Cr(e);c=c?(c+"").toLowerCase():"text";let p=Un([n,o&&o.toAbortSignal()],i),x;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(m&&Hn&&s!=="get"&&s!=="head"&&(y=await Jn(d,a))!==0){let T=new Request(t,{method:"POST",body:a,duplex:"half"}),R;if(h.isFormData(a)&&(R=T.headers.get("content-type"))&&d.setContentType(R),T.body){const[A,V]=qt(y,Pe(zt(m)));a=Vt(T.body,Jt,A,V)}}h.isString(u)||(u=u?"include":"omit");const j="credentials"in Request.prototype;x=new Request(t,{...f,signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:j?u:void 0});let N=await fetch(x,f);const w=ft&&(c==="stream"||c==="response");if(ft&&(l||w&&g)){const T={};["status","statusText","headers"].forEach(ve=>{T[ve]=N[ve]});const R=h.toFiniteNumber(N.headers.get("content-length")),[A,V]=l&&qt(R,Pe(zt(l),!0))||[];N=new Response(Vt(N.body,Jt,A,()=>{V&&V(),g&&g()}),T)}c=c||"text";let C=await De[h.findKey(De,c)||"text"](N,e);return!w&&g&&g(),await new Promise((T,R)=>{Tr(T,R,{data:C,headers:$.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:x})})}catch(j){throw g&&g(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,e,x),{cause:j.cause||j}):S.from(j,j&&j.code,e,x)}}),pt={http:cn,xhr:Fn,fetch:Zn};h.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zt=e=>`- ${e}`,Gn=e=>h.isFunction(e)||e===null||e===!1,Ir={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let o=0;o<t;o++){s=e[o];let i;if(a=s,!Gn(s)&&(a=pt[(i=String(s)).toLowerCase()],a===void 0))throw new S(`Unknown adapter '${i}'`);if(a)break;n[i||"#"+o]=a}if(!a){const o=Object.entries(n).map(([l,m])=>`adapter ${l} `+(m===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Zt).join(`
`):" "+Zt(o[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a},adapters:pt};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new le(null,e)}function Gt(e){return at(e),e.headers=$.from(e.headers),e.data=st.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ir.getAdapter(e.adapter||be.adapter)(e).then(function(a){return at(e),a.data=st.call(e,e.transformResponse,a),a.headers=$.from(a.headers),a},function(a){return _r(a)||(at(e),a&&a.response&&(a.response.data=st.call(e,e.transformResponse,a.response),a.response.headers=$.from(a.response.headers))),Promise.reject(a)})}const Or="1.11.0",ze={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ze[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Kt={};ze.transitional=function(t,s,a){function n(o,i){return"[Axios v"+Or+"] Transitional option '"+o+"'"+i+(a?". "+a:"")}return(o,i,l)=>{if(t===!1)throw new S(n(i," has been removed"+(s?" in "+s:"")),S.ERR_DEPRECATED);return s&&!Kt[i]&&(Kt[i]=!0,console.warn(n(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};ze.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Kn(e,t,s){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const o=a[n],i=t[o];if(i){const l=e[o],m=l===void 0||i(l,o,e);if(m!==!0)throw new S("option "+o+" must be "+m,S.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new S("Unknown option "+o,S.ERR_BAD_OPTION)}}const Ie={assertOptions:Kn,validators:ze},q=Ie.validators;let re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Bt,response:new Bt}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=se(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:o}=s;a!==void 0&&Ie.assertOptions(a,{silentJSONParsing:q.transitional(q.boolean),forcedJSONParsing:q.transitional(q.boolean),clarifyTimeoutError:q.transitional(q.boolean)},!1),n!=null&&(h.isFunction(n)?s.paramsSerializer={serialize:n}:Ie.assertOptions(n,{encode:q.function,serialize:q.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ie.assertOptions(s,{baseUrl:q.spelling("baseURL"),withXsrfToken:q.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&h.merge(o.common,o[s.method]);o&&h.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),s.headers=$.concat(i,o);const l=[];let m=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(m=m&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,u=0,f;if(!m){const x=[Gt.bind(this),void 0];for(x.unshift(...l),x.push(...c),f=x.length,d=Promise.resolve(s);u<f;)d=d.then(x[u++],x[u++]);return d}f=l.length;let p=s;for(u=0;u<f;){const x=l[u++],g=l[u++];try{p=x(p)}catch(y){g.call(this,y);break}}try{d=Gt.call(this,p)}catch(x){return Promise.reject(x)}for(u=0,f=c.length;u<f;)d=d.then(c[u++],c[u++]);return d}getUri(t){t=se(this.defaults,t);const s=Er(t.baseURL,t.url,t.allowAbsoluteUrls);return Nr(s,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){re.prototype[t]=function(s,a){return this.request(se(a||{},{method:t,url:s,data:(a||{}).data}))}});h.forEach(["post","put","patch"],function(t){function s(a){return function(o,i,l){return this.request(se(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}re.prototype[t]=s(),re.prototype[t+"Form"]=s(!0)});let Xn=class Mr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{a.subscribe(l),o=l}).then(n);return i.cancel=function(){a.unsubscribe(o)},i},t(function(o,i,l){a.reason||(a.reason=new le(o,i,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Mr(function(n){t=n}),cancel:t}}};function Qn(e){return function(s){return e.apply(null,s)}}function Yn(e){return h.isObject(e)&&e.isAxiosError===!0}const xt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xt).forEach(([e,t])=>{xt[t]=e});function Pr(e){const t=new re(e),s=ur(re.prototype.request,t);return h.extend(s,re.prototype,t,{allOwnKeys:!0}),h.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Pr(se(e,n))},s}const E=Pr(be);E.Axios=re;E.CanceledError=le;E.CancelToken=Xn;E.isCancel=_r;E.VERSION=Or;E.toFormData=We;E.AxiosError=S;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=Qn;E.isAxiosError=Yn;E.mergeConfig=se;E.AxiosHeaders=$;E.formToJSON=e=>kr(h.isHTMLForm(e)?new FormData(e):e);E.getAdapter=Ir.getAdapter;E.HttpStatusCode=xt;E.default=E;const{Axios:bo,AxiosError:vo,CanceledError:jo,isCancel:wo,CancelToken:No,VERSION:So,all:ko,Cancel:_o,isAxiosError:To,spread:Eo,toFormData:Co,AxiosHeaders:Ro,HttpStatusCode:Ao,formToJSON:Io,getAdapter:Oo,mergeConfig:Mo}=E,Dr={},$r=Dr?.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",_=E.create({baseURL:$r,timeout:1e4,headers:{"Content-Type":"application/json"}}),wt=E.create({baseURL:$r,timeout:18e4,headers:{"Content-Type":"application/json"}}),Lr=e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},Fr=e=>Promise.reject(e),Ur=e=>e,Br=e=>{const t=e.response?.data?.detail||e.message||"An error occurred";return e.response?.status===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(e.response?.status>=500?k.error(`Server error: ${t}`):e.response?.status>=400?k.error(t):e.code==="NETWORK_ERROR"&&k.error("ðŸ´â€â˜ ï¸ Network error - check your connection!"),Promise.reject(e))};_.interceptors.request.use(Lr,Fr);_.interceptors.response.use(Ur,Br);wt.interceptors.request.use(Lr,Fr);wt.interceptors.response.use(Ur,Br);const z={getNowPlaying:(e="main")=>_.get("/now",{params:{station:e}}),getHistory:(e=20,t=0,s="main")=>_.get("/now/history",{params:{limit:e,offset:t,station:s}}),getNextUp:(e=1,t="main")=>_.get("/now/next",{params:{limit:e,station:t}}),getSettings:(e="main")=>_.get("/admin/settings",{params:{station:e}}),updateSettings:(e,t="main")=>_.post("/admin/settings",e,{params:{station:t}}),getStats:()=>_.get("/admin/stats"),getVoices:()=>_.get("/admin/voices"),getUsers:()=>_.get("/admin/users"),createUser:e=>_.post("/admin/users",e),updateUser:(e,t)=>_.put(`/admin/users/${e}`,t),deleteUser:e=>_.delete(`/admin/users/${e}`),deleteCommentary:e=>_.delete(`/admin/commentary/${e}`),resolveStaticUrl:e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=Dr?.VITE_API_URL;return t&&e.startsWith("/")?`${t.replace(/\/$/,"").replace(/\/(api)(\/v1)?$/i,"")}${e}`:e},skipTrack:()=>_.post("/liquidsoap/skip"),getTracks:()=>_.get("/tracks"),getStations:()=>_.get("/admin/stations"),createStation:e=>_.post("/stations",e)};function ei(){return fe({queryKey:["nowPlaying"],queryFn:()=>_.get("/now/").then(e=>e.data),refetchInterval:1e4,staleTime:5e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:3})}function ti(e=20,t=0){return fe({queryKey:["history",e,t],queryFn:()=>_.get(`/now/history?limit=${e}&offset=${t}`).then(s=>s.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function ri(){return fe({queryKey:["nextUp"],queryFn:()=>_.get("/now/next?limit=1").then(e=>e.data),refetchInterval:3e4,staleTime:15e3,retry:2})}const U=({className:e="",variant:t="rectangular",width:s="w-full",height:a="h-4",lines:n=1})=>{const o="animate-pulse bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 bg-[length:200%_100%]",i={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"};return t==="text"&&n>1?r.jsx("div",{className:`space-y-2 ${e}`,children:Array.from({length:n}).map((l,m)=>r.jsx("div",{className:`${o} ${i.text} ${s} ${a} ${m===n-1?"w-3/4":""}`,style:{animationDelay:`${m*.1}s`,animation:"pulse 1.5s ease-in-out infinite, shimmer 2s ease-in-out infinite"}},m))}):r.jsx("div",{className:`${o} ${i[t]} ${s} ${a} ${e}`,style:{animation:"pulse 1.5s ease-in-out infinite, shimmer 2s ease-in-out infinite"}})},si=()=>r.jsxs("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(U,{variant:"circular",width:"w-3",height:"h-3"}),r.jsx(U,{width:"w-64",height:"h-8"})]}),r.jsx(U,{width:"w-24",height:"h-6"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(U,{variant:"rectangular",className:"w-full max-w-sm mx-auto lg:max-w-none aspect-square"})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(U,{width:"w-full",height:"h-8"}),r.jsx(U,{width:"w-3/4",height:"h-6"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[r.jsx(U,{width:"w-20",height:"h-6"}),r.jsx(U,{width:"w-32",height:"h-4"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(U,{width:"w-12",height:"h-4"}),r.jsx(U,{width:"w-12",height:"h-4"})]}),r.jsx(U,{width:"w-full",height:"h-3"})]}),r.jsx("div",{className:"flex justify-center pt-4",children:r.jsx(U,{width:"w-32",height:"h-12"})})]})]})]}),ai=()=>{const{data:e,isLoading:t,error:s}=ei(),a=e?.track,n=e?.progress,o=a?.duration_sec??n?.total_seconds??0,[i,l]=ee.useState(n?.elapsed_seconds??0),[m,c]=ee.useState(!1);ee.useEffect(()=>{l(n?.elapsed_seconds??0)},[n?.elapsed_seconds,a?.id]),ee.useEffect(()=>{if(!a||!o)return;const p=setInterval(()=>{l(x=>{const g=x+1;return g>o?o:g})},1e3);return()=>clearInterval(p)},[a?.id,o]);const d=o?Math.max(0,o-i):0,u=async()=>{if(!m){c(!0);try{await z.skipTrack(),k.success("ðŸŽµ Track skipped!")}catch(p){console.error("Failed to skip track:",p),k.error("Failed to skip track")}finally{setTimeout(()=>c(!1),2e3)}}};if(t)return r.jsx(si,{});if(s||!a)return r.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ´â€â˜ ï¸ Radio Offline"}),r.jsx("p",{children:"No track currently playing"})]})})});const f=p=>{if(!p||isNaN(p))return"0:00";const x=Math.floor(p),g=Math.floor(x/60),y=x%60;return`${g}:${y.toString().padStart(2,"0")}`};return r.jsxs("section",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30","aria-label":"Now Playing",role:"main",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50","aria-label":"Live indicator",role:"status"}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"ðŸ´â€â˜ ï¸ Now Playing on Raido"})]}),r.jsx("div",{className:"text-sm text-pirate-300 bg-pirate-800/50 px-3 py-1 rounded-full","aria-label":"Stream status",children:"LIVE STREAM"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("figure",{className:"relative group",children:[r.jsxs("div",{className:"w-full max-w-sm mx-auto lg:max-w-none aspect-square rounded-2xl overflow-hidden shadow-2xl border-4 border-pirate-600/30",children:[a.artwork_url?r.jsx("img",{src:a.artwork_url,alt:`Album artwork for ${a.album} by ${a.artist}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:p=>{const x=p.target;x.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMzc0MTUxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iMTAwIiBmaWxsPSIjMjkyODMxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iNjAiIGZpbGw9IiM0MzQxNGEiLz4KPHJlY3QgeD0iMTQ1IiB5PSI4MCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI0U2RTZFNiIvPgo8L3N2Zz4K"}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-6xl",role:"img","aria-label":"Default music note icon",children:"ðŸŽµ"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/20 rounded-2xl"})]}),r.jsxs("figcaption",{className:"absolute bottom-4 left-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg p-3",children:[r.jsx("div",{className:"text-white text-sm font-medium truncate",children:a.album}),r.jsx("div",{className:"text-gray-300 text-xs",children:a.year})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white leading-tight",children:a.title}),r.jsxs("h3",{className:"text-lg sm:text-xl lg:text-2xl text-pirate-300 font-semibold",children:["by ",a.artist]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-gray-400",children:[r.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm w-fit","aria-label":`Genre: ${a.genre}`,children:["ðŸŽ¸ ",a.genre]}),r.jsxs("span",{className:"text-sm","aria-label":`Album: ${a.album}, Year: ${a.year}`,children:[a.album," â€¢ ",a.year]})]})]}),r.jsxs("div",{className:"space-y-3",role:"region","aria-label":"Track progress",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[r.jsx("span",{"aria-label":`Elapsed time: ${f(i)}`,children:f(i)}),r.jsxs("span",{"aria-label":`Remaining time: ${f(d)}`,children:["-",f(d)]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 shadow-inner",role:"progressbar","aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":o,"aria-label":`Track progress: ${f(i)} of ${f(o)}`,children:r.jsx("div",{className:"bg-gradient-to-r from-pirate-500 via-pirate-400 to-pirate-300 h-3 rounded-full shadow-lg relative overflow-hidden transition-all duration-1000",style:{width:`${o?Math.min(100,i/o*100):0}%`},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 animate-pulse"})})})]}),r.jsx("div",{className:"flex justify-center pt-4",children:r.jsx("button",{onClick:u,disabled:m,"aria-label":m?"Skipping track":"Skip to next track",className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pirate-400 focus:ring-opacity-50
                ${m?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pirate-600 to-pirate-500 text-white hover:from-pirate-700 hover:to-pirate-600 hover:scale-105 active:scale-95"}
              `,children:m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),r.jsx("span",{children:"Skipping..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{"aria-hidden":"true",children:"â­ï¸"}),r.jsx("span",{children:"Skip Track"})]})})})]})]})]})};function He({size:e="md",message:t="Loading...",fullScreen:s=!1}){const a={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},n=r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:`spinner ${a[e]}`}),t&&r.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return s?r.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:n}):n}const ni=()=>{const{data:e,isLoading:t,error:s}=ri();console.log("ComingUp nextUpData:",e),console.log("ComingUp isLoading:",t),console.log("ComingUp error:",s),console.log("ComingUp component is rendering!");const a=Array.isArray(e?.next_tracks)&&e.next_tracks.length>0,n=a?e.next_tracks.map(i=>{const l=i?.track??{},m=typeof l.duration_sec=="number"&&isFinite(l.duration_sec)&&l.duration_sec>0?l.duration_sec:0;return{id:typeof l.id=="number"?l.id:0,title:l.title||"Unknown",artist:l.artist||"Unknown Artist",album:l.album||"",year:typeof l.year=="number"?l.year:void 0,genre:l.genre||"Various",duration:m,artwork:l.artwork_url||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K",commentary:null}}):[],o=i=>{const l=typeof i=="number"?i:Number(i);if(!isFinite(l)||l<=0)return"0:00";const m=Math.floor(l),c=Math.floor(m/60),d=m%60;return`${c}:${d.toString().padStart(2,"0")}`};return t?r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(He,{message:"Loading upcoming tracks..."})})}):r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"ðŸŽµ Coming Up Next"}),r.jsx("div",{className:"text-sm text-gray-400 bg-gray-800/50 px-3 py-1 rounded-full",children:a?"Live Queue":"No Queue Data"})]}),n.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 opacity-30",children:"ðŸŽµ"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tracks"}),r.jsxs("p",{className:"text-sm",children:["Liquidsoap is not providing queue information.",r.jsx("br",{}),"Tracks are played dynamically from the music library."]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"bg-gradient-to-r from-pirate-800/40 to-gray-800/40 rounded-xl p-6 border border-pirate-600/20",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-lg flex-shrink-0 bg-gray-700",children:r.jsx("img",{src:n[0].artwork,alt:`${n[0].album||"Unknown Album"} by ${n[0].artist}`,className:"w-full h-full object-cover",onError:i=>{const l=i.target;l.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white truncate",children:n[0].title}),r.jsx("p",{className:"text-pirate-300 font-medium truncate",children:n[0].artist}),r.jsxs("p",{className:"text-gray-400 text-sm truncate",children:[n[0].album||"Unknown Album"," ",n[0].year&&`â€¢ ${n[0].year}`]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0 ml-4",children:[r.jsx("div",{children:o(n[0].duration)}),r.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded text-xs mt-1",children:n[0].genre||"Various"})]})]}),n[0].commentary&&r.jsx("div",{className:"bg-pirate-900/30 rounded-lg p-4 border border-pirate-600/20 mt-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-pirate-500 to-pirate-400 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white text-xs",children:"ðŸ¤–"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed",children:[r.jsx("strong",{className:"text-pirate-300",children:"AI DJ Preview:"})," ",n[0].commentary]})})]})})]})]})})}),n.length>1&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-300 flex items-center gap-2",children:[r.jsx("span",{className:"text-pirate-400",children:"ðŸ“‹"}),"Following Tracks"]}),n.slice(1).map((i,l)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20 hover:bg-gray-800/50 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-pirate-800 flex items-center justify-center text-pirate-300 font-bold text-sm flex-shrink-0",children:l+2}),r.jsx("div",{className:"w-12 h-12 rounded overflow-hidden shadow flex-shrink-0 bg-gray-700",children:r.jsx("img",{src:i.artwork,alt:`${i.album||"Unknown Album"} by ${i.artist}`,className:"w-full h-full object-cover",onError:m=>{const c=m.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjI0IiB5PSIyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNiI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-white font-medium truncate",children:i.title}),r.jsxs("div",{className:"text-gray-400 text-sm truncate",children:[i.artist," ",i.album&&`â€¢ ${i.album}`]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0",children:[r.jsx("div",{children:o(i.duration)}),r.jsx("div",{className:"text-xs text-gray-500",children:i.genre||"Various"})]})]},`${i.id??0}-${l}-${i.title}-${i.artist}`))]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{children:"AI Commentary generation active"})]}),r.jsx("div",{className:"text-pirate-300 font-medium",children:"Powered by Kokoro TTS"})]})})]})};function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function W(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function M(e){W(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var ii={};function oi(){return ii}function Xt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Oe(e,t){W(2,arguments);var s=M(e),a=M(t),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function li(e,t){W(2,arguments);var s=M(e),a=M(t),n=s.getFullYear()-a.getFullYear(),o=s.getMonth()-a.getMonth();return n*12+o}function ci(e,t){return W(2,arguments),M(e).getTime()-M(t).getTime()}var di={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ui="trunc";function mi(e){return di[ui]}function hi(e){W(1,arguments);var t=M(e);return t.setHours(23,59,59,999),t}function fi(e){W(1,arguments);var t=M(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function pi(e){W(1,arguments);var t=M(e);return hi(t).getTime()===fi(t).getTime()}function xi(e,t){W(2,arguments);var s=M(e),a=M(t),n=Oe(s,a),o=Math.abs(li(s,a)),i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*o);var l=Oe(s,a)===-n;pi(M(e))&&o===1&&Oe(e,a)===1&&(l=!1),i=n*(o-Number(l))}return i===0?0:i}function gi(e,t,s){W(2,arguments);var a=ci(e,t)/1e3;return mi()(a)}var yi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bi=function(t,s,a){var n,o=yi[t];return typeof o=="string"?n=o:s===1?n=o.one:n=o.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function nt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,a=e.formats[s]||e.formats[e.defaultWidth];return a}}var vi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ji={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ni={date:nt({formats:vi,defaultWidth:"full"}),time:nt({formats:ji,defaultWidth:"full"}),dateTime:nt({formats:wi,defaultWidth:"full"})},Si={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ki=function(t,s,a,n){return Si[t]};function ue(e){return function(t,s){var a=s!=null&&s.context?String(s.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=s!=null&&s.width?String(s.width):o;n=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,m=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[m]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(t):t;return n[c]}}var _i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ti={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ei={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ci={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ri={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ai={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ii=function(t,s){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Oi={ordinalNumber:Ii,era:ue({values:_i,defaultWidth:"wide"}),quarter:ue({values:Ti,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ue({values:Ei,defaultWidth:"wide"}),day:ue({values:Ci,defaultWidth:"wide"}),dayPeriod:ue({values:Ri,defaultWidth:"wide",formattingValues:Ai,defaultFormattingWidth:"wide"})};function me(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;var i=o[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(l)?Pi(l,function(u){return u.test(i)}):Mi(l,function(u){return u.test(i)}),c;c=e.valueCallback?e.valueCallback(m):m,c=s.valueCallback?s.valueCallback(c):c;var d=t.slice(i.length);return{value:c,rest:d}}}function Mi(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function Pi(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function Di(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;var l=t.slice(n.length);return{value:i,rest:l}}}var $i=/^(\d+)(th|st|nd|rd)?/i,Li=/\d+/i,Fi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ui={any:[/^b/i,/^(a|c)/i]},Bi={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wi={any:[/1/i,/2/i,/3/i,/4/i]},qi={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ji={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zi={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gi={ordinalNumber:Di({matchPattern:$i,parsePattern:Li,valueCallback:function(t){return parseInt(t,10)}}),era:me({matchPatterns:Fi,defaultMatchWidth:"wide",parsePatterns:Ui,defaultParseWidth:"any"}),quarter:me({matchPatterns:Bi,defaultMatchWidth:"wide",parsePatterns:Wi,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:me({matchPatterns:qi,defaultMatchWidth:"wide",parsePatterns:zi,defaultParseWidth:"any"}),day:me({matchPatterns:Hi,defaultMatchWidth:"wide",parsePatterns:Vi,defaultParseWidth:"any"}),dayPeriod:me({matchPatterns:Ji,defaultMatchWidth:"any",parsePatterns:Zi,defaultParseWidth:"any"})},Ki={code:"en-US",formatDistance:bi,formatLong:Ni,formatRelative:ki,localize:Oi,match:Gi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}function Xi(e){return Wr({},e)}var Qt=1440,Qi=2520,it=43200,Yi=86400;function eo(e,t,s){var a,n;W(2,arguments);var o=oi(),i=(a=(n=s?.locale)!==null&&n!==void 0?n:o.locale)!==null&&a!==void 0?a:Ki;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Oe(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var m=Wr(Xi(s),{addSuffix:!!s?.addSuffix,comparison:l}),c,d;l>0?(c=M(t),d=M(e)):(c=M(e),d=M(t));var u=gi(d,c),f=(Xt(d)-Xt(c))/1e3,p=Math.round((u-f)/60),x;if(p<2)return s!=null&&s.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,m):u<10?i.formatDistance("lessThanXSeconds",10,m):u<20?i.formatDistance("lessThanXSeconds",20,m):u<40?i.formatDistance("halfAMinute",0,m):u<60?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",1,m):p===0?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",p,m);if(p<45)return i.formatDistance("xMinutes",p,m);if(p<90)return i.formatDistance("aboutXHours",1,m);if(p<Qt){var g=Math.round(p/60);return i.formatDistance("aboutXHours",g,m)}else{if(p<Qi)return i.formatDistance("xDays",1,m);if(p<it){var y=Math.round(p/Qt);return i.formatDistance("xDays",y,m)}else if(p<Yi)return x=Math.round(p/it),i.formatDistance("aboutXMonths",x,m)}if(x=xi(d,c),x<12){var j=Math.round(p/it);return i.formatDistance("xMonths",j,m)}else{var N=x%12,w=Math.floor(x/12);return N<3?i.formatDistance("aboutXYears",w,m):N<9?i.formatDistance("overXYears",w,m):i.formatDistance("almostXYears",w+1,m)}}function to(e,t){return W(1,arguments),eo(e,Date.now(),t)}function Yt(){const{data:e,isLoading:t,error:s}=ti();if(console.log("PlayHistory debug:",{history:e,isLoading:t,error:s,tracks:e?.tracks?.length}),t)return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ge,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),r.jsx(He,{})]});if(s||!e)return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ge,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),r.jsx("div",{className:"text-center text-gray-400 py-8",children:r.jsx("p",{children:"Unable to load play history"})})]});const a=e.tracks||[];return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ge,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),a.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(cr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No tracks played yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Start the radio to see your play history!"})]}):r.jsx("div",{className:"space-y-4",children:a.map((n,o)=>r.jsx(ro,{item:n,isRecent:o<3},`${n.play.id}-${o}`))})]})}function ro({item:e,isRecent:t}){const s=e.track,a=e.play,n=e.commentary,o=new Date(a.started_at),i=to(o,{addSuffix:!0}),l=m=>{const c=Math.floor(m/60),d=Math.floor(m%60);return`${c}:${d.toString().padStart(2,"0")}`};return r.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg transition-all ${t?"bg-primary-900 bg-opacity-20 border border-primary-800":"bg-gray-800 bg-opacity-50 hover:bg-opacity-80"}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pirate-600 to-pirate-800 rounded-md flex items-center justify-center overflow-hidden",children:s.artwork_url?r.jsx("img",{src:s.artwork_url,alt:`${s.title} artwork`,className:"w-full h-full object-cover"}):r.jsx(cr,{className:"w-6 h-6 text-pirate-300"})})}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-grow",children:[r.jsx("h3",{className:"font-semibold text-white truncate",children:s.title}),r.jsx("p",{className:"text-gray-300 text-sm truncate",children:s.artist}),s.album&&r.jsxs("p",{className:"text-gray-400 text-xs truncate",children:[s.album,s.year&&` â€¢ ${s.year}`]})]}),r.jsxs("div",{className:"flex-shrink-0 text-right ml-4",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:i}),s.duration_sec&&r.jsx("div",{className:"text-xs text-gray-500",children:l(s.duration_sec)})]})]}),n&&r.jsx("div",{className:"mt-3 p-3 bg-gray-900 bg-opacity-50 rounded-md border border-gray-600",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Xs,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-grow",children:[r.jsx("p",{className:"text-sm text-gray-300",children:n.text}),n.audio_url&&r.jsx("div",{className:"mt-2",children:r.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[r.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]})}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.slice(0,3).map((m,c)=>r.jsx("span",{className:"inline-block bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:m},c))})]}),r.jsx("div",{className:"flex-shrink-0",children:a.was_skipped?r.jsx("div",{className:"text-orange-400 text-xs",children:"Skipped"}):r.jsx(Qs,{className:"w-4 h-4 text-green-400"})})]})}const so=({settings:e,testText:t,setTestText:s})=>{const[a,n]=b.useState(!1),[o,i]=b.useState(null),l=async()=>{if(e){n(!0),i(null);try{const d=e.dj_voice_provider||"kokoro";let u="/admin/tts-test",f={text:t};switch(d){case"openai_tts":u="/admin/tts-test-openai",f.voice=e.openai_tts_voice||"onyx",f.model=e.openai_tts_model||"tts-1";break;case"chatterbox":u="/admin/tts-test-chatterbox",f.voice=e.chatterbox_voice||"default",f.exaggeration=e.chatterbox_exaggeration,f.cfg_weight=e.chatterbox_cfg_weight;break;case"xtts":u="/admin/tts-test-xtts",f.voice=e.xtts_voice||"coqui-tts:en_ljspeech",f.speaker=e.xtts_speaker;break;default:f.voice=e.kokoro_voice||"af_bella",f.speed=e.kokoro_speed,f.volume=e.dj_tts_volume;break}const p=await wt.post(u,f),x=z.resolveStaticUrl(p.data?.audio_url);x&&(i(x),k.success(`${d.toUpperCase()} voice test generated!`))}catch(d){const u=d?.response?.data?.detail||"Voice test failed";k.error(u)}finally{n(!1)}}},m=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return e?.openai_tts_voice||"onyx";case"chatterbox":return e?.chatterbox_voice||"default";case"xtts":return e?.xtts_voice||"coqui-tts:en_ljspeech";default:return e?.kokoro_voice||"af_bella"}},c=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return"OpenAI TTS";case"chatterbox":return"Chatterbox";case"xtts":return"XTTS";default:return"Kokoro"}};return r.jsxs("div",{className:"bg-gradient-to-br from-pirate-800/30 to-pirate-900/30 rounded-xl p-6 border border-pirate-600/20",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸŽ¤ Voice Testing"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),r.jsx("input",{type:"text",value:t,onChange:d=>s(d.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",placeholder:"Enter text to test the voice..."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:l,disabled:a||!e,className:`px-4 py-2 rounded-lg text-white font-medium ${a?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin inline-block mr-2",children:"â³"}),"Testing..."]}):`Test ${c()} Voice`}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Voice: ",r.jsx("span",{className:"text-white",children:m()})]})]}),o&&r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Generated Audio:"}),r.jsxs("audio",{controls:!0,className:"w-full h-8",children:[r.jsx("source",{src:o,type:"audio/mpeg"}),"Your browser does not support audio playback."]})]})]})]})},ao=({settings:e,setSettings:t})=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"âš™ï¸ General Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:e.dj_provider||"templates",onChange:s=>t({...e,dj_provider:s.target.value}),children:[r.jsx("option",{value:"ollama",children:"Ollama"}),r.jsx("option",{value:"openai",children:"OpenAI"}),r.jsx("option",{value:"templates",children:"Templates"}),r.jsx("option",{value:"disabled",children:"Disabled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:s=>t({...e,dj_max_seconds:parseInt(s.target.value||"0",10)}),className:"flex-1"}),r.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:s=>t({...e,dj_max_seconds:parseInt(s.target.value||"0",10)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]})]}),no=({settings:e,setSettings:t,voices:s,chatterboxVoices:a})=>{const n=e?.dj_voice_provider||"kokoro",o=()=>{switch(n){case"openai_tts":return["alloy","echo","fable","onyx","nova","shimmer"];case"chatterbox":{const c=a.length?a:["default"],d=e?.chatterbox_voice;return d&&!c.includes(d)?[d,...c]:c}case"xtts":return s.length?s:[];default:return s.length?s:["af_bella","af_sarah","af_sky","am_onyx","am_michael","am_ryan","bf_ava","bf_sophie","bm_george","bm_james"]}},i=c=>n==="chatterbox"?c.replace(/^custom-/,"").split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):c,l=()=>{switch(n){case"openai_tts":return"openai_tts_voice";case"chatterbox":return"chatterbox_voice";case"xtts":return"xtts_voice";default:return"kokoro_voice"}},m=()=>{const c=l();return e[c]||o()[0]||""};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸ”Š Voice & TTS Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:n,onChange:c=>t({...e,dj_voice_provider:c.target.value}),children:[r.jsx("option",{value:"kokoro",children:"Kokoro TTS"}),r.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),r.jsx("option",{value:"chatterbox",children:"Chatterbox"}),r.jsx("option",{value:"xtts",children:"XTTS"}),r.jsx("option",{value:"liquidsoap",children:"Liquidsoap"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:n==="openai_tts"?"OpenAI Voice":n==="chatterbox"?"Chatterbox Voice":n==="xtts"?"XTTS Voice":"Kokoro Voice"}),r.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m(),onChange:c=>{const d=l();t({...e,[d]:c.target.value})},children:o().map(c=>r.jsx("option",{value:c,children:i(c)},c))})]}),n==="kokoro"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:c=>t({...e,kokoro_speed:parseFloat(c.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:c=>t({...e,kokoro_speed:parseFloat(c.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Volume"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:c=>t({...e,dj_tts_volume:parseFloat(c.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:c=>t({...e,dj_tts_volume:parseFloat(c.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]}),n==="chatterbox"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Custom Voice (optional)"}),r.jsx("input",{type:"text",placeholder:"e.g., brian",value:e.chatterbox_voice||"",onChange:c=>t({...e,chatterbox_voice:c.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"If your Chatterbox server supports named voices, enter it here."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox Voices API URL"}),r.jsx("input",{type:"text",placeholder:"http://192.168.1.170:8080/api/voices",value:e.chatterbox_voices_url||"",onChange:c=>t({...e,chatterbox_voices_url:c.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Used for listing voices only. TTS generation uses the configured Chatterbox base URL."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Volume"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:c=>t({...e,dj_tts_volume:parseFloat(c.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:c=>t({...e,dj_tts_volume:parseFloat(c.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Exaggeration"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.25,max:2,step:.05,value:Number(e.chatterbox_exaggeration??1),onChange:c=>t({...e,chatterbox_exaggeration:parseFloat(c.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.25,max:2,step:.05,value:Number(e.chatterbox_exaggeration??1),onChange:c=>t({...e,chatterbox_exaggeration:parseFloat(c.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"CFG Weight"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:1,step:.05,value:Number(e.chatterbox_cfg_weight??.5),onChange:c=>t({...e,chatterbox_cfg_weight:parseFloat(c.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:0,max:1,step:.05,value:Number(e.chatterbox_cfg_weight??.5),onChange:c=>t({...e,chatterbox_cfg_weight:parseFloat(c.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]})]})]})},io=({settings:e,setSettings:t,ollamaModels:s})=>{e?.dj_provider;const a=e?.dj_model||e?.ollama_model||"llama3.2:1b";return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸ¤– AI Model Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),r.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:a,onChange:n=>t({...e,dj_model:n.target.value,ollama_model:n.target.value}),children:s.length>0?s.map(n=>r.jsx("option",{value:n,children:n},n)):r.jsxs("option",{value:a,children:[a," (server offline)"]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Temperature"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:n=>t({...e,dj_temperature:parseFloat(n.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:n=>t({...e,dj_temperature:parseFloat(n.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Prompt Template (Ollama/OpenAI)"}),r.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm min-h-[160px]",placeholder:"You're a pirate radio DJ introducing the NEXT song... Use {{song_title}}, {{artist}}, {{album}}, {{year}}.",value:e.dj_prompt_template??"",onChange:n=>t({...e,dj_prompt_template:n.target.value})}),r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Used when provider is Ollama or OpenAI. Supports Jinja variables like ","{{song_title}}",", ","{{artist}}",", ","{{album}}",", ","{{year}}","."]})]})})]})},oo=()=>{const[t,s]=b.useState(!1),[a,n]=b.useState([]),[o,i]=b.useState([]),[l,m]=b.useState([]),[c,d]=b.useState("Welcome to Raido FM! This voice sounds crisp and clear for our pirate radio commentary."),[u,f]=b.useState(null),[p,x]=b.useState(null),[g,y]=b.useState(null),[j,N]=b.useState(!0),[w,C]=b.useState(!0),[T,R]=b.useState({interval:1,tracksSince:0,nextTrack:null});b.useEffect(()=>{z.getSettings().then(v=>{f(v.data),x(v.data)}).catch(()=>y("Failed to load settings"))},[]),b.useEffect(()=>{u&&(async()=>{try{const I=Number(u?.dj_commentary_interval??1),Tt=(await z.getHistory(I+1,0)).data?.tracks||[];let Je=0;for(const Gr of Tt){if(Gr?.commentary)break;Je+=1}const Se=(await z.getNextUp(1)).data?.next_tracks?.[0]?.track||null;R({interval:I,tracksSince:Je,nextTrack:Se?{id:Se.id,title:Se.title,artist:Se.artist}:null})}catch{}})()},[u?.dj_commentary_interval,u?.enable_commentary,u?.dj_provider]),b.useEffect(()=>{const v=u?.dj_voice_provider||"kokoro";(async()=>{try{if(v==="xtts"){const L=await _.get("/admin/voices-xtts");n(L.data?.voices||[])}else if(v==="chatterbox"){const L=await _.get("/admin/voices-chatterbox");i(L.data?.voices||[])}else{const L=await _.get("/admin/voices");n(L.data?.voices||[])}}catch{n([]),i([])}})()},[u?.dj_voice_provider,u?.chatterbox_voices_url]),b.useEffect(()=>{(async()=>{try{const I=await _.get("/admin/ollama-models");m(I.data?.models||[])}catch{m([])}})()},[u?.dj_provider]);const A=!!(u&&p&&JSON.stringify(u)!==JSON.stringify(p)),V=async()=>{if(u){s(!0),y(null);try{await z.updateSettings(u),k.success("Settings saved successfully! ðŸŽ›ï¸"),x(u)}catch(v){const I=v?.response?.data?.detail||"Failed to save settings";y(I),k.error(`Save failed: ${I}`)}finally{s(!1)}}},ve=v=>v.replace(/<[^>]*>/g,""),qr=(v,I)=>{if(!v)return`tts-commentary-${I}.mp3`;const L=v.split("/").filter(Boolean);return(L[L.length-1]||"").split("?")[0].replace(/[^a-zA-Z0-9._-]/g,"_")||`tts-commentary-${I}.mp3`},[ae,Nt]=b.useState(0),je=20,{data:F,isLoading:zr,error:Hr,refetch:St}=fe({queryKey:["ttsStatus","main",ae],queryFn:()=>_.get("/admin/tts-status",{params:{station:"main",window_hours:24,limit:je,offset:ae*je}}).then(v=>v.data),refetchInterval:3e4,staleTime:1e4,keepPreviousData:!0}),we=v=>v?v<1e3?`${v}ms`:`${(v/1e3).toFixed(1)}s`:"N/A",Vr=async v=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await z.deleteCommentary(v),St()}catch(I){console.error("Failed to delete commentary:",I)}},Ne=v=>{switch(v){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},ce=v=>{switch(v){case"running":return"ðŸŸ¢";case"stopped":return"ðŸ”´";case"warning":return"ðŸŸ¡";default:return"âšª"}},Jr=v=>{switch(v){case"running":return{container:"border-green-600/30 bg-green-900/20 text-green-200",badge:"border-green-500/40 bg-green-500/10 text-green-200"};case"warning":return{container:"border-yellow-600/30 bg-yellow-900/20 text-yellow-200",badge:"border-yellow-500/40 bg-yellow-500/10 text-yellow-200"};case"stopped":return{container:"border-red-600/30 bg-red-900/20 text-red-200",badge:"border-red-500/40 bg-red-500/10 text-red-200"};default:return{container:"border-gray-600/30 bg-gray-800/30 text-gray-200",badge:"border-gray-500/40 bg-gray-700/40 text-gray-200"}}};if(zr)return r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(He,{message:"Loading TTS monitoring data..."})})});if(Hr)return r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"âš ï¸ Error Loading TTS Status"}),r.jsx("p",{children:"Unable to fetch TTS monitoring data"}),r.jsx("button",{onClick:()=>St(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})});const ne=F?.statistics,Ve=F?.recent_activity||[],P=F?.system_status,Y=F?.chatterbox_health,ie=Y?.status||P?.chatterbox_tts||(Y?.detail?"unknown":void 0),kt=Jr(ie),_t=(()=>{if(!ie)return"";const v=Y?.detail?.trim();if(v)return v;switch(ie){case"running":return"Chatterbox TTS is responding normally.";case"warning":return"Chatterbox TTS responded but indicated an issue.";case"stopped":return"Unable to reach Chatterbox TTS. Check the shim container and network.";default:return"Chatterbox TTS status is unknown."}})();return r.jsxs("div",{className:"space-y-6",children:[ie&&r.jsx("div",{className:`rounded-2xl border shadow-2xl px-4 py-4 sm:px-6 ${kt.container}`,children:r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl","aria-hidden":!0,children:"ðŸ—£ï¸"}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Chatterbox Service"}),r.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold border ${kt.badge}`,children:[r.jsx("span",{children:ce(ie)}),r.jsx("span",{className:"capitalize",children:ie})]})]}),_t&&r.jsx("p",{className:"mt-1 text-sm text-gray-100",children:_t}),Y?.endpoint&&r.jsxs("p",{className:"mt-1 text-xs text-gray-300",children:["Endpoint: ",r.jsx("span",{className:"text-gray-100",children:Y.endpoint})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[r.jsx("span",{children:"Tip:"}),Y?.endpoint?r.jsxs("span",{className:"text-gray-100",children:["Run ",r.jsxs("code",{className:"bg-gray-800 px-1.5 py-0.5 rounded",children:["curl ",Y.endpoint,"/health"]})," from the host."]}):r.jsx("span",{className:"text-gray-100",children:"Set the Chatterbox base URL under Voice & TTS settings."})]})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("button",{onClick:()=>N(!j),className:"flex items-center gap-3 text-2xl font-bold text-white hover:text-pirate-400 transition-colors",children:[r.jsx("span",{className:`transform transition-transform ${j?"rotate-0":"rotate-90"}`,children:"â–¶"}),r.jsx("span",{children:"ðŸŽ›ï¸ DJ Settings"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[A&&r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"Unsaved changes"}),r.jsx("button",{onClick:V,disabled:!u||t||!A,className:`px-4 py-2 rounded-lg text-white font-medium ${t||!A?"bg-gray-700 cursor-not-allowed":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:t?"Savingâ€¦":"Save Settings"})]})]}),!j&&u&&r.jsx("div",{className:"mb-4",children:!u.enable_commentary||u.dj_provider==="disabled"?r.jsx("div",{className:"px-3 py-2 rounded border border-red-600/30 bg-red-900/20 text-red-300 text-sm",children:"Commentary is currently disabled. Enable it and pick a provider to resume generation."}):r.jsxs(r.Fragment,{children:[T.tracksSince<(T.interval||1)?r.jsxs("div",{className:"px-3 py-2 rounded border border-yellow-600/30 bg-yellow-900/20 text-yellow-200 text-sm",children:["Waiting for interval: ",T.tracksSince," of ",T.interval," tracks since last commentary. Generation will trigger once the interval is reached."]}):r.jsx("div",{className:"px-3 py-2 rounded border border-green-600/30 bg-green-900/20 text-green-200 text-sm",children:"Eligible to generate on the next cycle."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Tip: If the next-up track already had an intro in the last hour, deduplication may skip generating again. You can skip the current track or restart the DJ worker to force a new intro.",T.nextTrack&&r.jsxs("span",{className:"ml-2 text-gray-300",children:["Next up: ",T.nextTrack.artist," â€” ",T.nextTrack.title]})]})]})}),g&&!j&&r.jsx("div",{className:"text-red-400 text-sm mb-4 p-3 bg-red-900/20 rounded-lg border border-red-600/20",children:g}),!j&&u&&r.jsxs("div",{className:"space-y-8",children:[r.jsx(ao,{settings:u,setSettings:f}),r.jsx(no,{settings:u,setSettings:f,voices:a,chatterboxVoices:o}),u.dj_provider==="ollama"&&r.jsx(io,{settings:u,setSettings:f,ollamaModels:l}),r.jsx(so,{settings:u,testText:c,setTestText:d})]})]}),r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-4 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("button",{onClick:()=>C(!w),className:"flex items-center gap-3 text-xl font-bold text-white hover:text-pirate-400 transition-colors","aria-expanded":!w,children:[r.jsx("span",{className:`transform transition-transform ${w?"rotate-0":"rotate-90"}`,children:"â–¶"}),r.jsx("span",{children:"ðŸŽ™ï¸ TTS Monitoring Dashboard"})]})})}),!w&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl p-3 border border-green-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"âœ…"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-300",children:"Success Rate"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[ne?.success_rate||0,"%"]})]})]}),r.jsxs("p",{className:"text-sm text-green-400",children:[ne?.success_24h||0," of ",ne?.total_24h||0," in 24h"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl p-3 border border-blue-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"ðŸŽµ"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-300",children:"Total Generated"}),r.jsx("p",{className:"text-xl font-bold text-white",children:ne?.total_24h||0})]})]}),r.jsx("p",{className:"text-sm text-blue-400",children:"Last 24 hours"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 rounded-xl p-3 border border-purple-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"âš¡"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-300",children:"Avg Gen Time"}),r.jsx("p",{className:"text-xl font-bold text-white",children:we(ne?.avg_generation_time_ms||null)})]})]}),r.jsx("p",{className:"text-sm text-purple-400",children:"Generation speed"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 rounded-xl p-3 border border-orange-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-600 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"ðŸ”Š"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-orange-300",children:"Avg TTS Time"}),r.jsx("p",{className:"text-xl font-bold text-white",children:we(ne?.avg_tts_time_ms||null)})]})]}),r.jsx("p",{className:"text-sm text-orange-400",children:"Voice synthesis"})]})]}),P&&!w&&r.jsxs("div",{className:"bg-gray-900/60 border border-gray-800/60 rounded-xl p-3 shadow-inner",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-300",children:[r.jsx("span",{className:"text-sm",children:"âš™ï¸"}),"System Status"]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[r.jsx("span",{className:"text-base",children:ce(P.tts_service)}),r.jsx("span",{className:"text-gray-200",children:"TTS Service"}),r.jsx("span",{className:`font-semibold capitalize ${Ne(P.tts_service)}`,children:P.tts_service})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[r.jsx("span",{className:"text-base",children:ce(P.dj_worker)}),r.jsx("span",{className:"text-gray-200",children:"DJ Worker"}),r.jsx("span",{className:`font-semibold capitalize ${Ne(P.dj_worker)}`,children:P.dj_worker})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[r.jsx("span",{className:"text-base",children:ce(P.kokoro_tts)}),r.jsx("span",{className:"text-gray-200",children:"Kokoro TTS"}),r.jsx("span",{className:`font-semibold capitalize ${Ne(P.kokoro_tts)}`,children:P.kokoro_tts})]}),P.chatterbox_tts&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[r.jsx("span",{className:"text-base",children:ce(P.chatterbox_tts)}),r.jsx("span",{className:"text-gray-200",children:"Chatterbox"}),r.jsx("span",{className:`font-semibold capitalize ${Ne(P.chatterbox_tts)}`,children:P.chatterbox_tts})]})]})]}),!w&&r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-4 shadow-2xl border border-gray-700/50",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"ðŸ“‹"}),"Recent TTS Activity"]}),Ve.length===0?r.jsx("div",{className:"text-center text-gray-400 py-8",children:r.jsx("p",{children:"No recent TTS activity"})}):r.jsxs("div",{className:"space-y-2",children:[Ve.map(v=>{const I=z.resolveStaticUrl(v.audio_url),L=qr(v.audio_url,v.id);return r.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[v.status==="running"?r.jsx("span",{className:"mt-1.5 inline-block w-3 h-3 border-2 border-gray-400 border-t-transparent rounded-full animate-spin","aria-label":"Generating",title:"Generating"}):r.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${v.status==="ready"?"bg-green-400":v.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[r.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:v.transcript?v.transcript:ve(v.text)}),r.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-2 flex-wrap",children:[r.jsxs("span",{children:[v.provider," â€¢ ",v.voice_provider]}),v.voice_id?r.jsxs("span",{children:["â€¢ voice: ",v.voice_id]}):null,v.provider==="ollama"&&v.llm_mode==="nonstream"&&r.jsx("span",{className:"text-xxs px-2 py-0.5 rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"nonâ€‘streaming fallback"})]})]}),r.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[r.jsxs("div",{className:"text-right text-sm text-gray-400",children:[r.jsx("div",{children:new Date(v.created_at).toLocaleTimeString()}),(v.generation_time_ms||v.tts_time_ms)&&r.jsxs("div",{className:"text-xs",children:[v.generation_time_ms&&`Gen: ${we(v.generation_time_ms)}`,v.generation_time_ms&&v.tts_time_ms&&" â€¢ ",v.tts_time_ms&&`TTS: ${we(v.tts_time_ms)}`]})]}),r.jsx("button",{onClick:()=>Vr(v.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:r.jsx("span",{className:"text-sm",children:"ðŸ—‘ï¸"})})]})]}),I&&r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("audio",{controls:!0,className:"w-full h-6",preload:"metadata",children:[r.jsx("source",{src:I,type:"audio/mpeg"}),"Your browser does not support audio playback."]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-gray-400",children:[r.jsx("span",{className:"truncate",title:L,children:L}),r.jsxs("a",{href:I,download:L,className:"inline-flex items-center gap-1 text-sm text-pirate-300 hover:text-pirate-200",children:[r.jsx("span",{"aria-hidden":"true",children:"â¬‡ï¸"}),r.jsx("span",{children:"Download"})]})]})]})]})]},v.id)}),F?.pagination&&F.pagination.total>je&&r.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-gray-700/50",children:[r.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",F.pagination.offset+1,"-",Math.min(F.pagination.offset+Ve.length,F.pagination.total)," of ",F.pagination.total]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Nt(Math.max(0,ae-1)),disabled:ae===0,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-gray-300",children:["Page ",ae+1," of ",Math.ceil(F.pagination.total/je)]}),r.jsx("button",{onClick:()=>Nt(ae+1),disabled:!F.pagination.has_more,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Next"})]})]})]})]})]})},lo=()=>{const[e,t]=b.useState("7d"),[s,a]=b.useState(!1),[n,o]=b.useState(!1),{data:i,isLoading:l,error:m,refetch:c}=fe({queryKey:["analytics",e],queryFn:()=>_.get(`/admin/analytics?range=${e}`).then(f=>f.data),staleTime:3e4});if(l)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(He,{message:"Loading analytics data..."})})})});if(m)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"âš ï¸ Error Loading Analytics"}),r.jsx("p",{children:"Unable to fetch analytics data"}),r.jsx("button",{onClick:()=>c(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})})});const d=Math.max(...(i?.genre_breakdown||[]).map(f=>f.count)),u=i?.genre_breakdown?n?i.genre_breakdown:i.genre_breakdown.slice(0,25):[];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:"ðŸ“Š Raido Analytics"}),r.jsx("p",{className:"text-gray-300 mt-2",children:"Track insights and content analysis for your AI radio station"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-gray-300",children:"Time Range:"}),r.jsxs("select",{value:e,onChange:f=>t(f.target.value),className:"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",children:[r.jsx("option",{value:"1d",children:"Last 24 Hours"}),r.jsx("option",{value:"7d",children:"Last 7 Days"}),r.jsx("option",{value:"30d",children:"Last 30 Days"}),r.jsx("option",{value:"all",children:"All Time"})]})]})]}),i?.date_range&&r.jsxs("div",{className:"text-sm text-gray-400",children:["Data from ",new Date(i.date_range.start).toLocaleDateString()," to ",new Date(i.date_range.end).toLocaleDateString(),i.total_tracks&&r.jsxs("span",{className:"ml-4",children:["â€¢ ",i.total_tracks," tracks analyzed"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 text-2xl font-bold text-white hover:text-pirate-400 transition-colors",children:[r.jsx("span",{className:`transform transition-transform ${s?"rotate-0":"rotate-90"}`,children:"â–¶"}),r.jsx("span",{children:"ðŸŽµ Genre Breakdown"}),r.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",i?.genre_breakdown?.length||0," genres total)"]})]}),!s&&i?.genre_breakdown&&i.genre_breakdown.length>25&&r.jsx("button",{onClick:()=>o(!n),className:"px-3 py-1 text-sm bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:n?"Show Top 25":`Show All ${i.genre_breakdown.length}`})]}),!s&&(i?.genre_breakdown&&i.genre_breakdown.length>0?r.jsx("div",{className:"space-y-4",children:u.map((f,p)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-lg font-semibold text-white",children:["#",p+1]}),r.jsx("span",{className:"text-white font-medium",children:f.genre||"Unknown"})]}),r.jsxs("div",{className:"text-right text-sm text-gray-300",children:[r.jsxs("div",{children:[f.count," tracks (",f.percentage.toFixed(1),"%)"]}),f.avg_duration&&r.jsxs("div",{className:"text-xs",children:["Avg: ",Math.round(f.avg_duration/60),"m ",Math.round(f.avg_duration%60),"s"]})]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-pirate-500 to-pirate-400 transition-all duration-500",style:{width:`${f.count/d*100}%`}})})]},f.genre))}):r.jsxs("div",{className:"text-center py-12 text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ“­ No Genre Data Available"}),r.jsx("p",{children:"Start playing some music to see genre analytics!"})]}))]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"â˜ï¸ TTS Commentary Word Cloud"}),i?.word_cloud_data&&i.word_cloud_data.length>0?r.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gray-800/50 rounded-lg border border-gray-700",children:r.jsx("div",{className:"w-full p-6",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.word_cloud_data.slice(0,20).map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg border border-gray-600/50",children:[r.jsx("span",{className:"font-medium text-white",style:{fontSize:`${Math.max(.8,Math.min(1.5,f.count/10))}rem`},children:f.word}),r.jsx("span",{className:"text-sm text-gray-400",children:f.count})]},f.word))})})}):r.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gray-800/50 rounded-lg border border-gray-700",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ’¬ No Commentary Data"}),r.jsx("p",{children:"TTS commentary word analysis will appear here"})]})})]})]})})},co=()=>{const[e,t]=b.useState([]),[s,a]=b.useState({}),[n,o]=b.useState(()=>localStorage.getItem("selectedStation")||"main"),[i,l]=b.useState(!0),m=async()=>{try{const u=(await z.getStations()).data||[];t(u.filter(f=>f.is_active)),u.length>0&&o(u[0].identifier)}catch(d){console.error("Failed to load stations:",d),k.error("Failed to load stations")}finally{l(!1)}},c=b.useCallback(async()=>{if(e.length===0)return;const d={};for(const u of e)try{const p=(await z.getNowPlaying(u.identifier)).data;d[u.identifier]={station:u.identifier,now_playing:p?.track?{title:p.track.title,artist:p.track.artist,artwork_url:p.track.artwork_url}:null,is_playing:p?.is_playing||!1,stream_url:`/stream/${u.identifier==="main"?"raido":u.identifier}.mp3`,admin_url:u.identifier==="main"?"/raido/admin":`/${u.identifier}/admin`}}catch(f){console.error(`Failed to get status for ${u.identifier}:`,f)}a(d)},[e]);return b.useEffect(()=>{m()},[]),b.useEffect(()=>{localStorage.setItem("selectedStation",n)},[n]),b.useEffect(()=>{if(e.length>0){c();const d=setInterval(c,5e3);return()=>clearInterval(d)}},[e,c]),i?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-white",children:"Loading stations..."})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"ðŸŽµ Station Control Panel"}),r.jsx("p",{className:"text-gray-400",children:"Manage and monitor all radio stations"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(d=>{const u=s[d.identifier],f=n===d.identifier;return r.jsxs("div",{className:`
                  relative bg-gray-800 rounded-lg p-6 shadow-lg cursor-pointer
                  transition-all duration-200 hover:scale-105
                  ${f?"ring-4 ring-pirate-500":"hover:bg-gray-750"}
                `,onClick:()=>o(d.identifier),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:d.name}),d.description&&r.jsx("p",{className:"text-sm text-gray-400",children:d.description})]}),u?.is_playing&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),r.jsx("span",{className:"text-xs text-green-400 font-medium",children:"LIVE"})]})]}),u?.now_playing?r.jsxs("div",{className:"flex gap-3 mb-4",children:[u.now_playing.artwork_url?r.jsx("img",{src:u.now_playing.artwork_url,alt:"Album artwork",className:"w-16 h-16 rounded object-cover"}):r.jsx("div",{className:"w-16 h-16 rounded bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"ðŸŽµ"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-white font-medium truncate",children:u.now_playing.title}),r.jsx("div",{className:"text-gray-400 text-sm truncate",children:u.now_playing.artist})]})]}):r.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-500",children:[r.jsx("div",{className:"w-16 h-16 rounded bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"ðŸ”‡"})}),r.jsx("div",{children:"No track playing"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("a",{href:u?.stream_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-3 py-2 bg-pirate-500 hover:bg-pirate-600 text-white rounded text-sm font-medium text-center transition-colors",onClick:p=>p.stopPropagation(),children:"ðŸŽ§ Listen"}),r.jsx("a",{href:u?.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm font-medium text-center transition-colors",onClick:p=>p.stopPropagation(),children:"âš™ï¸ Admin"})]}),f&&r.jsx("div",{className:"absolute top-2 right-2 bg-pirate-500 text-white text-xs px-2 py-1 rounded",children:"Selected"})]},d.id)})}),n&&s[n]&&r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:[e.find(d=>d.identifier===n)?.name," - Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-750 rounded p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Status"}),r.jsx("div",{className:"text-white font-medium",children:s[n].is_playing?r.jsx("span",{className:"text-green-400",children:"â— Online"}):r.jsx("span",{className:"text-red-400",children:"â— Offline"})})]}),r.jsxs("div",{className:"bg-gray-750 rounded p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Stream URL"}),r.jsx("div",{className:"text-white font-mono text-sm truncate",children:s[n].stream_url})]}),r.jsxs("div",{className:"bg-gray-750 rounded p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Station ID"}),r.jsx("div",{className:"text-white font-mono text-sm",children:n})]})]}),r.jsxs("div",{className:"mt-4 flex gap-3",children:[r.jsx("button",{onClick:()=>window.open(`/api/v1/now/?station=${n}`,"_blank"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"ðŸ“Š View API"}),r.jsx("button",{onClick:()=>window.open(`/api/v1/admin/settings?station=${n}`,"_blank"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"âš™ï¸ View Settings"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(s[n].stream_url),k.success("Stream URL copied!")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"ðŸ“‹ Copy Stream URL"})]})]})]})})};function uo(){return r.jsx("div",{className:"min-h-screen",children:r.jsx(wa,{children:r.jsx(Ee,{children:r.jsxs(es,{children:[r.jsx(K,{path:"/",element:r.jsx(Et,{to:"/stations",replace:!0})}),r.jsx(K,{path:"/now-playing",element:r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ee,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:r.jsx(ai,{})}),r.jsx(Ee,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Coming Up."}),children:r.jsx(ni,{})}),r.jsx(Ee,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Play History."}),children:r.jsx(Yt,{})})]})}),r.jsx(K,{path:"/history",element:r.jsx(Yt,{})}),r.jsx(K,{path:"/tts",element:r.jsx(Et,{to:"/raido/admin",replace:!0})}),r.jsx(K,{path:"/raido/admin",element:r.jsx(oo,{})}),r.jsx(K,{path:"/analytics",element:r.jsx(lo,{})}),r.jsx(K,{path:"/stations",element:r.jsx(co,{})}),r.jsx(K,{path:"*",element:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ðŸ´â€â˜ ï¸ Page Not Found"}),r.jsx("p",{className:"text-gray-400",children:"Ye've sailed into uncharted waters, matey!"})]})})})]})})})})}const mo=new Xr({defaultOptions:{queries:{staleTime:60*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>t?.response?.status>=400&&t?.response?.status<500?!1:e<2}}});ns.createRoot(document.getElementById("root")).render(r.jsx(ee.StrictMode,{children:r.jsx(Qr,{client:mo,children:r.jsxs(ts,{children:[r.jsx(uo,{}),r.jsx(Js,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
