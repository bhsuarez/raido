var _r=Object.defineProperty;var Rr=(e,t,r)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wt=(e,t,r)=>Rr(e,typeof t!="symbol"?t+"":t,r);import{u as Cr,j as n,a as Oe,Q as Ar,b as Ir}from"./query-BMTE4gjB.js";import{a as Or,r as w,g as Mr,b as Y}from"./vendor-CDaM45aE.js";import{u as Pr,L as rt,R as Dr,a as ie,B as Fr}from"./router-q6GKdwt_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var st={},jt=Or;st.createRoot=jt.createRoot,st.hydrateRoot=jt.hydrateRoot;let Lr={data:""},Ur=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Lr,$r=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Br=/\/\*[^]*?\*\/|  +/g,Nt=/\n+/g,X=(e,t)=>{let r="",s="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":s+=i[1]=="f"?X(o,i):i+"{"+X(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=X(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=X.p?X.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+s},J={},Ht=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Ht(e[r]);return t}return e},Hr=(e,t,r,s,a)=>{let i=Ht(e),o=J[i]||(J[i]=(d=>{let u=0,c=11;for(;u<d.length;)c=101*c+d.charCodeAt(u++)>>>0;return"go"+c})(i));if(!J[o]){let d=i!==e?e:(u=>{let c,h,v=[{}];for(;c=$r.exec(u.replace(Br,""));)c[4]?v.shift():c[3]?(h=c[3].replace(Nt," ").trim(),v.unshift(v[0][h]=v[0][h]||{})):v[0][c[1]]=c[2].replace(Nt," ").trim();return v[0]})(e);J[o]=X(a?{["@keyframes "+o]:d}:d,r?"":"."+o)}let l=r&&J.g?J.g:null;return r&&(J.g=J[o]),((d,u,c,h)=>{h?u.data=u.data.replace(h,d):u.data.indexOf(d)===-1&&(u.data=c?d+u.data:u.data+d)})(J[o],t,s,l),o},Wr=(e,t,r)=>e.reduce((s,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":X(l,""):l===!1?"":l}return s+a+(o??"")},"");function Me(e){let t=this||{},r=e.call?e(t.p):e;return Hr(r.unshift?r.raw?Wr(r,[].slice.call(arguments,1),t.p):r.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):r,Ur(t.target),t.g,t.o,t.k)}let Wt,nt,at;Me.bind({g:1});let K=Me.bind({k:1});function zr(e,t,r,s){X.p=t,Wt=e,nt=r,at=s}function G(e,t){let r=this||{};return function(){let s=arguments;function a(i,o){let l=Object.assign({},i),d=l.className||a.className;r.p=Object.assign({theme:nt&&nt()},l),r.o=/ *go\d+/.test(d),l.className=Me.apply(r,s)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),at&&u[0]&&at(l),Wt(u,l)}return a}}var qr=e=>typeof e=="function",Ce=(e,t)=>qr(e)?e(t):e,Vr=(()=>{let e=0;return()=>(++e).toString()})(),zt=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jr=20,xt="default",qt=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return qt(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Se=[],Vt={toasts:[],pausedAt:void 0,settings:{toastLimit:Jr}},q={},Jt=(e,t=xt)=>{q[t]=qt(q[t]||Vt,e),Se.forEach(([r,s])=>{r===t&&s(q[t])})},Kt=e=>Object.keys(q).forEach(t=>Jt(e,t)),Kr=e=>Object.keys(q).find(t=>q[t].toasts.some(r=>r.id===e)),Pe=(e=xt)=>t=>{Jt(t,e)},Zr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xr=(e={},t=xt)=>{let[r,s]=w.useState(q[t]||Vt),a=w.useRef(q[t]);w.useEffect(()=>(a.current!==q[t]&&s(q[t]),Se.push([t,s]),()=>{let o=Se.findIndex(([l])=>l===t);o>-1&&Se.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,d,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||Zr[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},Gr=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Vr()}),me=e=>(t,r)=>{let s=Gr(t,e,r);return Pe(s.toasterId||Kr(s.id))({type:2,toast:s}),s.id},T=(e,t)=>me("blank")(e,t);T.error=me("error");T.success=me("success");T.loading=me("loading");T.custom=me("custom");T.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Pe(t)(r):Kt(r)};T.dismissAll=e=>T.dismiss(void 0,e);T.remove=(e,t)=>{let r={type:4,toastId:e};t?Pe(t)(r):Kt(r)};T.removeAll=e=>T.remove(void 0,e);T.promise=(e,t,r)=>{let s=T.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?Ce(t.success,a):void 0;return i?T.success(i,{id:s,...r,...r==null?void 0:r.success}):T.dismiss(s),a}).catch(a=>{let i=t.error?Ce(t.error,a):void 0;i?T.error(i,{id:s,...r,...r==null?void 0:r.error}):T.dismiss(s)}),e};var Qr=1e3,Yr=(e,t="default")=>{let{toasts:r,pausedAt:s}=Xr(e,t),a=w.useRef(new Map).current,i=w.useCallback((h,v=Qr)=>{if(a.has(h))return;let x=setTimeout(()=>{a.delete(h),o({type:4,toastId:h})},v);a.set(h,x)},[]);w.useEffect(()=>{if(s)return;let h=Date.now(),v=r.map(x=>{if(x.duration===1/0)return;let m=(x.duration||0)+x.pauseDuration-(h-x.createdAt);if(m<0){x.visible&&T.dismiss(x.id);return}return setTimeout(()=>T.dismiss(x.id,t),m)});return()=>{v.forEach(x=>x&&clearTimeout(x))}},[r,s,t]);let o=w.useCallback(Pe(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=w.useCallback((h,v)=>{o({type:1,toast:{id:h,height:v}})},[o]),u=w.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),c=w.useCallback((h,v)=>{let{reverseOrder:x=!1,gutter:m=8,defaultPosition:p}=v||{},b=r.filter(N=>(N.position||p)===(h.position||p)&&N.height),g=b.findIndex(N=>N.id===h.id),j=b.filter((N,k)=>k<g&&N.visible).length;return b.filter(N=>N.visible).slice(...x?[j+1]:[0,j]).reduce((N,k)=>N+(k.height||0)+m,0)},[r]);return w.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let v=a.get(h.id);v&&(clearTimeout(v),a.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:c}}},es=K`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ts=K`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rs=K`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ss=G("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${es} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ts} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rs} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ns=K`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,as=G("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ns} 1s linear infinite;
`,os=K`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,is=K`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ls=G("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${os} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${is} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cs=G("div")`
  position: absolute;
`,ds=G("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,us=K`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ms=G("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${us} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fs=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?w.createElement(ms,null,t):t:r==="blank"?null:w.createElement(ds,null,w.createElement(as,{...s}),r!=="loading"&&w.createElement(cs,null,r==="error"?w.createElement(ss,{...s}):w.createElement(ls,{...s})))},hs=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ps=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,xs="0%{opacity:0;} 100%{opacity:1;}",gs="0%{opacity:1;} 100%{opacity:0;}",ys=G("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bs=G("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vs=(e,t)=>{let r=e.includes("top")?1:-1,[s,a]=zt()?[xs,gs]:[hs(r),ps(r)];return{animation:t?`${K(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${K(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ws=w.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?vs(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(fs,{toast:e}),o=w.createElement(bs,{...e.ariaProps},Ce(e.message,e));return w.createElement(ys,{className:e.className,style:{...a,...r,...e.style}},typeof s=="function"?s({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});zr(w.createElement);var js=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let i=w.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;s(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return w.createElement("div",{ref:i,className:t,style:r},a)},Ns=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},Ss=Me`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,we=16,ks=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:u}=Yr(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:we,left:we,right:we,bottom:we,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(c=>{let h=c.position||t,v=u.calculateOffset(c,{reverseOrder:e,gutter:s,defaultPosition:t}),x=Ns(h,v);return w.createElement(js,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Ss:"",style:x},c.type==="custom"?Ce(c.message,c):a?a(c):w.createElement(ws,{toast:c,position:h}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ts={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const r=w.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...u},c)=>w.createElement("svg",{ref:c,...Ts,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Es(e)}`,l].join(" "),...u},[...t.map(([h,v])=>w.createElement(h,v)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Q("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Q("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Q("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Os={},St=e=>{let t;const r=new Set,s=(c,h)=>{const v=typeof c=="function"?c(t):c;if(!Object.is(v,t)){const x=t;t=h??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(m=>m(t,x))}},a=()=>t,d={setState:s,getState:a,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(Os?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(s,a,d);return d},Ms=e=>e?St(e):St;var Xt={exports:{}},Gt={},Qt={exports:{}},Yt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=w;function Ps(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ds=typeof Object.is=="function"?Object.is:Ps,Fs=se.useState,Ls=se.useEffect,Us=se.useLayoutEffect,$s=se.useDebugValue;function Bs(e,t){var r=t(),s=Fs({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return Us(function(){a.value=r,a.getSnapshot=t,Je(a)&&i({inst:a})},[e,r,t]),Ls(function(){return Je(a)&&i({inst:a}),e(function(){Je(a)&&i({inst:a})})},[e]),$s(r),r}function Je(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ds(e,r)}catch{return!0}}function Hs(e,t){return t()}var Ws=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hs:Bs;Yt.useSyncExternalStore=se.useSyncExternalStore!==void 0?se.useSyncExternalStore:Ws;Qt.exports=Yt;var zs=Qt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=w,qs=zs;function Vs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Js=typeof Object.is=="function"?Object.is:Vs,Ks=qs.useSyncExternalStore,Zs=De.useRef,Xs=De.useEffect,Gs=De.useMemo,Qs=De.useDebugValue;Gt.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=Zs(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Gs(function(){function d(x){if(!u){if(u=!0,c=x,x=s(x),a!==void 0&&o.hasValue){var m=o.value;if(a(m,x))return h=m}return h=x}if(m=h,Js(c,x))return m;var p=s(x);return a!==void 0&&a(m,p)?(c=x,m):(c=x,h=p)}var u=!1,c,h,v=r===void 0?null:r;return[function(){return d(t())},v===null?void 0:function(){return d(v())}]},[t,r,s,a]);var l=Ks(e,i[0],i[1]);return Xs(function(){o.hasValue=!0,o.value=l},[l]),Qs(l),l};Xt.exports=Gt;var Ys=Xt.exports;const en=Mr(Ys),er={},{useDebugValue:tn}=Y,{useSyncExternalStoreWithSelector:rn}=en;let kt=!1;const sn=e=>e;function nn(e,t=sn,r){(er?"production":void 0)!=="production"&&r&&!kt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kt=!0);const s=rn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return tn(s),s}const an=e=>{(er?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ms(e):e,r=(s,a)=>nn(t,s,a);return Object.assign(r,t),r},on=e=>an,Ke={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},it=new Map,je=e=>{const t=it.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,s])=>[r,s.getState()])):{}},ln=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const s=it.get(r.name);if(s)return{type:"tracked",store:e,...s};const a={connection:t.connect(r),stores:{}};return it.set(r.name,a),{type:"tracked",store:e,...a}},cn=(e,t={})=>(r,s,a)=>{const{enabled:i,anonymousActionType:o,store:l,...d}=t;let u;try{u=(i??(Ke?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(Ke?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,s,a);const{connection:c,...h}=ln(l,u,d);let v=!0;a.setState=(p,b,g)=>{const j=r(p,b);if(!v)return j;const N=g===void 0?{type:o||"anonymous"}:typeof g=="string"?{type:g}:g;return l===void 0?(c==null||c.send(N,s()),j):(c==null||c.send({...N,type:`${l}/${N.type}`},{...je(d.name),[l]:a.getState()}),j)};const x=(...p)=>{const b=v;v=!1,r(...p),v=b},m=e(a.setState,s,a);if(h.type==="untracked"?c==null||c.init(m):(h.stores[h.store]=a,c==null||c.init(Object.fromEntries(Object.entries(h.stores).map(([p,b])=>[p,p===h.store?m:b.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let p=!1;const b=a.dispatch;a.dispatch=(...g)=>{(Ke?"production":void 0)!=="production"&&g[0].type==="__setState"&&!p&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),p=!0),b(...g)}}return c.subscribe(p=>{var b;switch(p.type){case"ACTION":if(typeof p.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ze(p.payload,g=>{if(g.type==="__setState"){if(l===void 0){x(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const j=g.state[l];if(j==null)return;JSON.stringify(a.getState())!==JSON.stringify(j)&&x(j);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(g)});case"DISPATCH":switch(p.payload.type){case"RESET":return x(m),l===void 0?c==null?void 0:c.init(a.getState()):c==null?void 0:c.init(je(d.name));case"COMMIT":if(l===void 0){c==null||c.init(a.getState());return}return c==null?void 0:c.init(je(d.name));case"ROLLBACK":return Ze(p.state,g=>{if(l===void 0){x(g),c==null||c.init(a.getState());return}x(g[l]),c==null||c.init(je(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ze(p.state,g=>{if(l===void 0){x(g);return}JSON.stringify(a.getState())!==JSON.stringify(g[l])&&x(g[l])});case"IMPORT_STATE":{const{nextLiftedState:g}=p.payload,j=(b=g.computedStates.slice(-1)[0])==null?void 0:b.state;if(!j)return;x(l===void 0?j:j[l]),c==null||c.send(null,g);return}case"PAUSE_RECORDING":return v=!v}return}}),m},dn=cn,Ze=(e,t)=>{let r;try{r=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}r!==void 0&&t(r)},lt=on()(dn((e,t)=>({isConnected:!1,setIsConnected:r=>e({isConnected:r}),nowPlaying:void 0,updateNowPlaying:r=>e({nowPlaying:r}),isDarkMode:!0,toggleDarkMode:()=>{const r=!t().isDarkMode;e({isDarkMode:r}),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("raido-dark-mode",r.toString())},volume:parseInt(localStorage.getItem("raido-volume")||"75"),setVolume:r=>{e({volume:r}),localStorage.setItem("raido-volume",r.toString())},isMuted:localStorage.getItem("raido-muted")==="true",toggleMute:()=>{const r=!t().isMuted;e({isMuted:r}),localStorage.setItem("raido-muted",r.toString())},isAdmin:!1,setIsAdmin:r=>e({isAdmin:r})}),{name:"raido-store"})),un=localStorage.getItem("raido-dark-mode")!=="false";un?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function mn(){const e=w.useRef(null),t=Cr(),{setIsConnected:r,updateNowPlaying:s}=lt(),a=w.useRef(),i=w.useRef(0),o=5,l=()=>{try{const u=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;e.current=new WebSocket(u),e.current.onopen=()=>{console.log("🏴‍☠️ WebSocket connected"),r(!0),i.current>0&&T.success("🏴‍☠️ Reconnected to the radio!"),i.current=0},e.current.onmessage=c=>{try{const h=JSON.parse(c.data);switch(h.type){case"now_playing":case"track_change":s(h.data),t.invalidateQueries({queryKey:["nowPlaying"]}),t.invalidateQueries({queryKey:["nextUp"]}),t.invalidateQueries({queryKey:["history"]});break;case"commentary":T("🗣️ New DJ commentary!",{icon:"🎙️",duration:3e3}),t.invalidateQueries({queryKey:["history"]});break;default:console.log("Unknown WebSocket message type:",h.type)}}catch(h){console.error("Error parsing WebSocket message:",h)}},e.current.onclose=c=>{if(console.log("WebSocket disconnected:",c.code,c.reason),r(!1),c.code!==1e3&&i.current<o){const h=Math.min(1e3*Math.pow(2,i.current),3e4);i.current++,console.log(`Reconnecting in ${h}ms (attempt ${i.current})`),a.current=setTimeout(()=>{l()},h)}else i.current>=o&&T.error("🏴‍☠️ Lost connection to the radio. Please refresh.")},e.current.onerror=c=>{console.error("WebSocket error:",c)}}catch(d){console.error("Error creating WebSocket:",d),r(!1)}};return w.useEffect(()=>(l(),()=>{a.current&&clearTimeout(a.current),e.current&&e.current.close(1e3,"Component unmounting")}),[]),{isConnected:lt(d=>d.isConnected),reconnect:l}}function fn({children:e}){const t=Pr(),{isConnected:r,toggleDarkMode:s,isDarkMode:a}=lt();mn();const i=[{name:"Now Playing",href:"/",icon:_s},{name:"DJ Admin",href:"/tts",icon:ot},{name:"Voice Tester",href:"/voices",icon:ot}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:[n.jsxs("header",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Cs,{className:"h-8 w-8 text-primary-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold font-pirate text-primary-400 glitch","data-text":"RAIDO",children:"RAIDO"}),n.jsx("p",{className:"text-xs text-gray-400 -mt-1",children:"AI Pirate Radio"})]})]})}),n.jsx("nav",{className:"hidden md:flex space-x-6",children:i.map(o=>{const l=t.pathname===o.href;return n.jsxs(rt,{to:o.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[n.jsx(o.icon,{className:"h-4 w-4"}),n.jsx("span",{children:o.name})]},o.name)})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:`flex items-center space-x-2 text-xs ${r?"text-green-400":"text-red-400"}`,children:[r?n.jsx(Is,{className:"h-4 w-4"}):n.jsx(As,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:r?"Connected":"Disconnected"})]}),n.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle dark mode",children:a?"☀️":"🌙"})]})]})}),n.jsx("div",{className:"md:hidden border-t border-gray-700",children:n.jsx("div",{className:"px-4 py-2 space-y-1",children:i.map(o=>{const l=t.pathname===o.href;return n.jsxs(rt,{to:o.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[n.jsx(o.icon,{className:"h-4 w-4"}),n.jsx("span",{children:o.name})]},o.name)})})})]}),n.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),n.jsx("footer",{className:"bg-gray-800 bg-opacity-50 border-t border-gray-700 mt-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[n.jsx("p",{children:"🏴‍☠️ Raido - AI Pirate Radio © 2024"}),n.jsx("p",{className:"mt-1",children:"Sailing the digital seas with AI-powered beats"})]})})})]})}class Ne extends Y.Component{constructor(r){super(r);wt(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("UI ErrorBoundary caught:",r,s)}render(){var r;return this.state.hasError?this.props.fallback??n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),((r=this.state.error)==null?void 0:r.message)&&n.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),n.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function tr(e,t){return function(){return e.apply(t,arguments)}}const{toString:hn}=Object.prototype,{getPrototypeOf:gt}=Object,{iterator:Fe,toStringTag:rr}=Symbol,Le=(e=>t=>{const r=hn.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),B=e=>(e=e.toLowerCase(),t=>Le(t)===e),Ue=e=>t=>typeof t===e,{isArray:ne}=Array,ue=Ue("undefined");function fe(e){return e!==null&&!ue(e)&&e.constructor!==null&&!ue(e.constructor)&&L(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sr=B("ArrayBuffer");function pn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sr(e.buffer),t}const xn=Ue("string"),L=Ue("function"),nr=Ue("number"),he=e=>e!==null&&typeof e=="object",gn=e=>e===!0||e===!1,ke=e=>{if(Le(e)!=="object")return!1;const t=gt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rr in e)&&!(Fe in e)},yn=e=>{if(!he(e)||fe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bn=B("Date"),vn=B("File"),wn=B("Blob"),jn=B("FileList"),Nn=e=>he(e)&&L(e.pipe),Sn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||L(e.append)&&((t=Le(e))==="formdata"||t==="object"&&L(e.toString)&&e.toString()==="[object FormData]"))},kn=B("URLSearchParams"),[Tn,En,_n,Rn]=["ReadableStream","Request","Response","Headers"].map(B),Cn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pe(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),ne(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(fe(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function ar(e,t){if(fe(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,or=e=>!ue(e)&&e!==ee;function ct(){const{caseless:e}=or(this)&&this||{},t={},r=(s,a)=>{const i=e&&ar(t,a)||a;ke(t[i])&&ke(s)?t[i]=ct(t[i],s):ke(s)?t[i]=ct({},s):ne(s)?t[i]=s.slice():t[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&pe(arguments[s],r);return t}const An=(e,t,r,{allOwnKeys:s}={})=>(pe(t,(a,i)=>{r&&L(a)?e[i]=tr(a,r):e[i]=a},{allOwnKeys:s}),e),In=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),On=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Mn=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&gt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Pn=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Dn=e=>{if(!e)return null;if(ne(e))return e;let t=e.length;if(!nr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Fn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gt(Uint8Array)),Ln=(e,t)=>{const s=(e&&e[Fe]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Un=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},$n=B("HTMLFormElement"),Bn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Tt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Hn=B("RegExp"),ir=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};pe(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Wn=e=>{ir(e,(t,r)=>{if(L(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(L(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zn=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return ne(e)?s(e):s(String(e).split(t)),r},qn=()=>{},Vn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Jn(e){return!!(e&&L(e.append)&&e[rr]==="FormData"&&e[Fe])}const Kn=e=>{const t=new Array(10),r=(s,a)=>{if(he(s)){if(t.indexOf(s)>=0)return;if(fe(s))return s;if(!("toJSON"in s)){t[a]=s;const i=ne(s)?[]:{};return pe(s,(o,l)=>{const d=r(o,a+1);!ue(d)&&(i[l]=d)}),t[a]=void 0,i}}return s};return r(e,0)},Zn=B("AsyncFunction"),Xn=e=>e&&(he(e)||L(e))&&L(e.then)&&L(e.catch),lr=((e,t)=>e?setImmediate:t?((r,s)=>(ee.addEventListener("message",({source:a,data:i})=>{a===ee&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),ee.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",L(ee.postMessage)),Gn=typeof queueMicrotask<"u"?queueMicrotask.bind(ee):typeof process<"u"&&process.nextTick||lr,Qn=e=>e!=null&&L(e[Fe]),f={isArray:ne,isArrayBuffer:sr,isBuffer:fe,isFormData:Sn,isArrayBufferView:pn,isString:xn,isNumber:nr,isBoolean:gn,isObject:he,isPlainObject:ke,isEmptyObject:yn,isReadableStream:Tn,isRequest:En,isResponse:_n,isHeaders:Rn,isUndefined:ue,isDate:bn,isFile:vn,isBlob:wn,isRegExp:Hn,isFunction:L,isStream:Nn,isURLSearchParams:kn,isTypedArray:Fn,isFileList:jn,forEach:pe,merge:ct,extend:An,trim:Cn,stripBOM:In,inherits:On,toFlatObject:Mn,kindOf:Le,kindOfTest:B,endsWith:Pn,toArray:Dn,forEachEntry:Ln,matchAll:Un,isHTMLForm:$n,hasOwnProperty:Tt,hasOwnProp:Tt,reduceDescriptors:ir,freezeMethods:Wn,toObjectSet:zn,toCamelCase:Bn,noop:qn,toFiniteNumber:Vn,findKey:ar,global:ee,isContextDefined:or,isSpecCompliantForm:Jn,toJSONObject:Kn,isAsyncFn:Zn,isThenable:Xn,setImmediate:lr,asap:Gn,isIterable:Qn};function S(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}f.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const cr=S.prototype,dr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dr[e]={value:e}});Object.defineProperties(S,dr);Object.defineProperty(cr,"isAxiosError",{value:!0});S.from=(e,t,r,s,a,i)=>{const o=Object.create(cr);return f.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),S.call(o,e.message,t,r,s,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Yn=null;function dt(e){return f.isPlainObject(e)||f.isArray(e)}function ur(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,r){return e?e.concat(t).map(function(a,i){return a=ur(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function ea(e){return f.isArray(e)&&!e.some(dt)}const ta=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function $e(e,t,r){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=f.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!f.isUndefined(b[p])});const s=r.metaTokens,a=r.visitor||c,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(a))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(f.isDate(m))return m.toISOString();if(f.isBoolean(m))return m.toString();if(!d&&f.isBlob(m))throw new S("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(m)||f.isTypedArray(m)?d&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,b){let g=m;if(m&&!b&&typeof m=="object"){if(f.endsWith(p,"{}"))p=s?p:p.slice(0,-2),m=JSON.stringify(m);else if(f.isArray(m)&&ea(m)||(f.isFileList(m)||f.endsWith(p,"[]"))&&(g=f.toArray(m)))return p=ur(p),g.forEach(function(N,k){!(f.isUndefined(N)||N===null)&&t.append(o===!0?Et([p],k,i):o===null?p:p+"[]",u(N))}),!1}return dt(m)?!0:(t.append(Et(b,p,i),u(m)),!1)}const h=[],v=Object.assign(ta,{defaultVisitor:c,convertValue:u,isVisitable:dt});function x(m,p){if(!f.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),f.forEach(m,function(g,j){(!(f.isUndefined(g)||g===null)&&a.call(t,g,f.isString(j)?j.trim():j,p,v))===!0&&x(g,p?p.concat(j):[j])}),h.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return x(e),t}function _t(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function yt(e,t){this._pairs=[],e&&$e(e,this,t)}const mr=yt.prototype;mr.append=function(t,r){this._pairs.push([t,r])};mr.toString=function(t){const r=t?function(s){return t.call(this,s,_t)}:_t;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function ra(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fr(e,t,r){if(!t)return e;const s=r&&r.encode||ra;f.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=f.isURLSearchParams(t)?t.toString():new yt(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Rt{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(s){s!==null&&t(s)})}}const hr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sa=typeof URLSearchParams<"u"?URLSearchParams:yt,na=typeof FormData<"u"?FormData:null,aa=typeof Blob<"u"?Blob:null,oa={isBrowser:!0,classes:{URLSearchParams:sa,FormData:na,Blob:aa},protocols:["http","https","file","blob","url","data"]},bt=typeof window<"u"&&typeof document<"u",ut=typeof navigator=="object"&&navigator||void 0,ia=bt&&(!ut||["ReactNative","NativeScript","NS"].indexOf(ut.product)<0),la=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ca=bt&&window.location.href||"http://localhost",da=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bt,hasStandardBrowserEnv:ia,hasStandardBrowserWebWorkerEnv:la,navigator:ut,origin:ca},Symbol.toStringTag,{value:"Module"})),I={...da,...oa};function ua(e,t){return $e(e,new I.classes.URLSearchParams,{visitor:function(r,s,a,i){return I.isNode&&f.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ma(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fa(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function pr(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&f.isArray(a)?a.length:o,d?(f.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!f.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&f.isArray(a[o])&&(a[o]=fa(a[o])),!l)}if(f.isFormData(e)&&f.isFunction(e.entries)){const r={};return f.forEachEntry(e,(s,a)=>{t(ma(s),a,r,0)}),r}return null}function ha(e,t,r){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const xe={transitional:hr,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=f.isObject(t);if(i&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return a?JSON.stringify(pr(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ua(t,this.formSerializer).toString();if((l=f.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $e(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),ha(t)):t}],transformResponse:[function(t){const r=this.transitional||xe.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{xe.headers[e]={}});const pa=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xa=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&pa[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Ct=Symbol("internals");function le(e){return e&&String(e).trim().toLowerCase()}function Te(e){return e===!1||e==null?e:f.isArray(e)?e.map(Te):String(e)}function ga(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const ya=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xe(e,t,r,s,a){if(f.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!f.isString(t)){if(f.isString(s))return t.indexOf(s)!==-1;if(f.isRegExp(s))return s.test(t)}}function ba(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function va(e,t){const r=f.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let U=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,d,u){const c=le(d);if(!c)throw new Error("header name must be a non-empty string");const h=f.findKey(a,c);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||d]=Te(l))}const o=(l,d)=>f.forEach(l,(u,c)=>i(u,c,d));if(f.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(f.isString(t)&&(t=t.trim())&&!ya(t))o(xa(t),r);else if(f.isObject(t)&&f.isIterable(t)){let l={},d,u;for(const c of t){if(!f.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(d=l[u])?f.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=le(t),t){const s=f.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return ga(a);if(f.isFunction(r))return r.call(this,a,s);if(f.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=le(t),t){const s=f.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Xe(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=le(o),o){const l=f.findKey(s,o);l&&(!r||Xe(s,s[l],l,r))&&(delete s[l],a=!0)}}return f.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||Xe(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return f.forEach(this,(a,i)=>{const o=f.findKey(s,i);if(o){r[o]=Te(a),delete r[i];return}const l=t?ba(i):String(i).trim();l!==i&&delete r[i],r[l]=Te(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return f.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&f.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[Ct]=this[Ct]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=le(o);s[l]||(va(a,o),s[l]=!0)}return f.isArray(t)?t.forEach(i):i(t),this}};U.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(U.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});f.freezeMethods(U);function Ge(e,t){const r=this||xe,s=t||r,a=U.from(s.headers);let i=s.data;return f.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function xr(e){return!!(e&&e.__CANCEL__)}function ae(e,t,r){S.call(this,e??"canceled",S.ERR_CANCELED,t,r),this.name="CanceledError"}f.inherits(ae,S,{__CANCEL__:!0});function gr(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new S("Request failed with status code "+r.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ja(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=s[i];o||(o=u),r[a]=d,s[a]=u;let h=i,v=0;for(;h!==a;)v+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const x=c&&u-c;return x?Math.round(v*1e3/x):void 0}}function Na(e,t){let r=0,s=1e3/t,a,i;const o=(u,c=Date.now())=>{r=c,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=s?o(u,c):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-h)))},()=>a&&o(a)]}const Ae=(e,t,r=3)=>{let s=0;const a=ja(50,250);return Na(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-s,u=a(d),c=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},At=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},It=e=>(...t)=>f.asap(()=>e(...t)),Sa=I.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,I.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,ka=I.hasStandardBrowserEnv?{write(e,t,r,s,a,i){const o=[e+"="+encodeURIComponent(t)];f.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),f.isString(s)&&o.push("path="+s),f.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ta(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ea(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yr(e,t,r){let s=!Ta(t);return e&&(s||r==!1)?Ea(e,t):t}const Ot=e=>e instanceof U?{...e}:e;function re(e,t){t=t||{};const r={};function s(u,c,h,v){return f.isPlainObject(u)&&f.isPlainObject(c)?f.merge.call({caseless:v},u,c):f.isPlainObject(c)?f.merge({},c):f.isArray(c)?c.slice():c}function a(u,c,h,v){if(f.isUndefined(c)){if(!f.isUndefined(u))return s(void 0,u,h,v)}else return s(u,c,h,v)}function i(u,c){if(!f.isUndefined(c))return s(void 0,c)}function o(u,c){if(f.isUndefined(c)){if(!f.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function l(u,c,h){if(h in t)return s(u,c);if(h in e)return s(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c,h)=>a(Ot(u),Ot(c),h,!0)};return f.forEach(Object.keys({...e,...t}),function(c){const h=d[c]||a,v=h(e[c],t[c],c);f.isUndefined(v)&&h!==l||(r[c]=v)}),r}const br=e=>{const t=re({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=U.from(o),t.url=fr(yr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(f.isFormData(r)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...c]=d?d.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(I.hasStandardBrowserEnv&&(s&&f.isFunction(s)&&(s=s(t)),s||s!==!1&&Sa(t.url))){const u=a&&i&&ka.read(i);u&&o.set(a,u)}return t},_a=typeof XMLHttpRequest<"u",Ra=_a&&function(e){return new Promise(function(r,s){const a=br(e);let i=a.data;const o=U.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=a,c,h,v,x,m;function p(){x&&x(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function g(){if(!b)return;const N=U.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:N,config:e,request:b};gr(function(P){r(P),p()},function(P){s(P),p()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(s(new S("Request aborted",S.ECONNABORTED,e,b)),b=null)},b.onerror=function(){s(new S("Network Error",S.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||hr;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),s(new S(k,_.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&f.forEach(o.toJSON(),function(k,_){b.setRequestHeader(_,k)}),f.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([v,m]=Ae(u,!0),b.addEventListener("progress",v)),d&&b.upload&&([h,x]=Ae(d),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(c=N=>{b&&(s(!N||N.type?new ae(null,e,b):N),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const j=wa(a.url);if(j&&I.protocols.indexOf(j)===-1){s(new S("Unsupported protocol "+j+":",S.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Ca=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const c=u instanceof Error?u:this.reason;s.abort(c instanceof S?c:new ae(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>f.asap(l),d}},Aa=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},Ia=async function*(e,t){for await(const r of Oa(e))yield*Aa(r,t)},Oa=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Mt=(e,t,r,s)=>{const a=Ia(e,t);let i=0,o,l=d=>{o||(o=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await a.next();if(u){l(),d.close();return}let h=c.byteLength;if(r){let v=i+=h;r(v)}d.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},Be=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vr=Be&&typeof ReadableStream=="function",Ma=Be&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wr=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Pa=vr&&wr(()=>{let e=!1;const t=new Request(I.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Pt=64*1024,mt=vr&&wr(()=>f.isReadableStream(new Response("").body)),Ie={stream:mt&&(e=>e.body)};Be&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ie[t]&&(Ie[t]=f.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new S(`Response type '${t}' is not supported`,S.ERR_NOT_SUPPORT,s)})})})(new Response);const Da=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(I.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(f.isArrayBufferView(e)||f.isArrayBuffer(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await Ma(e)).byteLength},Fa=async(e,t)=>{const r=f.toFiniteNumber(e.getContentLength());return r??Da(t)},La=Be&&(async e=>{let{url:t,method:r,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:v}=br(e);u=u?(u+"").toLowerCase():"text";let x=Ca([a,i&&i.toAbortSignal()],o),m;const p=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let b;try{if(d&&Pa&&r!=="get"&&r!=="head"&&(b=await Fa(c,s))!==0){let _=new Request(t,{method:"POST",body:s,duplex:"half"}),M;if(f.isFormData(s)&&(M=_.headers.get("content-type"))&&c.setContentType(M),_.body){const[P,V]=At(b,Ae(It(d)));s=Mt(_.body,Pt,P,V)}}f.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;m=new Request(t,{...v,signal:x,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:s,duplex:"half",credentials:g?h:void 0});let j=await fetch(m,v);const N=mt&&(u==="stream"||u==="response");if(mt&&(l||N&&p)){const _={};["status","statusText","headers"].forEach(ye=>{_[ye]=j[ye]});const M=f.toFiniteNumber(j.headers.get("content-length")),[P,V]=l&&At(M,Ae(It(l),!0))||[];j=new Response(Mt(j.body,Pt,P,()=>{V&&V(),p&&p()}),_)}u=u||"text";let k=await Ie[f.findKey(Ie,u)||"text"](j,e);return!N&&p&&p(),await new Promise((_,M)=>{gr(_,M,{data:k,headers:U.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:m})})}catch(g){throw p&&p(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,e,m),{cause:g.cause||g}):S.from(g,g&&g.code,e,m)}}),ft={http:Yn,xhr:Ra,fetch:La};f.forEach(ft,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Dt=e=>`- ${e}`,Ua=e=>f.isFunction(e)||e===null||e===!1,jr={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let r,s;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(s=r,!Ua(r)&&(s=ft[(o=String(r)).toLowerCase()],s===void 0))throw new S(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Dt).join(`
`):" "+Dt(i[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:ft};function Qe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ae(null,e)}function Ft(e){return Qe(e),e.headers=U.from(e.headers),e.data=Ge.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jr.getAdapter(e.adapter||xe.adapter)(e).then(function(s){return Qe(e),s.data=Ge.call(e,e.transformResponse,s),s.headers=U.from(s.headers),s},function(s){return xr(s)||(Qe(e),s&&s.response&&(s.response.data=Ge.call(e,e.transformResponse,s.response),s.response.headers=U.from(s.response.headers))),Promise.reject(s)})}const Nr="1.11.0",He={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{He[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Lt={};He.transitional=function(t,r,s){function a(i,o){return"[Axios v"+Nr+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new S(a(o," has been removed"+(r?" in "+r:"")),S.ERR_DEPRECATED);return r&&!Lt[o]&&(Lt[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};He.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function $a(e,t,r){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new S("option "+i+" must be "+d,S.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new S("Unknown option "+i,S.ERR_BAD_OPTION)}}const Ee={assertOptions:$a,validators:He},z=Ee.validators;let te=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Rt,response:new Rt}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=re(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&Ee.assertOptions(s,{silentJSONParsing:z.transitional(z.boolean),forcedJSONParsing:z.transitional(z.boolean),clarifyTimeoutError:z.transitional(z.boolean)},!1),a!=null&&(f.isFunction(a)?r.paramsSerializer={serialize:a}:Ee.assertOptions(a,{encode:z.function,serialize:z.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ee.assertOptions(r,{baseUrl:z.spelling("baseURL"),withXsrfToken:z.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&f.merge(i.common,i[r.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=U.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(d=d&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,h=0,v;if(!d){const m=[Ft.bind(this),void 0];for(m.unshift(...l),m.push(...u),v=m.length,c=Promise.resolve(r);h<v;)c=c.then(m[h++],m[h++]);return c}v=l.length;let x=r;for(h=0;h<v;){const m=l[h++],p=l[h++];try{x=m(x)}catch(b){p.call(this,b);break}}try{c=Ft.call(this,x)}catch(m){return Promise.reject(m)}for(h=0,v=u.length;h<v;)c=c.then(u[h++],u[h++]);return c}getUri(t){t=re(this.defaults,t);const r=yr(t.baseURL,t.url,t.allowAbsoluteUrls);return fr(r,t.params,t.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(t){te.prototype[t]=function(r,s){return this.request(re(s||{},{method:t,url:r,data:(s||{}).data}))}});f.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(re(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}te.prototype[t]=r(),te.prototype[t+"Form"]=r(!0)});let Ba=class Sr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new ae(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Sr(function(a){t=a}),cancel:t}}};function Ha(e){return function(r){return e.apply(null,r)}}function Wa(e){return f.isObject(e)&&e.isAxiosError===!0}const ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ht).forEach(([e,t])=>{ht[t]=e});function kr(e){const t=new te(e),r=tr(te.prototype.request,t);return f.extend(r,te.prototype,t,{allOwnKeys:!0}),f.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return kr(re(e,a))},r}const C=kr(xe);C.Axios=te;C.CanceledError=ae;C.CancelToken=Ba;C.isCancel=xr;C.VERSION=Nr;C.toFormData=$e;C.AxiosError=S;C.Cancel=C.CanceledError;C.all=function(t){return Promise.all(t)};C.spread=Ha;C.isAxiosError=Wa;C.mergeConfig=re;C.AxiosHeaders=U;C.formToJSON=e=>pr(f.isHTMLForm(e)?new FormData(e):e);C.getAdapter=jr.getAdapter;C.HttpStatusCode=ht;C.default=C;const{Axios:ni,AxiosError:ai,CanceledError:oi,isCancel:ii,CancelToken:li,VERSION:ci,all:di,Cancel:ui,isAxiosError:mi,spread:fi,toFormData:hi,AxiosHeaders:pi,HttpStatusCode:xi,formToJSON:gi,getAdapter:yi,mergeConfig:bi}=C,Ye={},za=Ye!=null&&Ye.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",E=C.create({baseURL:za,timeout:1e4,headers:{"Content-Type":"application/json"}});E.interceptors.request.use(e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));E.interceptors.response.use(e=>e,e=>{var r,s,a,i,o;const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.detail)||e.message||"An error occurred";return((a=e.response)==null?void 0:a.status)===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(((i=e.response)==null?void 0:i.status)>=500?T.error(`Server error: ${t}`):((o=e.response)==null?void 0:o.status)>=400?T.error(t):e.code==="NETWORK_ERROR"&&T.error("🏴‍☠️ Network error - check your connection!"),Promise.reject(e))});const _e={getNowPlaying:()=>E.get("/now"),getHistory:(e=20,t=0)=>E.get(`/now/history?limit=${e}&offset=${t}`),getNextUp:(e=1)=>E.get(`/now/next?limit=${e}`),getSettings:()=>E.get("/admin/settings"),updateSettings:e=>E.post("/admin/settings",e),getStats:()=>E.get("/admin/stats"),getVoices:()=>E.get("/admin/voices"),getUsers:()=>E.get("/admin/users"),createUser:e=>E.post("/admin/users",e),updateUser:(e,t)=>E.put(`/admin/users/${e}`,t),deleteUser:e=>E.delete(`/admin/users/${e}`),deleteCommentary:e=>E.delete(`/admin/commentary/${e}`),skipTrack:()=>E.post("/liquidsoap/skip")};function qa(){return Oe({queryKey:["nowPlaying"],queryFn:()=>E.get("/now/").then(e=>e.data),refetchInterval:1e4,staleTime:5e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:3})}function Va(e=20,t=0){return Oe({queryKey:["history",e,t],queryFn:()=>E.get(`/now/history?limit=${e}&offset=${t}`).then(r=>r.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function Ja(){return Oe({queryKey:["nextUp"],queryFn:()=>E.get("/now/next?limit=1").then(e=>e.data),refetchInterval:3e4,staleTime:15e3,retry:2})}function ge({size:e="md",message:t="Loading...",fullScreen:r=!1}){const s={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},a=n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[n.jsx("div",{className:`spinner ${s[e]}`}),t&&n.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return r?n.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:a}):a}const Ka=()=>{const{data:e,isLoading:t,error:r}=qa(),s=e==null?void 0:e.track,a=e==null?void 0:e.progress,i=(s==null?void 0:s.duration_sec)??(a==null?void 0:a.total_seconds)??0,[o,l]=Y.useState((a==null?void 0:a.elapsed_seconds)??0),[d,u]=Y.useState(!1);Y.useEffect(()=>{l((a==null?void 0:a.elapsed_seconds)??0)},[a==null?void 0:a.elapsed_seconds,s==null?void 0:s.id]),Y.useEffect(()=>{if(!s||!i)return;const x=setInterval(()=>{l(m=>{const p=m+1;return p>i?i:p})},1e3);return()=>clearInterval(x)},[s==null?void 0:s.id,i]);const c=i?Math.max(0,i-o):0,h=async()=>{if(!d){u(!0);try{await _e.skipTrack(),T.success("🎵 Track skipped!")}catch(x){console.error("Failed to skip track:",x),T.error("Failed to skip track")}finally{setTimeout(()=>u(!1),2e3)}}};if(t)return n.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(ge,{size:"lg",message:"Loading current track..."})})});if(r||!s)return n.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx("p",{className:"text-xl mb-2",children:"🏴‍☠️ Radio Offline"}),n.jsx("p",{children:"No track currently playing"})]})})});const v=x=>{if(!x||isNaN(x))return"0:00";const m=Math.floor(x),p=Math.floor(m/60),b=m%60;return`${p}:${b.toString().padStart(2,"0")}`};return n.jsxs("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),n.jsx("h2",{className:"text-2xl font-bold text-white",children:"🏴‍☠️ Now Playing on Raido"})]}),n.jsx("div",{className:"text-sm text-pirate-300 bg-pirate-800/50 px-3 py-1 rounded-full",children:"LIVE STREAM"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:"w-full aspect-square rounded-2xl overflow-hidden shadow-2xl border-4 border-pirate-600/30",children:[s.artwork_url?n.jsx("img",{src:s.artwork_url,alt:`${s.album} by ${s.artist}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:x=>{const m=x.target;m.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMzc0MTUxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iMTAwIiBmaWxsPSIjMjkyODMxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iNjAiIGZpbGw9IiM0MzQxNGEiLz4KPHJlY3QgeD0iMTQ1IiB5PSI4MCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI0U2RTZFNiIvPgo8L3N2Zz4K"}}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-6xl",children:"🎵"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/20 rounded-2xl"})]}),n.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("div",{className:"text-white text-sm font-medium truncate",children:s.album}),n.jsx("div",{className:"text-gray-300 text-xs",children:s.year})]})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-4xl font-bold text-white leading-tight",children:s.title}),n.jsxs("h2",{className:"text-2xl text-pirate-300 font-semibold",children:["by ",s.artist]}),n.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[n.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:["🎸 ",s.genre]}),n.jsxs("span",{className:"text-sm",children:[s.album," • ",s.year]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[n.jsx("span",{children:v(o)}),n.jsxs("span",{children:["-",v(c)]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 shadow-inner",children:n.jsx("div",{className:"bg-gradient-to-r from-pirate-500 via-pirate-400 to-pirate-300 h-3 rounded-full shadow-lg relative overflow-hidden",style:{width:`${i?Math.min(100,o/i*100):0}%`},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 animate-pulse"})})})]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx("button",{onClick:h,disabled:d,className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm shadow-lg transition-all duration-200
                ${d?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pirate-600 to-pirate-500 text-white hover:from-pirate-700 hover:to-pirate-600 hover:scale-105 active:scale-95"}
              `,children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Skipping..."]}):n.jsx(n.Fragment,{children:"⏭️ Skip Track"})})}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx(rt,{to:"/tts",className:"bg-gradient-to-r from-pirate-600 to-pirate-500 hover:from-pirate-700 hover:to-pirate-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg transition-all duration-200 hover:scale-105 cursor-pointer",children:"🤖 AI Commentary Active - Monitor"}),n.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"🎙️ Kokoro TTS"}),n.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"📻 24/7 Live"})]})]})]})]})},Za=()=>{const{data:e,isLoading:t,error:r}=Ja();console.log("ComingUp nextUpData:",e),console.log("ComingUp isLoading:",t),console.log("ComingUp error:",r),console.log("ComingUp component is rendering!");const s=Array.isArray(e==null?void 0:e.next_tracks)&&e.next_tracks.length>0,a=s?e.next_tracks.map(o=>{const l=(o==null?void 0:o.track)??{},d=typeof l.duration_sec=="number"&&isFinite(l.duration_sec)&&l.duration_sec>0?l.duration_sec:0;return{id:typeof l.id=="number"?l.id:0,title:l.title||"Unknown",artist:l.artist||"Unknown Artist",album:l.album||"",year:typeof l.year=="number"?l.year:void 0,genre:l.genre||"Various",duration:d,artwork:l.artwork_url||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K",commentary:null}}):[],i=o=>{const l=typeof o=="number"?o:Number(o);if(!isFinite(l)||l<=0)return"0:00";const d=Math.floor(l),u=Math.floor(d/60),c=d%60;return`${u}:${c.toString().padStart(2,"0")}`};return t?n.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(ge,{message:"Loading upcoming tracks..."})})}):n.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"🎵 Coming Up Next"}),n.jsx("div",{className:"text-sm text-gray-400 bg-gray-800/50 px-3 py-1 rounded-full",children:s?"Live Queue":"No Queue Data"})]}),a.length===0?n.jsxs("div",{className:"text-center text-gray-400 py-12",children:[n.jsx("div",{className:"w-24 h-24 mx-auto mb-4 opacity-30",children:"🎵"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tracks"}),n.jsxs("p",{className:"text-sm",children:["Liquidsoap is not providing queue information.",n.jsx("br",{}),"Tracks are played dynamically from the music library."]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"bg-gradient-to-r from-pirate-800/40 to-gray-800/40 rounded-xl p-6 border border-pirate-600/20",children:n.jsxs("div",{className:"flex items-start gap-6",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-lg flex-shrink-0 bg-gray-700",children:n.jsx("img",{src:a[0].artwork,alt:`${a[0].album||"Unknown Album"} by ${a[0].artist}`,className:"w-full h-full object-cover",onError:o=>{const l=o.target;l.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-white truncate",children:a[0].title}),n.jsx("p",{className:"text-pirate-300 font-medium truncate",children:a[0].artist}),n.jsxs("p",{className:"text-gray-400 text-sm truncate",children:[a[0].album||"Unknown Album"," ",a[0].year&&`• ${a[0].year}`]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0 ml-4",children:[n.jsx("div",{children:i(a[0].duration)}),n.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded text-xs mt-1",children:a[0].genre||"Various"})]})]}),a[0].commentary&&n.jsx("div",{className:"bg-pirate-900/30 rounded-lg p-4 border border-pirate-600/20 mt-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-pirate-500 to-pirate-400 flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-white text-xs",children:"🤖"})}),n.jsx("div",{className:"flex-1",children:n.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed",children:[n.jsx("strong",{className:"text-pirate-300",children:"AI DJ Preview:"})," ",a[0].commentary]})})]})})]})]})})}),a.length>1&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-300 flex items-center gap-2",children:[n.jsx("span",{className:"text-pirate-400",children:"📋"}),"Following Tracks"]}),a.slice(1).map((o,l)=>n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20 hover:bg-gray-800/50 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-pirate-800 flex items-center justify-center text-pirate-300 font-bold text-sm flex-shrink-0",children:l+2}),n.jsx("div",{className:"w-12 h-12 rounded overflow-hidden shadow flex-shrink-0 bg-gray-700",children:n.jsx("img",{src:o.artwork,alt:`${o.album||"Unknown Album"} by ${o.artist}`,className:"w-full h-full object-cover",onError:d=>{const u=d.target;u.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjI0IiB5PSIyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNiI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-white font-medium truncate",children:o.title}),n.jsxs("div",{className:"text-gray-400 text-sm truncate",children:[o.artist," ",o.album&&`• ${o.album}`]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0",children:[n.jsx("div",{children:i(o.duration)}),n.jsx("div",{className:"text-xs text-gray-500",children:o.genre||"Various"})]})]},`${o.id??0}-${l}-${o.title}-${o.artist}`))]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700/50",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{children:"AI Commentary generation active"})]}),n.jsx("div",{className:"text-pirate-300 font-medium",children:"Powered by Kokoro TTS"})]})})]})};function pt(e){"@babel/helpers - typeof";return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(e)}function H(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function O(e){H(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||pt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Xa={};function Ga(){return Xa}function Ut(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Re(e,t){H(2,arguments);var r=O(e),s=O(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function Qa(e,t){H(2,arguments);var r=O(e),s=O(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function Ya(e,t){return H(2,arguments),O(e).getTime()-O(t).getTime()}var eo={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},to="trunc";function ro(e){return eo[to]}function so(e){H(1,arguments);var t=O(e);return t.setHours(23,59,59,999),t}function no(e){H(1,arguments);var t=O(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ao(e){H(1,arguments);var t=O(e);return so(t).getTime()===no(t).getTime()}function oo(e,t){H(2,arguments);var r=O(e),s=O(t),a=Re(r,s),i=Math.abs(Qa(r,s)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var l=Re(r,s)===-a;ao(O(e))&&i===1&&Re(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function io(e,t,r){H(2,arguments);var s=Ya(e,t)/1e3;return ro()(s)}var lo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},co=function(t,r,s){var a,i=lo[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function et(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}var uo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ho={date:et({formats:uo,defaultWidth:"full"}),time:et({formats:mo,defaultWidth:"full"}),dateTime:et({formats:fo,defaultWidth:"full"})},po={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xo=function(t,r,s,a){return po[t]};function ce(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var go={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yo={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bo={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},No=function(t,r){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},So={ordinalNumber:No,era:ce({values:go,defaultWidth:"wide"}),quarter:ce({values:yo,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ce({values:bo,defaultWidth:"wide"}),day:ce({values:vo,defaultWidth:"wide"}),dayPeriod:ce({values:wo,defaultWidth:"wide",formattingValues:jo,defaultFormattingWidth:"wide"})};function de(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?To(l,function(h){return h.test(o)}):ko(l,function(h){return h.test(o)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function ko(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function To(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Eo(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var _o=/^(\d+)(th|st|nd|rd)?/i,Ro=/\d+/i,Co={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ao={any:[/^b/i,/^(a|c)/i]},Io={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oo={any:[/1/i,/2/i,/3/i,/4/i]},Mo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Po={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Do={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$o={ordinalNumber:Eo({matchPattern:_o,parsePattern:Ro,valueCallback:function(t){return parseInt(t,10)}}),era:de({matchPatterns:Co,defaultMatchWidth:"wide",parsePatterns:Ao,defaultParseWidth:"any"}),quarter:de({matchPatterns:Io,defaultMatchWidth:"wide",parsePatterns:Oo,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:de({matchPatterns:Mo,defaultMatchWidth:"wide",parsePatterns:Po,defaultParseWidth:"any"}),day:de({matchPatterns:Do,defaultMatchWidth:"wide",parsePatterns:Fo,defaultParseWidth:"any"}),dayPeriod:de({matchPatterns:Lo,defaultMatchWidth:"any",parsePatterns:Uo,defaultParseWidth:"any"})},Bo={code:"en-US",formatDistance:co,formatLong:ho,formatRelative:xo,localize:So,match:$o,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Ho(e){return Tr({},e)}var $t=1440,Wo=2520,tt=43200,zo=86400;function qo(e,t,r){var s,a;H(2,arguments);var i=Ga(),o=(s=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&s!==void 0?s:Bo;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Re(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Tr(Ho(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,c;l>0?(u=O(t),c=O(e)):(u=O(e),c=O(t));var h=io(c,u),v=(Ut(c)-Ut(u))/1e3,x=Math.round((h-v)/60),m;if(x<2)return r!=null&&r.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,d):h<10?o.formatDistance("lessThanXSeconds",10,d):h<20?o.formatDistance("lessThanXSeconds",20,d):h<40?o.formatDistance("halfAMinute",0,d):h<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):x===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",x,d);if(x<45)return o.formatDistance("xMinutes",x,d);if(x<90)return o.formatDistance("aboutXHours",1,d);if(x<$t){var p=Math.round(x/60);return o.formatDistance("aboutXHours",p,d)}else{if(x<Wo)return o.formatDistance("xDays",1,d);if(x<tt){var b=Math.round(x/$t);return o.formatDistance("xDays",b,d)}else if(x<zo)return m=Math.round(x/tt),o.formatDistance("aboutXMonths",m,d)}if(m=oo(c,u),m<12){var g=Math.round(x/tt);return o.formatDistance("xMonths",g,d)}else{var j=m%12,N=Math.floor(m/12);return j<3?o.formatDistance("aboutXYears",N,d):j<9?o.formatDistance("overXYears",N,d):o.formatDistance("almostXYears",N+1,d)}}function Vo(e,t){return H(1,arguments),qo(e,Date.now(),t)}function Bt(){var a;const{data:e,isLoading:t,error:r}=Va();if(console.log("PlayHistory debug:",{history:e,isLoading:t,error:r,tracks:(a=e==null?void 0:e.tracks)==null?void 0:a.length}),t)return n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[n.jsx(Ve,{className:"w-5 h-5"}),n.jsx("span",{children:"Play History"})]}),n.jsx(ge,{})]});if(r||!e)return n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[n.jsx(Ve,{className:"w-5 h-5"}),n.jsx("span",{children:"Play History"})]}),n.jsx("div",{className:"text-center text-gray-400 py-8",children:n.jsx("p",{children:"Unable to load play history"})})]});const s=e.tracks||[];return n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[n.jsx(Ve,{className:"w-5 h-5"}),n.jsx("span",{children:"Play History"})]}),s.length===0?n.jsxs("div",{className:"text-center text-gray-400 py-8",children:[n.jsx(Zt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No tracks played yet"}),n.jsx("p",{className:"text-sm mt-1",children:"Start the radio to see your play history!"})]}):n.jsx("div",{className:"space-y-4",children:s.map((i,o)=>n.jsx(Jo,{item:i,isRecent:o<3},`${i.play.id}-${o}`))})]})}function Jo({item:e,isRecent:t}){const r=e.track,s=e.play,a=e.commentary,i=new Date(s.started_at),o=Vo(i,{addSuffix:!0}),l=d=>{const u=Math.floor(d/60),c=Math.floor(d%60);return`${u}:${c.toString().padStart(2,"0")}`};return n.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg transition-all ${t?"bg-primary-900 bg-opacity-20 border border-primary-800":"bg-gray-800 bg-opacity-50 hover:bg-opacity-80"}`,children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pirate-600 to-pirate-800 rounded-md flex items-center justify-center overflow-hidden",children:r.artwork_url?n.jsx("img",{src:r.artwork_url,alt:`${r.title} artwork`,className:"w-full h-full object-cover"}):n.jsx(Zt,{className:"w-6 h-6 text-pirate-300"})})}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"min-w-0 flex-grow",children:[n.jsx("h3",{className:"font-semibold text-white truncate",children:r.title}),n.jsx("p",{className:"text-gray-300 text-sm truncate",children:r.artist}),r.album&&n.jsxs("p",{className:"text-gray-400 text-xs truncate",children:[r.album,r.year&&` • ${r.year}`]})]}),n.jsxs("div",{className:"flex-shrink-0 text-right ml-4",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:o}),r.duration_sec&&n.jsx("div",{className:"text-xs text-gray-500",children:l(r.duration_sec)})]})]}),a&&n.jsx("div",{className:"mt-3 p-3 bg-gray-900 bg-opacity-50 rounded-md border border-gray-600",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(ot,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-grow",children:[n.jsx("p",{className:"text-sm text-gray-300",children:a.text}),a.audio_url&&n.jsx("div",{className:"mt-2",children:n.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[n.jsx("source",{src:a.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]})}),r.tags&&r.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.tags.slice(0,3).map((d,u)=>n.jsx("span",{className:"inline-block bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:d},u))})]}),n.jsx("div",{className:"flex-shrink-0",children:s.was_skipped?n.jsx("div",{className:"text-orange-400 text-xs",children:"Skipped"}):n.jsx(Rs,{className:"w-4 h-4 text-green-400"})})]})}const Ko=()=>{const[e,t]=w.useState(!0),[r,s]=w.useState(!1),[a,i]=w.useState([]),[o,l]=w.useState({}),[d,u]=w.useState(!1),[c,h]=w.useState(null),[v,x]=w.useState(!1),[m,p]=w.useState(null),[b,g]=w.useState(null);w.useEffect(()=>{_e.getSettings().then(y=>p(y.data)).catch(()=>g("Failed to load settings"))},[]),w.useEffect(()=>{const y=(m==null?void 0:m.dj_voice_provider)||"kokoro";(async()=>{var D,Z,be;try{if(y==="xtts"){const R=await E.get("/admin/voices-xtts"),F=(D=R.data)==null?void 0:D.voices;Array.isArray(F)?i(F):i([]),l((Z=R.data)!=null&&Z.voices_map&&typeof R.data.voices_map=="object"?R.data.voices_map:{})}else{const F=(be=(await E.get("/admin/voices")).data)==null?void 0:be.voices;Array.isArray(F)?i(F):i([]),l({})}}catch{i([]),l({})}})()},[m==null?void 0:m.dj_voice_provider]);const j=async()=>{var y,$;if(m){s(!0),g(null);try{await _e.updateSettings(m)}catch(D){g((($=(y=D==null?void 0:D.response)==null?void 0:y.data)==null?void 0:$.detail)||"Failed to save settings")}finally{s(!1)}}},N=y=>y.replace(/<[^>]*>/g,""),{data:k,isLoading:_,error:M,refetch:P}=Oe({queryKey:["ttsStatus",e],queryFn:()=>E.get("/admin/tts-status?window_hours=24&limit=100").then(y=>y.data),refetchInterval:e?3e4:!1,staleTime:1e4}),V=y=>y?y<1e3?`${y}ms`:`${(y/1e3).toFixed(1)}s`:"N/A",ye=async y=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await _e.deleteCommentary(y),P()}catch($){console.error("Failed to delete commentary:",$)}},We=y=>{switch(y){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},ze=y=>{switch(y){case"running":return"🟢";case"stopped":return"🔴";case"warning":return"🟡";default:return"⚪"}};if(_)return n.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(ge,{message:"Loading TTS monitoring data..."})})});if(M)return n.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center text-red-400",children:[n.jsx("p",{className:"text-xl mb-2",children:"⚠️ Error Loading TTS Status"}),n.jsx("p",{children:"Unable to fetch TTS monitoring data"}),n.jsx("button",{onClick:()=>P(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})});const A=k==null?void 0:k.statistics,vt=(k==null?void 0:k.recent_activity)||[],W=k==null?void 0:k.system_status;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"⚙️ DJ Settings"}),n.jsx("button",{onClick:j,disabled:!m||r,className:`px-3 py-2 rounded-lg text-white text-sm ${r?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:r?"Saving…":"Save Settings"})]}),b&&n.jsx("div",{className:"text-red-400 text-sm mb-3",children:b}),m?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(m.dj_max_seconds??30),onChange:y=>p({...m,dj_max_seconds:parseInt(y.target.value||"0",10)}),className:"flex-1"}),n.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(m.dj_max_seconds??30),onChange:y=>p({...m,dj_max_seconds:parseInt(y.target.value||"0",10)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Target length used to trim commentary naturally."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),n.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.dj_provider||"ollama",onChange:y=>p({...m,dj_provider:y.target.value}),children:[n.jsx("option",{value:"ollama",children:"Ollama"}),n.jsx("option",{value:"openai",children:"OpenAI"}),n.jsx("option",{value:"disabled",children:"Disabled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),n.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.dj_voice_provider||"kokoro",onChange:y=>p({...m,dj_voice_provider:y.target.value}),children:[n.jsx("option",{value:"kokoro",children:"Kokoro"}),n.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),n.jsx("option",{value:"liquidsoap",children:"Liquidsoap"}),n.jsx("option",{value:"xtts",children:"XTTS"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:m.dj_voice_provider==="xtts"?"XTTS Voice":"Kokoro Voice"}),(()=>{let y=a.length?a:m.dj_voice_provider==="xtts"?[]:["af_bella","af_aria","af_sky","af_nicole","am_onyx","am_michael","am_ryan","am_alex","bf_ava","bf_sophie","bm_george","bm_james"];if(m.dj_voice_provider==="xtts"&&!d){const R=["coqui-tts:en_ljspeech","coqui-tts:en_vctk"];y=y.filter(F=>R.includes(F))}const $=m.dj_voice_provider==="xtts"?"xtts_voice":"kokoro_voice",D=m[$]||"",Z=D&&!y.includes(D),be=Z?"custom":D||y[0]||"";return n.jsxs("div",{className:"space-y-2",children:[m.dj_voice_provider==="xtts"&&n.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-600",checked:d,onChange:R=>u(R.target.checked)}),"Show all XTTS voices (includes espeak/festival/larynx/etc.)"]}),n.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:be,onChange:R=>{const F=R.target.value;F!=="custom"&&p({...m,[$]:F})},children:[y.map(R=>n.jsx("option",{value:R,children:R},R)),n.jsx("option",{value:"custom",children:"Custom…"})]}),(Z||D==="")&&n.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:D,onChange:R=>p({...m,[$]:R.target.value}),placeholder:m.dj_voice_provider==="xtts"?"Enter XTTS voice id":"Enter Kokoro voice id"}),m.dj_voice_provider==="xtts"&&(()=>{const R=o[D],F=R&&typeof R=="object"?R.speakers:null,ve=F&&typeof F=="object"?Object.keys(F):[];if(!ve.length)return null;const qe=m.xtts_speaker||"",Er=qe&&ve.includes(qe)?qe:ve[0];return n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-xs text-gray-400",children:"XTTS Speaker"}),n.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Er,onChange:oe=>p({...m,xtts_speaker:oe.target.value}),children:ve.map(oe=>n.jsx("option",{value:oe,children:oe},oe))})]})})()]})})(),m.dj_voice_provider!=="xtts"&&n.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[n.jsx("button",{onClick:async()=>{var y;if(m){x(!0),h(null);try{const $=`Welcome to Raido. Testing voice ${m.kokoro_voice||"af_bella"} at speed ${m.kokoro_speed??1}.`,Z=(y=(await E.post("/admin/tts-test",{text:$,voice:m.kokoro_voice,speed:m.kokoro_speed,volume:m.dj_tts_volume})).data)==null?void 0:y.audio_url;Z&&h(Z)}catch{g("TTS test failed")}finally{x(!1)}}},disabled:v,className:`px-3 py-2 rounded-lg text-white text-sm ${v?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:v?"Testing…":"Test Kokoro Voice"}),c&&n.jsx("audio",{controls:!0,className:"h-8",children:n.jsx("source",{src:c,type:"audio/mpeg"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Gain (Volume Multiplier)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(m.dj_tts_volume??1),onChange:y=>p({...m,dj_tts_volume:parseFloat(y.target.value)}),className:"flex-1"}),n.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(m.dj_tts_volume??1),onChange:y=>p({...m,dj_tts_volume:parseFloat(y.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Boost quiet clips (0.5×–2.0×). Applied to Kokoro."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(m.kokoro_speed??1),onChange:y=>p({...m,kokoro_speed:parseFloat(y.target.value)}),className:"flex-1"}),n.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(m.kokoro_speed??1),onChange:y=>p({...m,kokoro_speed:parseFloat(y.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Playback speed multiplier (0.5×–1.5×). Kokoro only."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),n.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.ollama_model||"",onChange:y=>p({...m,ollama_model:y.target.value}),placeholder:"e.g. llama3.1:8b"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Temperature"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(m.dj_temperature??.8),onChange:y=>p({...m,dj_temperature:parseFloat(y.target.value)}),className:"flex-1"}),n.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(m.dj_temperature??.8),onChange:y=>p({...m,dj_temperature:parseFloat(y.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Higher = more creative, lower = more consistent."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Max Tokens"}),n.jsx("input",{type:"number",min:50,max:1e3,step:10,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Number(m.dj_max_tokens??200),onChange:y=>p({...m,dj_max_tokens:parseInt(y.target.value||"0",10)}),placeholder:"e.g. 200"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caps commentary length; real cap also based on time."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Default DJ Prompt"}),n.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white h-28",value:m.dj_prompt_template||"",onChange:y=>p({...m,dj_prompt_template:y.target.value}),placeholder:"Write the prompt template used to generate commentary…"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supports Jinja templating; validated server-side."})]})]}):n.jsx("div",{className:"text-gray-400 text-sm",children:"Loading settings…"})]}),n.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"🎙️ TTS Monitoring Dashboard"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[n.jsx("input",{type:"checkbox",checked:e,onChange:y=>t(y.target.checked),className:"rounded border-gray-600 text-pirate-500 focus:ring-pirate-500"}),"Auto-refresh"]}),n.jsx("button",{onClick:()=>P(),className:"px-3 py-1 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg text-sm transition-colors",children:"Refresh"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl p-6 border border-green-600/20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:n.jsx("span",{className:"text-xl",children:"✅"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-green-300",children:"Success Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[(A==null?void 0:A.success_rate)||0,"%"]})]})]}),n.jsxs("p",{className:"text-sm text-green-400",children:[(A==null?void 0:A.success_24h)||0," of ",(A==null?void 0:A.total_24h)||0," in 24h"]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl p-6 border border-blue-600/20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:n.jsx("span",{className:"text-xl",children:"🎵"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-300",children:"Total Generated"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:(A==null?void 0:A.total_24h)||0})]})]}),n.jsx("p",{className:"text-sm text-blue-400",children:"Last 24 hours"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 rounded-xl p-6 border border-purple-600/20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:n.jsx("span",{className:"text-xl",children:"⚡"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-purple-300",children:"Avg Gen Time"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:V((A==null?void 0:A.avg_generation_time_ms)||null)})]})]}),n.jsx("p",{className:"text-sm text-purple-400",children:"Generation speed"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 rounded-xl p-6 border border-orange-600/20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center",children:n.jsx("span",{className:"text-xl",children:"🔊"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-orange-300",children:"Avg TTS Time"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:V((A==null?void 0:A.avg_tts_time_ms)||null)})]})]}),n.jsx("p",{className:"text-sm text-orange-400",children:"Voice synthesis"})]})]}),W&&n.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx("span",{children:"⚙️"}),"System Status"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[n.jsx("span",{className:"text-2xl",children:ze(W.tts_service)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"TTS Service"}),n.jsx("p",{className:`text-sm capitalize ${We(W.tts_service)}`,children:W.tts_service})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[n.jsx("span",{className:"text-2xl",children:ze(W.dj_worker)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"DJ Worker"}),n.jsx("p",{className:`text-sm capitalize ${We(W.dj_worker)}`,children:W.dj_worker})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[n.jsx("span",{className:"text-2xl",children:ze(W.kokoro_tts)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:"Kokoro TTS"}),n.jsx("p",{className:`text-sm capitalize ${We(W.kokoro_tts)}`,children:W.kokoro_tts})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx("span",{children:"📋"}),"Recent TTS Activity"]}),vt.length===0?n.jsx("div",{className:"text-center text-gray-400 py-8",children:n.jsx("p",{children:"No recent TTS activity"})}):n.jsx("div",{className:"space-y-3",children:vt.map(y=>n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${y.status==="ready"?"bg-green-400":y.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:y.transcript?y.transcript:N(y.text)}),n.jsxs("p",{className:"text-sm text-gray-400",children:[y.provider," • ",y.voice_provider,y.voice_id?` • voice: ${y.voice_id}`:""]})]}),n.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[n.jsxs("div",{className:"text-right text-sm text-gray-400",children:[n.jsx("div",{children:new Date(y.created_at).toLocaleTimeString()}),(y.generation_time_ms||y.tts_time_ms)&&n.jsxs("div",{className:"text-xs",children:[y.generation_time_ms&&`Gen: ${V(y.generation_time_ms)}`,y.generation_time_ms&&y.tts_time_ms&&" • ",y.tts_time_ms&&`TTS: ${V(y.tts_time_ms)}`]})]}),n.jsx("button",{onClick:()=>ye(y.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:n.jsx("span",{className:"text-sm",children:"🗑️"})})]})]}),y.audio_url&&n.jsx("div",{className:"mt-2",children:n.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[n.jsx("source",{src:y.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]},y.id))})]})]})},Zo=()=>{const[e,t]=w.useState(null),[r,s]=w.useState({}),[a,i]=w.useState("Welcome to Raido FM! This is a voice test sample."),[o,l]=w.useState([]),[d,u]=w.useState([]),[c,h]=w.useState(!0),v=["af_bella","af_sarah","af_sky","af_nicole","af_aria","am_onyx","am_michael","am_ryan","am_alex","am_eric","bf_emma","bf_alice","bf_lily","bm_george","bm_lewis"],x=["alloy","echo","fable","onyx","nova","shimmer"];w.useEffect(()=>{(async()=>{var j,N;try{h(!0);try{const _=((j=(await E.get("/admin/voices")).data)==null?void 0:j.voices)||[];l(_.slice(0,20))}catch(k){console.warn("Failed to fetch Kokoro voices, using fallback:",k),l(v)}try{const M=(((N=(await E.get("/admin/voices-xtts")).data)==null?void 0:N.voices)||[]).filter(P=>P.includes("coqui-tts:"));u(M)}catch(k){console.warn("Failed to fetch XTTS voices:",k),u([])}}finally{h(!1)}})()},[]);const m=async(g,j="kokoro")=>{var N;t(g);try{const k={text:a,voice:g,speed:1,volume:1},_=j==="xtts"?"/admin/tts-test-xtts":"/admin/tts-test",M=await E.post(_,k);(N=M.data)!=null&&N.audio_url&&s(P=>({...P,[g]:M.data.audio_url}))}catch(k){console.error(`Failed to test voice ${g}:`,k),alert(`Failed to test voice ${g}. Please try again.`)}finally{t(null)}},p=async()=>{const g=o.slice(0,5);for(const j of g)await m(j,"kokoro"),await new Promise(N=>setTimeout(N,1e3))},b=async()=>{const g=d.slice(0,3);for(const j of g)await m(j,"xtts"),await new Promise(N=>setTimeout(N,2e3))};return c?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-purple-900 p-6 flex items-center justify-center",children:n.jsx(ge,{message:"Loading available voices..."})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-purple-900 p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-700 p-6 mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"🎙️ TTS Voice Tester"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Test Kokoro and XTTS voices with custom text. Compare different voice providers and characteristics."}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),n.jsx("input",{type:"text",value:a,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Enter text to synthesize..."})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium",disabled:e!==null,children:e?"Testing...":"Test Top 5 Kokoro"}),d.length>0&&n.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded font-medium",disabled:e!==null,children:e?"Testing...":"Test Top 3 XTTS"})]})]})]}),n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-700 p-6 mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["🧠 Kokoro Voices (Neural TTS)",n.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",o.length," voices)"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(g=>n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-white",children:g}),n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-600 text-white rounded",children:"kokoro"})]}),n.jsx("div",{className:"flex gap-2 mb-3",children:n.jsx("button",{onClick:()=>m(g,"kokoro"),disabled:e===g,className:"flex-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-sm rounded",children:e===g?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin mr-1"}),n.jsx("span",{children:"Testing..."})]}):"Test Voice"})}),r[g]&&n.jsx("div",{className:"mt-3",children:n.jsxs("audio",{controls:!0,className:"w-full",children:[n.jsx("source",{src:r[g],type:"audio/mpeg"}),"Your browser does not support the audio element."]})})]},g))})]}),d.length>0&&n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-700 p-6 mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["🗣️ XTTS Voices (OpenTTS)",n.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",d.length," voices)"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(g=>n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-white text-sm",children:g}),n.jsx("span",{className:"text-xs px-2 py-1 bg-green-600 text-white rounded",children:"xtts"})]}),n.jsx("div",{className:"flex gap-2 mb-3",children:n.jsx("button",{onClick:()=>m(g,"xtts"),disabled:e===g,className:"flex-1 px-3 py-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white text-sm rounded",children:e===g?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin mr-1"}),n.jsx("span",{children:"Testing..."})]}):"Test Voice"})}),r[g]&&n.jsx("div",{className:"mt-3",children:n.jsxs("audio",{controls:!0,className:"w-full",children:[n.jsx("source",{src:r[g],type:"audio/wav"}),n.jsx("source",{src:r[g],type:"audio/mpeg"}),"Your browser does not support the audio element."]})})]},g))})]}),n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-700 p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["🤖 OpenAI TTS Voices",n.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"(requires API key)"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(g=>n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600 opacity-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-white",children:g}),n.jsx("span",{className:"text-xs px-2 py-1 bg-purple-600 text-white rounded",children:"openai"})]}),n.jsx("div",{className:"flex gap-2 mb-3",children:n.jsx("button",{disabled:!0,className:"flex-1 px-3 py-1 bg-gray-600 text-gray-400 text-sm rounded cursor-not-allowed",children:"API Required"})}),n.jsx("p",{className:"text-xs text-yellow-400",children:"Requires OpenAI API key and costs per request"})]},g))})]})]})})};function Xo(){return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:n.jsx(fn,{children:n.jsx(Ne,{children:n.jsxs(Dr,{children:[n.jsx(ie,{path:"/",element:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ne,{fallback:n.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:n.jsx(Ka,{})}),n.jsx(Ne,{fallback:n.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Coming Up."}),children:n.jsx(Za,{})}),n.jsx(Ne,{fallback:n.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Play History."}),children:n.jsx(Bt,{})})]})}),n.jsx(ie,{path:"/history",element:n.jsx(Bt,{})}),n.jsx(ie,{path:"/tts",element:n.jsx(Ko,{})}),n.jsx(ie,{path:"/voices",element:n.jsx(Zo,{})}),n.jsx(ie,{path:"*",element:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"🏴‍☠️ Page Not Found"}),n.jsx("p",{className:"text-gray-400",children:"Ye've sailed into uncharted waters, matey!"})]})})})]})})})})}const Go=new Ar({defaultOptions:{queries:{staleTime:60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>{var r,s;return((r=t==null?void 0:t.response)==null?void 0:r.status)>=400&&((s=t==null?void 0:t.response)==null?void 0:s.status)<500?!1:e<2}}}});st.createRoot(document.getElementById("root")).render(n.jsx(Y.StrictMode,{children:n.jsx(Ir,{client:Go,children:n.jsxs(Fr,{children:[n.jsx(Xo,{}),n.jsx(ks,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
