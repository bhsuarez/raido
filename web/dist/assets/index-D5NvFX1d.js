var Or=Object.defineProperty;var Dr=(e,t,s)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Nt=(e,t,s)=>Dr(e,typeof t!="symbol"?t+"":t,s);import{u as Pr,j as r,a as fe,Q as Fr,b as Lr}from"./query-BMTE4gjB.js";import{a as Ur,r as w,g as Br,b as ee}from"./vendor-CDaM45aE.js";import{u as $r,L as nt,R as Hr,a as ce,B as Wr}from"./router-q6GKdwt_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var ot={},_t=Ur;ot.createRoot=_t.createRoot,ot.hydrateRoot=_t.hydrateRoot;let zr={data:""},qr=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zr,Vr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jr=/\/\*[^]*?\*\/|  +/g,St=/\n+/g,Q=(e,t)=>{let s="",a="",n="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":a+=i[1]=="f"?Q(o,i):i+"{"+Q(o,i[1]=="k"?"":t)+"}":typeof o=="object"?a+=Q(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Q.p?Q.p(i,o):i+":"+o+";")}return s+(t&&n?t+"{"+n+"}":n)+a},Z={},zt=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+zt(e[s]);return t}return e},Kr=(e,t,s,a,n)=>{let i=zt(e),o=Z[i]||(Z[i]=(d=>{let u=0,c=11;for(;u<d.length;)c=101*c+d.charCodeAt(u++)>>>0;return"go"+c})(i));if(!Z[o]){let d=i!==e?e:(u=>{let c,f,b=[{}];for(;c=Vr.exec(u.replace(Jr,""));)c[4]?b.shift():c[3]?(f=c[3].replace(St," ").trim(),b.unshift(b[0][f]=b[0][f]||{})):b[0][c[1]]=c[2].replace(St," ").trim();return b[0]})(e);Z[o]=Q(n?{["@keyframes "+o]:d}:d,s?"":"."+o)}let l=s&&Z.g?Z.g:null;return s&&(Z.g=Z[o]),((d,u,c,f)=>{f?u.data=u.data.replace(f,d):u.data.indexOf(d)===-1&&(u.data=c?d+u.data:u.data+d)})(Z[o],t,a,l),o},Zr=(e,t,s)=>e.reduce((a,n,i)=>{let o=t[i];if(o&&o.call){let l=o(s),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":Q(l,""):l===!1?"":l}return a+n+(o??"")},"");function Pe(e){let t=this||{},s=e.call?e(t.p):e;return Kr(s.unshift?s.raw?Zr(s,[].slice.call(arguments,1),t.p):s.reduce((a,n)=>Object.assign(a,n&&n.call?n(t.p):n),{}):s,qr(t.target),t.g,t.o,t.k)}let qt,it,lt;Pe.bind({g:1});let G=Pe.bind({k:1});function Gr(e,t,s,a){Q.p=t,qt=e,it=s,lt=a}function Y(e,t){let s=this||{};return function(){let a=arguments;function n(i,o){let l=Object.assign({},i),d=l.className||n.className;s.p=Object.assign({theme:it&&it()},l),s.o=/ *go\d+/.test(d),l.className=Pe.apply(s,a)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),lt&&u[0]&&lt(l),qt(u,l)}return n}}var Xr=e=>typeof e=="function",Ie=(e,t)=>Xr(e)?e(t):e,Qr=(()=>{let e=0;return()=>(++e).toString()})(),Vt=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Yr=20,bt="default",Jt=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:a}=t;return Jt(e,{type:e.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ce=[],Kt={toasts:[],pausedAt:void 0,settings:{toastLimit:Yr}},V={},Zt=(e,t=bt)=>{V[t]=Jt(V[t]||Kt,e),Ce.forEach(([s,a])=>{s===t&&a(V[t])})},Gt=e=>Object.keys(V).forEach(t=>Zt(e,t)),es=e=>Object.keys(V).find(t=>V[t].toasts.some(s=>s.id===e)),Fe=(e=bt)=>t=>{Zt(t,e)},ts={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rs=(e={},t=bt)=>{let[s,a]=w.useState(V[t]||Kt),n=w.useRef(V[t]);w.useEffect(()=>(n.current!==V[t]&&a(V[t]),Ce.push([t,a]),()=>{let o=Ce.findIndex(([l])=>l===t);o>-1&&Ce.splice(o,1)}),[t]);let i=s.toasts.map(o=>{var l,d,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||ts[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...s,toasts:i}},ss=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Qr()}),pe=e=>(t,s)=>{let a=ss(t,e,s);return Fe(a.toasterId||es(a.id))({type:2,toast:a}),a.id},S=(e,t)=>pe("blank")(e,t);S.error=pe("error");S.success=pe("success");S.loading=pe("loading");S.custom=pe("custom");S.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Fe(t)(s):Gt(s)};S.dismissAll=e=>S.dismiss(void 0,e);S.remove=(e,t)=>{let s={type:4,toastId:e};t?Fe(t)(s):Gt(s)};S.removeAll=e=>S.remove(void 0,e);S.promise=(e,t,s)=>{let a=S.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=t.success?Ie(t.success,n):void 0;return i?S.success(i,{id:a,...s,...s==null?void 0:s.success}):S.dismiss(a),n}).catch(n=>{let i=t.error?Ie(t.error,n):void 0;i?S.error(i,{id:a,...s,...s==null?void 0:s.error}):S.dismiss(a)}),e};var as=1e3,ns=(e,t="default")=>{let{toasts:s,pausedAt:a}=rs(e,t),n=w.useRef(new Map).current,i=w.useCallback((f,b=as)=>{if(n.has(f))return;let x=setTimeout(()=>{n.delete(f),o({type:4,toastId:f})},b);n.set(f,x)},[]);w.useEffect(()=>{if(a)return;let f=Date.now(),b=s.map(x=>{if(x.duration===1/0)return;let g=(x.duration||0)+x.pauseDuration-(f-x.createdAt);if(g<0){x.visible&&S.dismiss(x.id);return}return setTimeout(()=>S.dismiss(x.id,t),g)});return()=>{b.forEach(x=>x&&clearTimeout(x))}},[s,a,t]);let o=w.useCallback(Fe(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=w.useCallback((f,b)=>{o({type:1,toast:{id:f,height:b}})},[o]),u=w.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),c=w.useCallback((f,b)=>{let{reverseOrder:x=!1,gutter:g=8,defaultPosition:y}=b||{},v=s.filter(j=>(j.position||y)===(f.position||y)&&j.height),N=v.findIndex(j=>j.id===f.id),m=v.filter((j,M)=>M<N&&j.visible).length;return v.filter(j=>j.visible).slice(...x?[m+1]:[0,m]).reduce((j,M)=>j+(M.height||0)+g,0)},[s]);return w.useEffect(()=>{s.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let b=n.get(f.id);b&&(clearTimeout(b),n.delete(f.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:c}}},os=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,is=G`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ls=G`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cs=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${os} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${is} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ls} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ds=G`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,us=Y("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ds} 1s linear infinite;
`,ms=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hs=G`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fs=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ms} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hs} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ps=Y("div")`
  position: absolute;
`,xs=Y("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gs=G`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bs=Y("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ys=({toast:e})=>{let{icon:t,type:s,iconTheme:a}=e;return t!==void 0?typeof t=="string"?w.createElement(bs,null,t):t:s==="blank"?null:w.createElement(xs,null,w.createElement(us,{...a}),s!=="loading"&&w.createElement(ps,null,s==="error"?w.createElement(cs,{...a}):w.createElement(fs,{...a})))},vs=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,js=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ws="0%{opacity:0;} 100%{opacity:1;}",Ns="0%{opacity:1;} 100%{opacity:0;}",_s=Y("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ss=Y("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ks=(e,t)=>{let s=e.includes("top")?1:-1,[a,n]=Vt()?[ws,Ns]:[vs(s),js(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Cs=w.memo(({toast:e,position:t,style:s,children:a})=>{let n=e.height?ks(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(ys,{toast:e}),o=w.createElement(Ss,{...e.ariaProps},Ie(e.message,e));return w.createElement(_s,{className:e.className,style:{...n,...s,...e.style}},typeof a=="function"?a({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});Gr(w.createElement);var Es=({id:e,className:t,style:s,onHeightUpdate:a,children:n})=>{let i=w.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;a(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return w.createElement("div",{ref:i,className:t,style:s},n)},Ts=(e,t)=>{let s=e.includes("top"),a=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...a,...n}},Rs=Pe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_e=16,As=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:u}=ns(s,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:_e,left:_e,right:_e,bottom:_e,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(c=>{let f=c.position||t,b=u.calculateOffset(c,{reverseOrder:e,gutter:a,defaultPosition:t}),x=Ts(f,b);return w.createElement(Es,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Rs:"",style:x},c.type==="custom"?Ie(c.message,c):n?n(c):w.createElement(Cs,{toast:c,position:f}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ms={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const s=w.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...u},c)=>w.createElement("svg",{ref:c,...Ms,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Is(e)}`,l].join(" "),...u},[...t.map(([f,b])=>w.createElement(f,b)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=X("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=X("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=X("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=X("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=X("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Bs={},kt=e=>{let t;const s=new Set,a=(c,f)=>{const b=typeof c=="function"?c(t):c;if(!Object.is(b,t)){const x=t;t=f??(typeof b!="object"||b===null)?b:Object.assign({},t,b),s.forEach(g=>g(t,x))}},n=()=>t,d={setState:a,getState:n,getInitialState:()=>u,subscribe:c=>(s.add(c),()=>s.delete(c)),destroy:()=>{(Bs?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(a,n,d);return d},$s=e=>e?kt(e):kt;var Yt={exports:{}},er={},tr={exports:{}},rr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=w;function Hs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:Hs,zs=ne.useState,qs=ne.useEffect,Vs=ne.useLayoutEffect,Js=ne.useDebugValue;function Ks(e,t){var s=t(),a=zs({inst:{value:s,getSnapshot:t}}),n=a[0].inst,i=a[1];return Vs(function(){n.value=s,n.getSnapshot=t,Ge(n)&&i({inst:n})},[e,s,t]),qs(function(){return Ge(n)&&i({inst:n}),e(function(){Ge(n)&&i({inst:n})})},[e]),Js(s),s}function Ge(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ws(e,s)}catch{return!0}}function Zs(e,t){return t()}var Gs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zs:Ks;rr.useSyncExternalStore=ne.useSyncExternalStore!==void 0?ne.useSyncExternalStore:Gs;tr.exports=rr;var Xs=tr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=w,Qs=Xs;function Ys(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ea=typeof Object.is=="function"?Object.is:Ys,ta=Qs.useSyncExternalStore,ra=Le.useRef,sa=Le.useEffect,aa=Le.useMemo,na=Le.useDebugValue;er.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var i=ra(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=aa(function(){function d(x){if(!u){if(u=!0,c=x,x=a(x),n!==void 0&&o.hasValue){var g=o.value;if(n(g,x))return f=g}return f=x}if(g=f,ea(c,x))return g;var y=a(x);return n!==void 0&&n(g,y)?(c=x,g):(c=x,f=y)}var u=!1,c,f,b=s===void 0?null:s;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,s,a,n]);var l=ta(e,i[0],i[1]);return sa(function(){o.hasValue=!0,o.value=l},[l]),na(l),l};Yt.exports=er;var oa=Yt.exports;const ia=Br(oa),sr={},{useDebugValue:la}=ee,{useSyncExternalStoreWithSelector:ca}=ia;let Ct=!1;const da=e=>e;function ua(e,t=da,s){(sr?"production":void 0)!=="production"&&s&&!Ct&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ct=!0);const a=ca(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return la(a),a}const ma=e=>{(sr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?$s(e):e,s=(a,n)=>ua(t,a,n);return Object.assign(s,t),s},ha=e=>ma,Xe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ct=new Map,Se=e=>{const t=ct.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([s,a])=>[s,a.getState()])):{}},fa=(e,t,s)=>{if(e===void 0)return{type:"untracked",connection:t.connect(s)};const a=ct.get(s.name);if(a)return{type:"tracked",store:e,...a};const n={connection:t.connect(s),stores:{}};return ct.set(s.name,n),{type:"tracked",store:e,...n}},pa=(e,t={})=>(s,a,n)=>{const{enabled:i,anonymousActionType:o,store:l,...d}=t;let u;try{u=(i??(Xe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(Xe?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(s,a,n);const{connection:c,...f}=fa(l,u,d);let b=!0;n.setState=(y,v,N)=>{const m=s(y,v);if(!b)return m;const j=N===void 0?{type:o||"anonymous"}:typeof N=="string"?{type:N}:N;return l===void 0?(c==null||c.send(j,a()),m):(c==null||c.send({...j,type:`${l}/${j.type}`},{...Se(d.name),[l]:n.getState()}),m)};const x=(...y)=>{const v=b;b=!1,s(...y),b=v},g=e(n.setState,a,n);if(f.type==="untracked"?c==null||c.init(g):(f.stores[f.store]=n,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([y,v])=>[y,y===f.store?g:v.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let y=!1;const v=n.dispatch;n.dispatch=(...N)=>{(Xe?"production":void 0)!=="production"&&N[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),v(...N)}}return c.subscribe(y=>{var v;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Qe(y.payload,N=>{if(N.type==="__setState"){if(l===void 0){x(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const m=N.state[l];if(m==null)return;JSON.stringify(n.getState())!==JSON.stringify(m)&&x(m);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(N)});case"DISPATCH":switch(y.payload.type){case"RESET":return x(g),l===void 0?c==null?void 0:c.init(n.getState()):c==null?void 0:c.init(Se(d.name));case"COMMIT":if(l===void 0){c==null||c.init(n.getState());return}return c==null?void 0:c.init(Se(d.name));case"ROLLBACK":return Qe(y.state,N=>{if(l===void 0){x(N),c==null||c.init(n.getState());return}x(N[l]),c==null||c.init(Se(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Qe(y.state,N=>{if(l===void 0){x(N);return}JSON.stringify(n.getState())!==JSON.stringify(N[l])&&x(N[l])});case"IMPORT_STATE":{const{nextLiftedState:N}=y.payload,m=(v=N.computedStates.slice(-1)[0])==null?void 0:v.state;if(!m)return;x(l===void 0?m:m[l]),c==null||c.send(null,N);return}case"PAUSE_RECORDING":return b=!b}return}}),g},xa=pa,Qe=(e,t)=>{let s;try{s=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}s!==void 0&&t(s)},dt=ha()(xa((e,t)=>({isConnected:!1,setIsConnected:s=>e({isConnected:s}),nowPlaying:void 0,updateNowPlaying:s=>e({nowPlaying:s}),isDarkMode:!0,toggleDarkMode:()=>{const s=!t().isDarkMode;e({isDarkMode:s}),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("raido-dark-mode",s.toString())},volume:parseInt(localStorage.getItem("raido-volume")||"75"),setVolume:s=>{e({volume:s}),localStorage.setItem("raido-volume",s.toString())},isMuted:localStorage.getItem("raido-muted")==="true",toggleMute:()=>{const s=!t().isMuted;e({isMuted:s}),localStorage.setItem("raido-muted",s.toString())},isAdmin:!1,setIsAdmin:s=>e({isAdmin:s})}),{name:"raido-store"})),ga=localStorage.getItem("raido-dark-mode")!=="false";ga?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function ba(){const e=w.useRef(null),t=Pr(),{setIsConnected:s,updateNowPlaying:a}=dt(),n=w.useRef(),i=w.useRef(0),o=5,l=()=>{try{const u=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;e.current=new WebSocket(u),e.current.onopen=()=>{console.log("ðŸ´â€â˜ ï¸ WebSocket connected"),s(!0),i.current>0&&S.success("ðŸ´â€â˜ ï¸ Reconnected to the radio!"),i.current=0},e.current.onmessage=c=>{try{const f=JSON.parse(c.data);switch(f.type){case"now_playing":case"track_change":a(f.data),t.invalidateQueries({queryKey:["nowPlaying"]}),t.invalidateQueries({queryKey:["nextUp"]}),t.invalidateQueries({queryKey:["history"]});break;case"commentary":S("ðŸ—£ï¸ New DJ commentary!",{icon:"ðŸŽ™ï¸",duration:3e3}),t.invalidateQueries({queryKey:["history"]});break;default:console.log("Unknown WebSocket message type:",f.type)}}catch(f){console.error("Error parsing WebSocket message:",f)}},e.current.onclose=c=>{if(console.log("WebSocket disconnected:",c.code,c.reason),s(!1),c.code!==1e3&&i.current<o){const f=Math.min(1e3*Math.pow(2,i.current),3e4);i.current++,console.log(`Reconnecting in ${f}ms (attempt ${i.current})`),n.current=setTimeout(()=>{l()},f)}else i.current>=o&&S.error("ðŸ´â€â˜ ï¸ Lost connection to the radio. Please refresh.")},e.current.onerror=c=>{console.error("WebSocket error:",c)}}catch(d){console.error("Error creating WebSocket:",d),s(!1)}};return w.useEffect(()=>(l(),()=>{n.current&&clearTimeout(n.current),e.current&&e.current.close(1e3,"Component unmounting")}),[]),{isConnected:dt(d=>d.isConnected),reconnect:l}}function ya({children:e}){const t=$r(),{isConnected:s,toggleDarkMode:a,isDarkMode:n}=dt();ba();const i=[{name:"Now Playing",href:"/",icon:Ds},{name:"DJ Admin",href:"/tts",icon:Xt},{name:"Analytics",href:"/analytics",icon:Os}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:[r.jsxs("header",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Fs,{className:"h-8 w-8 text-primary-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold font-pirate text-primary-400 glitch","data-text":"RAIDO",children:"RAIDO"}),r.jsx("p",{className:"text-xs text-gray-400 -mt-1",children:"AI Pirate Radio"})]})]})}),r.jsx("nav",{className:"hidden md:flex space-x-6",children:i.map(o=>{const l=t.pathname===o.href;return r.jsxs(nt,{to:o.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[r.jsx(o.icon,{className:"h-4 w-4"}),r.jsx("span",{children:o.name})]},o.name)})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`flex items-center space-x-2 text-xs ${s?"text-green-400":"text-red-400"}`,children:[s?r.jsx(Us,{className:"h-4 w-4"}):r.jsx(Ls,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:s?"Connected":"Disconnected"})]}),r.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle dark mode",children:n?"â˜€ï¸":"ðŸŒ™"})]})]})}),r.jsx("div",{className:"md:hidden border-t border-gray-700",children:r.jsx("div",{className:"px-4 py-2 space-y-1",children:i.map(o=>{const l=t.pathname===o.href;return r.jsxs(nt,{to:o.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[r.jsx(o.icon,{className:"h-4 w-4"}),r.jsx("span",{children:o.name})]},o.name)})})})]}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),r.jsx("footer",{className:"bg-gray-800 bg-opacity-50 border-t border-gray-700 mt-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[r.jsx("p",{children:"ðŸ´â€â˜ ï¸ Raido - AI Pirate Radio Â© 2024"}),r.jsx("p",{className:"mt-1",children:"Sailing the digital seas with AI-powered beats"})]})})})]})}class ke extends ee.Component{constructor(s){super(s);Nt(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("UI ErrorBoundary caught:",s,a)}render(){var s;return this.state.hasError?this.props.fallback??r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),((s=this.state.error)==null?void 0:s.message)&&r.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),r.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function ar(e,t){return function(){return e.apply(t,arguments)}}const{toString:va}=Object.prototype,{getPrototypeOf:yt}=Object,{iterator:Ue,toStringTag:nr}=Symbol,Be=(e=>t=>{const s=va.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>Be(t)===e),$e=e=>t=>typeof t===e,{isArray:oe}=Array,he=$e("undefined");function xe(e){return e!==null&&!he(e)&&e.constructor!==null&&!he(e.constructor)&&L(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const or=H("ArrayBuffer");function ja(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&or(e.buffer),t}const wa=$e("string"),L=$e("function"),ir=$e("number"),ge=e=>e!==null&&typeof e=="object",Na=e=>e===!0||e===!1,Ee=e=>{if(Be(e)!=="object")return!1;const t=yt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nr in e)&&!(Ue in e)},_a=e=>{if(!ge(e)||xe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Sa=H("Date"),ka=H("File"),Ca=H("Blob"),Ea=H("FileList"),Ta=e=>ge(e)&&L(e.pipe),Ra=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||L(e.append)&&((t=Be(e))==="formdata"||t==="object"&&L(e.toString)&&e.toString()==="[object FormData]"))},Aa=H("URLSearchParams"),[Ma,Ia,Oa,Da]=["ReadableStream","Request","Response","Headers"].map(H),Pa=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function be(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),oe(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(xe(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],t.call(null,e[l],l,e)}}function lr(e,t){if(xe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cr=e=>!he(e)&&e!==te;function ut(){const{caseless:e}=cr(this)&&this||{},t={},s=(a,n)=>{const i=e&&lr(t,n)||n;Ee(t[i])&&Ee(a)?t[i]=ut(t[i],a):Ee(a)?t[i]=ut({},a):oe(a)?t[i]=a.slice():t[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&be(arguments[a],s);return t}const Fa=(e,t,s,{allOwnKeys:a}={})=>(be(t,(n,i)=>{s&&L(n)?e[i]=ar(n,s):e[i]=n},{allOwnKeys:a}),e),La=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ua=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Ba=(e,t,s,a)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&yt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},$a=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},Ha=e=>{if(!e)return null;if(oe(e))return e;let t=e.length;if(!ir(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Wa=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yt(Uint8Array)),za=(e,t)=>{const a=(e&&e[Ue]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},qa=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},Va=H("HTMLFormElement"),Ja=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),Et=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Ka=H("RegExp"),dr=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};be(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},Za=e=>{dr(e,(t,s)=>{if(L(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(L(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ga=(e,t)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return oe(e)?a(e):a(String(e).split(t)),s},Xa=()=>{},Qa=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ya(e){return!!(e&&L(e.append)&&e[nr]==="FormData"&&e[Ue])}const en=e=>{const t=new Array(10),s=(a,n)=>{if(ge(a)){if(t.indexOf(a)>=0)return;if(xe(a))return a;if(!("toJSON"in a)){t[n]=a;const i=oe(a)?[]:{};return be(a,(o,l)=>{const d=s(o,n+1);!he(d)&&(i[l]=d)}),t[n]=void 0,i}}return a};return s(e,0)},tn=H("AsyncFunction"),rn=e=>e&&(ge(e)||L(e))&&L(e.then)&&L(e.catch),ur=((e,t)=>e?setImmediate:t?((s,a)=>(te.addEventListener("message",({source:n,data:i})=>{n===te&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),te.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",L(te.postMessage)),sn=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||ur,an=e=>e!=null&&L(e[Ue]),h={isArray:oe,isArrayBuffer:or,isBuffer:xe,isFormData:Ra,isArrayBufferView:ja,isString:wa,isNumber:ir,isBoolean:Na,isObject:ge,isPlainObject:Ee,isEmptyObject:_a,isReadableStream:Ma,isRequest:Ia,isResponse:Oa,isHeaders:Da,isUndefined:he,isDate:Sa,isFile:ka,isBlob:Ca,isRegExp:Ka,isFunction:L,isStream:Ta,isURLSearchParams:Aa,isTypedArray:Wa,isFileList:Ea,forEach:be,merge:ut,extend:Fa,trim:Pa,stripBOM:La,inherits:Ua,toFlatObject:Ba,kindOf:Be,kindOfTest:H,endsWith:$a,toArray:Ha,forEachEntry:za,matchAll:qa,isHTMLForm:Va,hasOwnProperty:Et,hasOwnProp:Et,reduceDescriptors:dr,freezeMethods:Za,toObjectSet:Ga,toCamelCase:Ja,noop:Xa,toFiniteNumber:Qa,findKey:lr,global:te,isContextDefined:cr,isSpecCompliantForm:Ya,toJSONObject:en,isAsyncFn:tn,isThenable:rn,setImmediate:ur,asap:sn,isIterable:an};function _(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const mr=_.prototype,hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hr[e]={value:e}});Object.defineProperties(_,hr);Object.defineProperty(mr,"isAxiosError",{value:!0});_.from=(e,t,s,a,n,i)=>{const o=Object.create(mr);return h.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),_.call(o,e.message,t,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const nn=null;function mt(e){return h.isPlainObject(e)||h.isArray(e)}function fr(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,s){return e?e.concat(t).map(function(n,i){return n=fr(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function on(e){return h.isArray(e)&&!e.some(mt)}const ln=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function He(e,t,s){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=h.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!h.isUndefined(v[y])});const a=s.metaTokens,n=s.visitor||c,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(h.isDate(g))return g.toISOString();if(h.isBoolean(g))return g.toString();if(!d&&h.isBlob(g))throw new _("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(g)||h.isTypedArray(g)?d&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,y,v){let N=g;if(g&&!v&&typeof g=="object"){if(h.endsWith(y,"{}"))y=a?y:y.slice(0,-2),g=JSON.stringify(g);else if(h.isArray(g)&&on(g)||(h.isFileList(g)||h.endsWith(y,"[]"))&&(N=h.toArray(g)))return y=fr(y),N.forEach(function(j,M){!(h.isUndefined(j)||j===null)&&t.append(o===!0?Tt([y],M,i):o===null?y:y+"[]",u(j))}),!1}return mt(g)?!0:(t.append(Tt(v,y,i),u(g)),!1)}const f=[],b=Object.assign(ln,{defaultVisitor:c,convertValue:u,isVisitable:mt});function x(g,y){if(!h.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),h.forEach(g,function(N,m){(!(h.isUndefined(N)||N===null)&&n.call(t,N,h.isString(m)?m.trim():m,y,b))===!0&&x(N,y?y.concat(m):[m])}),f.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Rt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function vt(e,t){this._pairs=[],e&&He(e,this,t)}const pr=vt.prototype;pr.append=function(t,s){this._pairs.push([t,s])};pr.toString=function(t){const s=t?function(a){return t.call(this,a,Rt)}:Rt;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xr(e,t,s){if(!t)return e;const a=s&&s.encode||cn;h.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=h.isURLSearchParams(t)?t.toString():new vt(t,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class At{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(a){a!==null&&t(a)})}}const gr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dn=typeof URLSearchParams<"u"?URLSearchParams:vt,un=typeof FormData<"u"?FormData:null,mn=typeof Blob<"u"?Blob:null,hn={isBrowser:!0,classes:{URLSearchParams:dn,FormData:un,Blob:mn},protocols:["http","https","file","blob","url","data"]},jt=typeof window<"u"&&typeof document<"u",ht=typeof navigator=="object"&&navigator||void 0,fn=jt&&(!ht||["ReactNative","NativeScript","NS"].indexOf(ht.product)<0),pn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xn=jt&&window.location.href||"http://localhost",gn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserEnv:fn,hasStandardBrowserWebWorkerEnv:pn,navigator:ht,origin:xn},Symbol.toStringTag,{value:"Module"})),I={...gn,...hn};function bn(e,t){return He(e,new I.classes.URLSearchParams,{visitor:function(s,a,n,i){return I.isNode&&h.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function yn(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vn(e){const t={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],t[i]=e[i];return t}function br(e){function t(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&h.isArray(n)?n.length:o,d?(h.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),t(s,a,n[o],i)&&h.isArray(n[o])&&(n[o]=vn(n[o])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const s={};return h.forEachEntry(e,(a,n)=>{t(yn(a),n,s,0)}),s}return null}function jn(e,t,s){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const ye={transitional:gr,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=h.isObject(t);if(i&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return n?JSON.stringify(br(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return bn(t,this.formSerializer).toString();if((l=h.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return He(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),jn(t)):t}],transformResponse:[function(t){const s=this.transitional||ye.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?_.from(l,_.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{ye.headers[e]={}});const wn=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nn=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||t[s]&&wn[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},Mt=Symbol("internals");function de(e){return e&&String(e).trim().toLowerCase()}function Te(e){return e===!1||e==null?e:h.isArray(e)?e.map(Te):String(e)}function _n(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const Sn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ye(e,t,s,a,n){if(h.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!h.isString(t)){if(h.isString(a))return t.indexOf(a)!==-1;if(h.isRegExp(a))return a.test(t)}}function kn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function Cn(e,t){const s=h.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,t,n,i,o)},configurable:!0})})}let U=class{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function i(l,d,u){const c=de(d);if(!c)throw new Error("header name must be a non-empty string");const f=h.findKey(n,c);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||d]=Te(l))}const o=(l,d)=>h.forEach(l,(u,c)=>i(u,c,d));if(h.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(h.isString(t)&&(t=t.trim())&&!Sn(t))o(Nn(t),s);else if(h.isObject(t)&&h.isIterable(t)){let l={},d,u;for(const c of t){if(!h.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(d=l[u])?h.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}o(l,s)}else t!=null&&i(s,t,a);return this}get(t,s){if(t=de(t),t){const a=h.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return _n(n);if(h.isFunction(s))return s.call(this,n,a);if(h.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=de(t),t){const a=h.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||Ye(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function i(o){if(o=de(o),o){const l=h.findKey(a,o);l&&(!s||Ye(a,a[l],l,s))&&(delete a[l],n=!0)}}return h.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!t||Ye(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,a={};return h.forEach(this,(n,i)=>{const o=h.findKey(a,i);if(o){s[o]=Te(n),delete s[i];return}const l=t?kn(i):String(i).trim();l!==i&&delete s[i],s[l]=Te(n),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return h.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&h.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[Mt]=this[Mt]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=de(o);a[l]||(Cn(n,o),a[l]=!0)}return h.isArray(t)?t.forEach(i):i(t),this}};U.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(U.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});h.freezeMethods(U);function et(e,t){const s=this||ye,a=t||s,n=U.from(a.headers);let i=a.data;return h.forEach(e,function(l){i=l.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function yr(e){return!!(e&&e.__CANCEL__)}function ie(e,t,s){_.call(this,e??"canceled",_.ERR_CANCELED,t,s),this.name="CanceledError"}h.inherits(ie,_,{__CANCEL__:!0});function vr(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new _("Request failed with status code "+s.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function En(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tn(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=a[i];o||(o=u),s[n]=d,a[n]=u;let f=i,b=0;for(;f!==n;)b+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),u-o<t)return;const x=c&&u-c;return x?Math.round(b*1e3/x):void 0}}function Rn(e,t){let s=0,a=1e3/t,n,i;const o=(u,c=Date.now())=>{s=c,n=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const c=Date.now(),f=c-s;f>=a?o(u,c):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const Oe=(e,t,s=3)=>{let a=0;const n=Tn(50,250);return Rn(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,u=n(d),c=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},It=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Ot=e=>(...t)=>h.asap(()=>e(...t)),An=I.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,I.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,Mn=I.hasStandardBrowserEnv?{write(e,t,s,a,n,i){const o=[e+"="+encodeURIComponent(t)];h.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),h.isString(a)&&o.push("path="+a),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function In(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function On(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jr(e,t,s){let a=!In(t);return e&&(a||s==!1)?On(e,t):t}const Dt=e=>e instanceof U?{...e}:e;function se(e,t){t=t||{};const s={};function a(u,c,f,b){return h.isPlainObject(u)&&h.isPlainObject(c)?h.merge.call({caseless:b},u,c):h.isPlainObject(c)?h.merge({},c):h.isArray(c)?c.slice():c}function n(u,c,f,b){if(h.isUndefined(c)){if(!h.isUndefined(u))return a(void 0,u,f,b)}else return a(u,c,f,b)}function i(u,c){if(!h.isUndefined(c))return a(void 0,c)}function o(u,c){if(h.isUndefined(c)){if(!h.isUndefined(u))return a(void 0,u)}else return a(void 0,c)}function l(u,c,f){if(f in t)return a(u,c);if(f in e)return a(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c,f)=>n(Dt(u),Dt(c),f,!0)};return h.forEach(Object.keys({...e,...t}),function(c){const f=d[c]||n,b=f(e[c],t[c],c);h.isUndefined(b)&&f!==l||(s[c]=b)}),s}const wr=e=>{const t=se({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=U.from(o),t.url=xr(jr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(h.isFormData(s)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...c]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(I.hasStandardBrowserEnv&&(a&&h.isFunction(a)&&(a=a(t)),a||a!==!1&&An(t.url))){const u=n&&i&&Mn.read(i);u&&o.set(n,u)}return t},Dn=typeof XMLHttpRequest<"u",Pn=Dn&&function(e){return new Promise(function(s,a){const n=wr(e);let i=n.data;const o=U.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=n,c,f,b,x,g;function y(){x&&x(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function N(){if(!v)return;const j=U.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};vr(function(J){s(J),y()},function(J){a(J),y()},E),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(a(new _("Request aborted",_.ECONNABORTED,e,v)),v=null)},v.onerror=function(){a(new _("Network Error",_.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let M=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||gr;n.timeoutErrorMessage&&(M=n.timeoutErrorMessage),a(new _(M,E.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&h.forEach(o.toJSON(),function(M,E){v.setRequestHeader(E,M)}),h.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),l&&l!=="json"&&(v.responseType=n.responseType),u&&([b,g]=Oe(u,!0),v.addEventListener("progress",b)),d&&v.upload&&([f,x]=Oe(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",x)),(n.cancelToken||n.signal)&&(c=j=>{v&&(a(!j||j.type?new ie(null,e,v):j),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const m=En(n.url);if(m&&I.protocols.indexOf(m)===-1){a(new _("Unsupported protocol "+m+":",_.ERR_BAD_REQUEST,e));return}v.send(i||null)})},Fn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const i=function(u){if(!n){n=!0,l();const c=u instanceof Error?u:this.reason;a.abort(c instanceof _?c:new ie(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new _(`timeout ${t} of ms exceeded`,_.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>h.asap(l),d}},Ln=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},Un=async function*(e,t){for await(const s of Bn(e))yield*Ln(s,t)},Bn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},Pt=(e,t,s,a)=>{const n=Un(e,t);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await n.next();if(u){l(),d.close();return}let f=c.byteLength;if(s){let b=i+=f;s(b)}d.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},We=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Nr=We&&typeof ReadableStream=="function",$n=We&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_r=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Hn=Nr&&_r(()=>{let e=!1;const t=new Request(I.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ft=64*1024,ft=Nr&&_r(()=>h.isReadableStream(new Response("").body)),De={stream:ft&&(e=>e.body)};We&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!De[t]&&(De[t]=h.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new _(`Response type '${t}' is not supported`,_.ERR_NOT_SUPPORT,a)})})})(new Response);const Wn=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(I.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await $n(e)).byteLength},zn=async(e,t)=>{const s=h.toFiniteNumber(e.getContentLength());return s??Wn(t)},qn=We&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:b}=wr(e);u=u?(u+"").toLowerCase():"text";let x=Fn([n,i&&i.toAbortSignal()],o),g;const y=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(d&&Hn&&s!=="get"&&s!=="head"&&(v=await zn(c,a))!==0){let E=new Request(t,{method:"POST",body:a,duplex:"half"}),P;if(h.isFormData(a)&&(P=E.headers.get("content-type"))&&c.setContentType(P),E.body){const[J,ae]=It(v,Oe(Ot(d)));a=Pt(E.body,Ft,J,ae)}}h.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;g=new Request(t,{...b,signal:x,method:s.toUpperCase(),headers:c.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let m=await fetch(g,b);const j=ft&&(u==="stream"||u==="response");if(ft&&(l||j&&y)){const E={};["status","statusText","headers"].forEach(je=>{E[je]=m[je]});const P=h.toFiniteNumber(m.headers.get("content-length")),[J,ae]=l&&It(P,Oe(Ot(l),!0))||[];m=new Response(Pt(m.body,Ft,J,()=>{ae&&ae(),y&&y()}),E)}u=u||"text";let M=await De[h.findKey(De,u)||"text"](m,e);return!j&&y&&y(),await new Promise((E,P)=>{vr(E,P,{data:M,headers:U.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:g})})}catch(N){throw y&&y(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,e,g),{cause:N.cause||N}):_.from(N,N&&N.code,e,g)}}),pt={http:nn,xhr:Pn,fetch:qn};h.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lt=e=>`- ${e}`,Vn=e=>h.isFunction(e)||e===null||e===!1,Sr={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let i=0;i<t;i++){s=e[i];let o;if(a=s,!Vn(s)&&(a=pt[(o=String(s)).toLowerCase()],a===void 0))throw new _(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Lt).join(`
`):" "+Lt(i[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:pt};function tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ie(null,e)}function Ut(e){return tt(e),e.headers=U.from(e.headers),e.data=et.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sr.getAdapter(e.adapter||ye.adapter)(e).then(function(a){return tt(e),a.data=et.call(e,e.transformResponse,a),a.headers=U.from(a.headers),a},function(a){return yr(a)||(tt(e),a&&a.response&&(a.response.data=et.call(e,e.transformResponse,a.response),a.response.headers=U.from(a.response.headers))),Promise.reject(a)})}const kr="1.11.0",ze={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ze[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Bt={};ze.transitional=function(t,s,a){function n(i,o){return"[Axios v"+kr+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(t===!1)throw new _(n(o," has been removed"+(s?" in "+s:"")),_.ERR_DEPRECATED);return s&&!Bt[o]&&(Bt[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};ze.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Jn(e,t,s){if(typeof e!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new _("option "+i+" must be "+d,_.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new _("Unknown option "+i,_.ERR_BAD_OPTION)}}const Re={assertOptions:Jn,validators:ze},q=Re.validators;let re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new At,response:new At}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=se(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Re.assertOptions(a,{silentJSONParsing:q.transitional(q.boolean),forcedJSONParsing:q.transitional(q.boolean),clarifyTimeoutError:q.transitional(q.boolean)},!1),n!=null&&(h.isFunction(n)?s.paramsSerializer={serialize:n}:Re.assertOptions(n,{encode:q.function,serialize:q.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Re.assertOptions(s,{baseUrl:q.spelling("baseURL"),withXsrfToken:q.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[s.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),s.headers=U.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,f=0,b;if(!d){const g=[Ut.bind(this),void 0];for(g.unshift(...l),g.push(...u),b=g.length,c=Promise.resolve(s);f<b;)c=c.then(g[f++],g[f++]);return c}b=l.length;let x=s;for(f=0;f<b;){const g=l[f++],y=l[f++];try{x=g(x)}catch(v){y.call(this,v);break}}try{c=Ut.call(this,x)}catch(g){return Promise.reject(g)}for(f=0,b=u.length;f<b;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=se(this.defaults,t);const s=jr(t.baseURL,t.url,t.allowAbsoluteUrls);return xr(s,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){re.prototype[t]=function(s,a){return this.request(se(a||{},{method:t,url:s,data:(a||{}).data}))}});h.forEach(["post","put","patch"],function(t){function s(a){return function(i,o,l){return this.request(se(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}re.prototype[t]=s(),re.prototype[t+"Form"]=s(!0)});let Kn=class Cr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,l){a.reason||(a.reason=new ie(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Cr(function(n){t=n}),cancel:t}}};function Zn(e){return function(s){return e.apply(null,s)}}function Gn(e){return h.isObject(e)&&e.isAxiosError===!0}const xt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xt).forEach(([e,t])=>{xt[t]=e});function Er(e){const t=new re(e),s=ar(re.prototype.request,t);return h.extend(s,re.prototype,t,{allOwnKeys:!0}),h.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Er(se(e,n))},s}const C=Er(ye);C.Axios=re;C.CanceledError=ie;C.CancelToken=Kn;C.isCancel=yr;C.VERSION=kr;C.toFormData=He;C.AxiosError=_;C.Cancel=C.CanceledError;C.all=function(t){return Promise.all(t)};C.spread=Zn;C.isAxiosError=Gn;C.mergeConfig=se;C.AxiosHeaders=U;C.formToJSON=e=>br(h.isHTMLForm(e)?new FormData(e):e);C.getAdapter=Sr.getAdapter;C.HttpStatusCode=xt;C.default=C;const{Axios:ui,AxiosError:mi,CanceledError:hi,isCancel:fi,CancelToken:pi,VERSION:xi,all:gi,Cancel:bi,isAxiosError:yi,spread:vi,toFormData:ji,AxiosHeaders:wi,HttpStatusCode:Ni,formToJSON:_i,getAdapter:Si,mergeConfig:ki}=C,rt={},Xn=rt!=null&&rt.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",k=C.create({baseURL:Xn,timeout:1e4,headers:{"Content-Type":"application/json"}});k.interceptors.request.use(e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));k.interceptors.response.use(e=>e,e=>{var s,a,n,i,o;const t=((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.detail)||e.message||"An error occurred";return((n=e.response)==null?void 0:n.status)===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(((i=e.response)==null?void 0:i.status)>=500?S.error(`Server error: ${t}`):((o=e.response)==null?void 0:o.status)>=400?S.error(t):e.code==="NETWORK_ERROR"&&S.error("ðŸ´â€â˜ ï¸ Network error - check your connection!"),Promise.reject(e))});const Ae={getNowPlaying:()=>k.get("/now"),getHistory:(e=20,t=0)=>k.get(`/now/history?limit=${e}&offset=${t}`),getNextUp:(e=1)=>k.get(`/now/next?limit=${e}`),getSettings:()=>k.get("/admin/settings"),updateSettings:e=>k.post("/admin/settings",e),getStats:()=>k.get("/admin/stats"),getVoices:()=>k.get("/admin/voices"),getUsers:()=>k.get("/admin/users"),createUser:e=>k.post("/admin/users",e),updateUser:(e,t)=>k.put(`/admin/users/${e}`,t),deleteUser:e=>k.delete(`/admin/users/${e}`),deleteCommentary:e=>k.delete(`/admin/commentary/${e}`),skipTrack:()=>k.post("/liquidsoap/skip")};function Qn(){return fe({queryKey:["nowPlaying"],queryFn:()=>k.get("/now/").then(e=>e.data),refetchInterval:1e4,staleTime:5e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:3})}function Yn(e=20,t=0){return fe({queryKey:["history",e,t],queryFn:()=>k.get(`/now/history?limit=${e}&offset=${t}`).then(s=>s.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function eo(){return fe({queryKey:["nextUp"],queryFn:()=>k.get("/now/next?limit=1").then(e=>e.data),refetchInterval:3e4,staleTime:15e3,retry:2})}function ve({size:e="md",message:t="Loading...",fullScreen:s=!1}){const a={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},n=r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:`spinner ${a[e]}`}),t&&r.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return s?r.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:n}):n}const to=()=>{const{data:e,isLoading:t,error:s}=Qn(),a=e==null?void 0:e.track,n=e==null?void 0:e.progress,i=(a==null?void 0:a.duration_sec)??(n==null?void 0:n.total_seconds)??0,[o,l]=ee.useState((n==null?void 0:n.elapsed_seconds)??0),[d,u]=ee.useState(!1);ee.useEffect(()=>{l((n==null?void 0:n.elapsed_seconds)??0)},[n==null?void 0:n.elapsed_seconds,a==null?void 0:a.id]),ee.useEffect(()=>{if(!a||!i)return;const x=setInterval(()=>{l(g=>{const y=g+1;return y>i?i:y})},1e3);return()=>clearInterval(x)},[a==null?void 0:a.id,i]);const c=i?Math.max(0,i-o):0,f=async()=>{if(!d){u(!0);try{await Ae.skipTrack(),S.success("ðŸŽµ Track skipped!")}catch(x){console.error("Failed to skip track:",x),S.error("Failed to skip track")}finally{setTimeout(()=>u(!1),2e3)}}};if(t)return r.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(ve,{size:"lg",message:"Loading current track..."})})});if(s||!a)return r.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ´â€â˜ ï¸ Radio Offline"}),r.jsx("p",{children:"No track currently playing"})]})})});const b=x=>{if(!x||isNaN(x))return"0:00";const g=Math.floor(x),y=Math.floor(g/60),v=g%60;return`${y}:${v.toString().padStart(2,"0")}`};return r.jsxs("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:"ðŸ´â€â˜ ï¸ Now Playing on Raido"})]}),r.jsx("div",{className:"text-sm text-pirate-300 bg-pirate-800/50 px-3 py-1 rounded-full",children:"LIVE STREAM"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"w-full aspect-square rounded-2xl overflow-hidden shadow-2xl border-4 border-pirate-600/30",children:[a.artwork_url?r.jsx("img",{src:a.artwork_url,alt:`${a.album} by ${a.artist}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:x=>{const g=x.target;g.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMzc0MTUxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iMTAwIiBmaWxsPSIjMjkyODMxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iNjAiIGZpbGw9IiM0MzQxNGEiLz4KPHJlY3QgeD0iMTQ1IiB5PSI4MCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI0U2RTZFNiIvPgo8L3N2Zz4K"}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-6xl",children:"ðŸŽµ"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/20 rounded-2xl"})]}),r.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg p-3",children:[r.jsx("div",{className:"text-white text-sm font-medium truncate",children:a.album}),r.jsx("div",{className:"text-gray-300 text-xs",children:a.year})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h1",{className:"text-4xl font-bold text-white leading-tight",children:a.title}),r.jsxs("h2",{className:"text-2xl text-pirate-300 font-semibold",children:["by ",a.artist]}),r.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[r.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:["ðŸŽ¸ ",a.genre]}),r.jsxs("span",{className:"text-sm",children:[a.album," â€¢ ",a.year]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[r.jsx("span",{children:b(o)}),r.jsxs("span",{children:["-",b(c)]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 shadow-inner",children:r.jsx("div",{className:"bg-gradient-to-r from-pirate-500 via-pirate-400 to-pirate-300 h-3 rounded-full shadow-lg relative overflow-hidden",style:{width:`${i?Math.min(100,o/i*100):0}%`},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 animate-pulse"})})})]}),r.jsx("div",{className:"flex justify-center pt-4",children:r.jsx("button",{onClick:f,disabled:d,className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm shadow-lg transition-all duration-200
                ${d?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pirate-600 to-pirate-500 text-white hover:from-pirate-700 hover:to-pirate-600 hover:scale-105 active:scale-95"}
              `,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Skipping..."]}):r.jsx(r.Fragment,{children:"â­ï¸ Skip Track"})})}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx(nt,{to:"/tts",className:"bg-gradient-to-r from-pirate-600 to-pirate-500 hover:from-pirate-700 hover:to-pirate-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg transition-all duration-200 hover:scale-105 cursor-pointer",children:"ðŸ¤– AI Commentary Active - Monitor"}),r.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"ðŸŽ™ï¸ Kokoro TTS"}),r.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"ðŸ“» 24/7 Live"})]})]})]})]})},ro=()=>{const{data:e,isLoading:t,error:s}=eo();console.log("ComingUp nextUpData:",e),console.log("ComingUp isLoading:",t),console.log("ComingUp error:",s),console.log("ComingUp component is rendering!");const a=Array.isArray(e==null?void 0:e.next_tracks)&&e.next_tracks.length>0,n=a?e.next_tracks.map(o=>{const l=(o==null?void 0:o.track)??{},d=typeof l.duration_sec=="number"&&isFinite(l.duration_sec)&&l.duration_sec>0?l.duration_sec:0;return{id:typeof l.id=="number"?l.id:0,title:l.title||"Unknown",artist:l.artist||"Unknown Artist",album:l.album||"",year:typeof l.year=="number"?l.year:void 0,genre:l.genre||"Various",duration:d,artwork:l.artwork_url||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K",commentary:null}}):[],i=o=>{const l=typeof o=="number"?o:Number(o);if(!isFinite(l)||l<=0)return"0:00";const d=Math.floor(l),u=Math.floor(d/60),c=d%60;return`${u}:${c.toString().padStart(2,"0")}`};return t?r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(ve,{message:"Loading upcoming tracks..."})})}):r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"ðŸŽµ Coming Up Next"}),r.jsx("div",{className:"text-sm text-gray-400 bg-gray-800/50 px-3 py-1 rounded-full",children:a?"Live Queue":"No Queue Data"})]}),n.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 opacity-30",children:"ðŸŽµ"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tracks"}),r.jsxs("p",{className:"text-sm",children:["Liquidsoap is not providing queue information.",r.jsx("br",{}),"Tracks are played dynamically from the music library."]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"bg-gradient-to-r from-pirate-800/40 to-gray-800/40 rounded-xl p-6 border border-pirate-600/20",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-lg flex-shrink-0 bg-gray-700",children:r.jsx("img",{src:n[0].artwork,alt:`${n[0].album||"Unknown Album"} by ${n[0].artist}`,className:"w-full h-full object-cover",onError:o=>{const l=o.target;l.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white truncate",children:n[0].title}),r.jsx("p",{className:"text-pirate-300 font-medium truncate",children:n[0].artist}),r.jsxs("p",{className:"text-gray-400 text-sm truncate",children:[n[0].album||"Unknown Album"," ",n[0].year&&`â€¢ ${n[0].year}`]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0 ml-4",children:[r.jsx("div",{children:i(n[0].duration)}),r.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded text-xs mt-1",children:n[0].genre||"Various"})]})]}),n[0].commentary&&r.jsx("div",{className:"bg-pirate-900/30 rounded-lg p-4 border border-pirate-600/20 mt-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-pirate-500 to-pirate-400 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white text-xs",children:"ðŸ¤–"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed",children:[r.jsx("strong",{className:"text-pirate-300",children:"AI DJ Preview:"})," ",n[0].commentary]})})]})})]})]})})}),n.length>1&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-300 flex items-center gap-2",children:[r.jsx("span",{className:"text-pirate-400",children:"ðŸ“‹"}),"Following Tracks"]}),n.slice(1).map((o,l)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20 hover:bg-gray-800/50 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-pirate-800 flex items-center justify-center text-pirate-300 font-bold text-sm flex-shrink-0",children:l+2}),r.jsx("div",{className:"w-12 h-12 rounded overflow-hidden shadow flex-shrink-0 bg-gray-700",children:r.jsx("img",{src:o.artwork,alt:`${o.album||"Unknown Album"} by ${o.artist}`,className:"w-full h-full object-cover",onError:d=>{const u=d.target;u.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjI0IiB5PSIyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNiI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-white font-medium truncate",children:o.title}),r.jsxs("div",{className:"text-gray-400 text-sm truncate",children:[o.artist," ",o.album&&`â€¢ ${o.album}`]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0",children:[r.jsx("div",{children:i(o.duration)}),r.jsx("div",{className:"text-xs text-gray-500",children:o.genre||"Various"})]})]},`${o.id??0}-${l}-${o.title}-${o.artist}`))]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{children:"AI Commentary generation active"})]}),r.jsx("div",{className:"text-pirate-300 font-medium",children:"Powered by Kokoro TTS"})]})})]})};function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function W(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function O(e){W(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var so={};function ao(){return so}function $t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Me(e,t){W(2,arguments);var s=O(e),a=O(t),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function no(e,t){W(2,arguments);var s=O(e),a=O(t),n=s.getFullYear()-a.getFullYear(),i=s.getMonth()-a.getMonth();return n*12+i}function oo(e,t){return W(2,arguments),O(e).getTime()-O(t).getTime()}var io={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},lo="trunc";function co(e){return io[lo]}function uo(e){W(1,arguments);var t=O(e);return t.setHours(23,59,59,999),t}function mo(e){W(1,arguments);var t=O(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function ho(e){W(1,arguments);var t=O(e);return uo(t).getTime()===mo(t).getTime()}function fo(e,t){W(2,arguments);var s=O(e),a=O(t),n=Me(s,a),i=Math.abs(no(s,a)),o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);var l=Me(s,a)===-n;ho(O(e))&&i===1&&Me(e,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function po(e,t,s){W(2,arguments);var a=oo(e,t)/1e3;return co()(a)}var xo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},go=function(t,s,a){var n,i=xo[t];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function st(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth,a=e.formats[s]||e.formats[e.defaultWidth];return a}}var bo={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jo={date:st({formats:bo,defaultWidth:"full"}),time:st({formats:yo,defaultWidth:"full"}),dateTime:st({formats:vo,defaultWidth:"full"})},wo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},No=function(t,s,a,n){return wo[t]};function ue(e){return function(t,s){var a=s!=null&&s.context?String(s.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,d=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return n[u]}}var _o={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},So={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ko={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Co={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},To={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ro=function(t,s){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ao={ordinalNumber:Ro,era:ue({values:_o,defaultWidth:"wide"}),quarter:ue({values:So,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ue({values:ko,defaultWidth:"wide"}),day:ue({values:Co,defaultWidth:"wide"}),dayPeriod:ue({values:Eo,defaultWidth:"wide",formattingValues:To,defaultFormattingWidth:"wide"})};function me(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?Io(l,function(f){return f.test(o)}):Mo(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(d):d,u=s.valueCallback?s.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function Mo(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s}function Io(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s}function Oo(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var l=t.slice(n.length);return{value:o,rest:l}}}var Do=/^(\d+)(th|st|nd|rd)?/i,Po=/\d+/i,Fo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lo={any:[/^b/i,/^(a|c)/i]},Uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bo={any:[/1/i,/2/i,/3/i,/4/i]},$o={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ho={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jo={ordinalNumber:Oo({matchPattern:Do,parsePattern:Po,valueCallback:function(t){return parseInt(t,10)}}),era:me({matchPatterns:Fo,defaultMatchWidth:"wide",parsePatterns:Lo,defaultParseWidth:"any"}),quarter:me({matchPatterns:Uo,defaultMatchWidth:"wide",parsePatterns:Bo,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:me({matchPatterns:$o,defaultMatchWidth:"wide",parsePatterns:Ho,defaultParseWidth:"any"}),day:me({matchPatterns:Wo,defaultMatchWidth:"wide",parsePatterns:zo,defaultParseWidth:"any"}),dayPeriod:me({matchPatterns:qo,defaultMatchWidth:"any",parsePatterns:Vo,defaultParseWidth:"any"})},Ko={code:"en-US",formatDistance:go,formatLong:jo,formatRelative:No,localize:Ao,match:Jo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}function Zo(e){return Tr({},e)}var Ht=1440,Go=2520,at=43200,Xo=86400;function Qo(e,t,s){var a,n;W(2,arguments);var i=ao(),o=(a=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:i.locale)!==null&&a!==void 0?a:Ko;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Me(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Tr(Zo(s),{addSuffix:!!(s!=null&&s.addSuffix),comparison:l}),u,c;l>0?(u=O(t),c=O(e)):(u=O(e),c=O(t));var f=po(c,u),b=($t(c)-$t(u))/1e3,x=Math.round((f-b)/60),g;if(x<2)return s!=null&&s.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,d):f<10?o.formatDistance("lessThanXSeconds",10,d):f<20?o.formatDistance("lessThanXSeconds",20,d):f<40?o.formatDistance("halfAMinute",0,d):f<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):x===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",x,d);if(x<45)return o.formatDistance("xMinutes",x,d);if(x<90)return o.formatDistance("aboutXHours",1,d);if(x<Ht){var y=Math.round(x/60);return o.formatDistance("aboutXHours",y,d)}else{if(x<Go)return o.formatDistance("xDays",1,d);if(x<at){var v=Math.round(x/Ht);return o.formatDistance("xDays",v,d)}else if(x<Xo)return g=Math.round(x/at),o.formatDistance("aboutXMonths",g,d)}if(g=fo(c,u),g<12){var N=Math.round(x/at);return o.formatDistance("xMonths",N,d)}else{var m=g%12,j=Math.floor(g/12);return m<3?o.formatDistance("aboutXYears",j,d):m<9?o.formatDistance("overXYears",j,d):o.formatDistance("almostXYears",j+1,d)}}function Yo(e,t){return W(1,arguments),Qo(e,Date.now(),t)}function Wt(){var n;const{data:e,isLoading:t,error:s}=Yn();if(console.log("PlayHistory debug:",{history:e,isLoading:t,error:s,tracks:(n=e==null?void 0:e.tracks)==null?void 0:n.length}),t)return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ze,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),r.jsx(ve,{})]});if(s||!e)return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ze,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),r.jsx("div",{className:"text-center text-gray-400 py-8",children:r.jsx("p",{children:"Unable to load play history"})})]});const a=e.tracks||[];return r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[r.jsx(Ze,{className:"w-5 h-5"}),r.jsx("span",{children:"Play History"})]}),a.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(Qt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No tracks played yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Start the radio to see your play history!"})]}):r.jsx("div",{className:"space-y-4",children:a.map((i,o)=>r.jsx(ei,{item:i,isRecent:o<3},`${i.play.id}-${o}`))})]})}function ei({item:e,isRecent:t}){const s=e.track,a=e.play,n=e.commentary,i=new Date(a.started_at),o=Yo(i,{addSuffix:!0}),l=d=>{const u=Math.floor(d/60),c=Math.floor(d%60);return`${u}:${c.toString().padStart(2,"0")}`};return r.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg transition-all ${t?"bg-primary-900 bg-opacity-20 border border-primary-800":"bg-gray-800 bg-opacity-50 hover:bg-opacity-80"}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pirate-600 to-pirate-800 rounded-md flex items-center justify-center overflow-hidden",children:s.artwork_url?r.jsx("img",{src:s.artwork_url,alt:`${s.title} artwork`,className:"w-full h-full object-cover"}):r.jsx(Qt,{className:"w-6 h-6 text-pirate-300"})})}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-grow",children:[r.jsx("h3",{className:"font-semibold text-white truncate",children:s.title}),r.jsx("p",{className:"text-gray-300 text-sm truncate",children:s.artist}),s.album&&r.jsxs("p",{className:"text-gray-400 text-xs truncate",children:[s.album,s.year&&` â€¢ ${s.year}`]})]}),r.jsxs("div",{className:"flex-shrink-0 text-right ml-4",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:o}),s.duration_sec&&r.jsx("div",{className:"text-xs text-gray-500",children:l(s.duration_sec)})]})]}),n&&r.jsx("div",{className:"mt-3 p-3 bg-gray-900 bg-opacity-50 rounded-md border border-gray-600",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Xt,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-grow",children:[r.jsx("p",{className:"text-sm text-gray-300",children:n.text}),n.audio_url&&r.jsx("div",{className:"mt-2",children:r.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[r.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]})}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.slice(0,3).map((d,u)=>r.jsx("span",{className:"inline-block bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:d},u))})]}),r.jsx("div",{className:"flex-shrink-0",children:a.was_skipped?r.jsx("div",{className:"text-orange-400 text-xs",children:"Skipped"}):r.jsx(Ps,{className:"w-4 h-4 text-green-400"})})]})}const ti=()=>{const[e,t]=w.useState(!0),[s,a]=w.useState(!1),[n,i]=w.useState([]),[o,l]=w.useState({}),[d,u]=w.useState(!1),[c,f]=w.useState(null),[b,x]=w.useState(!1),[g,y]=w.useState([]),[v,N]=w.useState("Welcome to Raido FM! This voice sounds crisp and clear for our pirate radio commentary."),[m,j]=w.useState(null),[M,E]=w.useState(null),[P,J]=w.useState(!0);w.useEffect(()=>{Ae.getSettings().then(p=>j(p.data)).catch(()=>E("Failed to load settings"))},[]),w.useEffect(()=>{const p=(m==null?void 0:m.dj_voice_provider)||"kokoro";(async()=>{var A,$,Ne,R;try{if(p==="xtts"){const D=await k.get("/admin/voices-xtts"),B=(A=D.data)==null?void 0:A.voices;Array.isArray(B)?i(B):i([]),l(($=D.data)!=null&&$.voices_map&&typeof D.data.voices_map=="object"?D.data.voices_map:{})}else if(p==="chatterbox"){const B=(Ne=(await k.get("/admin/voices-chatterbox")).data)==null?void 0:Ne.voices;Array.isArray(B)?y(B):y([]),i([]),l({})}else{const B=(R=(await k.get("/admin/voices")).data)==null?void 0:R.voices;Array.isArray(B)?i(B):i([]),l({}),y([])}}catch{i([]),l({}),y([])}})()},[m==null?void 0:m.dj_voice_provider]);const ae=async()=>{var p,F;if(m){a(!0),E(null);try{await Ae.updateSettings(m),S.success("Settings saved successfully! ðŸŽ›ï¸")}catch(A){const $=((F=(p=A==null?void 0:A.response)==null?void 0:p.data)==null?void 0:F.detail)||"Failed to save settings";E($),S.error(`Save failed: ${$}`)}finally{a(!1)}}},je=p=>p.replace(/<[^>]*>/g,""),{data:K,isLoading:Rr,error:Ar,refetch:qe}=fe({queryKey:["ttsStatus",e],queryFn:()=>k.get("/admin/tts-status?window_hours=24&limit=100").then(p=>p.data),refetchInterval:e?3e4:!1,staleTime:1e4}),we=p=>p?p<1e3?`${p}ms`:`${(p/1e3).toFixed(1)}s`:"N/A",Mr=async p=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await Ae.deleteCommentary(p),qe()}catch(F){console.error("Failed to delete commentary:",F)}},Ve=p=>{switch(p){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},Je=p=>{switch(p){case"running":return"ðŸŸ¢";case"stopped":return"ðŸ”´";case"warning":return"ðŸŸ¡";default:return"âšª"}};if(Rr)return r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(ve,{message:"Loading TTS monitoring data..."})})});if(Ar)return r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"âš ï¸ Error Loading TTS Status"}),r.jsx("p",{children:"Unable to fetch TTS monitoring data"}),r.jsx("button",{onClick:()=>qe(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})});const T=K==null?void 0:K.statistics,wt=(K==null?void 0:K.recent_activity)||[],z=K==null?void 0:K.system_status;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{onClick:()=>J(!P),className:"flex items-center gap-2 text-xl font-bold text-white hover:text-pirate-400 transition-colors",children:[r.jsx("span",{className:`transform transition-transform ${P?"rotate-0":"rotate-90"}`,children:"â–¶"}),r.jsx("span",{children:"âš™ï¸ DJ Settings"}),r.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",P?"Click to expand":"Click to collapse",")"]})]}),r.jsx("button",{onClick:ae,disabled:!m||s,className:`px-3 py-2 rounded-lg text-white text-sm ${s?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:s?"Savingâ€¦":"Save Settings"})]}),M&&!P&&r.jsx("div",{className:"text-red-400 text-sm mb-3",children:M}),!P&&(m?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(m.dj_max_seconds??30),onChange:p=>j({...m,dj_max_seconds:parseInt(p.target.value||"0",10)}),className:"flex-1"}),r.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(m.dj_max_seconds??30),onChange:p=>j({...m,dj_max_seconds:parseInt(p.target.value||"0",10)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Target length used to trim commentary naturally."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.dj_provider||"ollama",onChange:p=>j({...m,dj_provider:p.target.value}),children:[r.jsx("option",{value:"ollama",children:"Ollama"}),r.jsx("option",{value:"openai",children:"OpenAI"}),r.jsx("option",{value:"disabled",children:"Disabled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.dj_voice_provider||"kokoro",onChange:p=>j({...m,dj_voice_provider:p.target.value}),children:[r.jsx("option",{value:"kokoro",children:"Kokoro"}),r.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),r.jsx("option",{value:"liquidsoap",children:"Liquidsoap"}),r.jsx("option",{value:"xtts",children:"XTTS"}),r.jsx("option",{value:"chatterbox",children:"Chatterbox"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:m.dj_voice_provider==="xtts"?"XTTS Voice":m.dj_voice_provider==="chatterbox"?"Chatterbox Voice":"Kokoro Voice"}),(()=>{let p=[];if(m.dj_voice_provider==="chatterbox")p=g.length?g:["default","alloy","echo","fable","onyx","nova","shimmer"];else if(m.dj_voice_provider==="xtts"){if(p=n.length?n:[],!d){const R=["coqui-tts:en_ljspeech","coqui-tts:en_vctk"];p=p.filter(D=>R.includes(D))}}else p=n.length?n:["af_bella","af_sarah","af_sky","af_aria","af_grace","af_nicole","af_jenny","af_emma","af_allison","af_riley","af_samantha","am_onyx","am_michael","am_ryan","am_alex","am_eric","am_adam","am_daniel","am_noah","am_liam","am_mason","am_jacob","bf_ava","bf_sophie","bf_emma","bf_lily","bf_alice","bf_chloe","bf_olivia","bf_amelia","bf_isabella","bf_charlotte","bm_george","bm_james","bm_william","bm_oliver","bm_harry","bm_thomas","bm_charlie","bm_jacob","bm_alexander","bm_henry"];const F=m.dj_voice_provider==="xtts"?"xtts_voice":m.dj_voice_provider==="chatterbox"?"chatterbox_voice":"kokoro_voice",A=m[F]||"",$=A&&!p.includes(A),Ne=$?"custom":A||p[0]||"";return r.jsxs("div",{className:"space-y-2",children:[m.dj_voice_provider==="xtts"&&r.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-600",checked:d,onChange:R=>u(R.target.checked)}),"Show all XTTS voices (includes espeak/festival/larynx/etc.)"]}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Ne,onChange:R=>{const D=R.target.value;D!=="custom"&&j({...m,[F]:D})},children:[m.dj_voice_provider==="kokoro"&&!n.length?r.jsxs(r.Fragment,{children:[r.jsxs("optgroup",{label:"ðŸ‘©ðŸ» American Female",children:[r.jsx("option",{value:"af_bella",children:"af_bella (Warm, Natural)"}),r.jsx("option",{value:"af_sarah",children:"af_sarah (Clear, Professional)"}),r.jsx("option",{value:"af_sky",children:"af_sky (Bright, Energetic)"}),r.jsx("option",{value:"af_aria",children:"af_aria (Smooth, Elegant)"}),r.jsx("option",{value:"af_grace",children:"af_grace (Gentle, Soothing)"}),r.jsx("option",{value:"af_nicole",children:"af_nicole (Confident, Clear)"}),r.jsx("option",{value:"af_jenny",children:"af_jenny (Friendly, Upbeat)"}),r.jsx("option",{value:"af_emma",children:"af_emma (Youthful, Bright)"}),r.jsx("option",{value:"af_allison",children:"af_allison (Professional)"}),r.jsx("option",{value:"af_riley",children:"af_riley (Dynamic, Modern)"}),r.jsx("option",{value:"af_samantha",children:"af_samantha (Versatile)"})]}),r.jsxs("optgroup",{label:"ðŸ‘¨ðŸ» American Male",children:[r.jsx("option",{value:"am_onyx",children:"am_onyx (Deep, Authoritative)"}),r.jsx("option",{value:"am_michael",children:"am_michael (Classic, Trustworthy)"}),r.jsx("option",{value:"am_ryan",children:"am_ryan (Casual, Friendly)"}),r.jsx("option",{value:"am_alex",children:"am_alex (Versatile, Clear)"}),r.jsx("option",{value:"am_eric",children:"am_eric (Mature, Professional)"}),r.jsx("option",{value:"am_adam",children:"am_adam (Warm, Engaging)"}),r.jsx("option",{value:"am_daniel",children:"am_daniel (Smooth, Confident)"}),r.jsx("option",{value:"am_noah",children:"am_noah (Young, Energetic)"}),r.jsx("option",{value:"am_liam",children:"am_liam (Modern, Dynamic)"}),r.jsx("option",{value:"am_mason",children:"am_mason (Strong, Clear)"}),r.jsx("option",{value:"am_jacob",children:"am_jacob (Reliable, Steady)"})]}),r.jsxs("optgroup",{label:"ðŸ‘©ðŸ¼ British Female",children:[r.jsx("option",{value:"bf_ava",children:"bf_ava (Elegant, Sophisticated)"}),r.jsx("option",{value:"bf_sophie",children:"bf_sophie (Refined, Articulate)"}),r.jsx("option",{value:"bf_emma",children:"bf_emma (Charming, Polished)"}),r.jsx("option",{value:"bf_lily",children:"bf_lily (Sweet, Melodic)"}),r.jsx("option",{value:"bf_alice",children:"bf_alice (Classic, Distinguished)"}),r.jsx("option",{value:"bf_chloe",children:"bf_chloe (Modern, Crisp)"}),r.jsx("option",{value:"bf_olivia",children:"bf_olivia (Graceful, Clear)"}),r.jsx("option",{value:"bf_amelia",children:"bf_amelia (Gentle, Refined)"}),r.jsx("option",{value:"bf_isabella",children:"bf_isabella (Luxurious)"}),r.jsx("option",{value:"bf_charlotte",children:"bf_charlotte (Sophisticated)"})]}),r.jsxs("optgroup",{label:"ðŸ‘¨ðŸ¼ British Male",children:[r.jsx("option",{value:"bm_george",children:"bm_george (Distinguished, Authoritative)"}),r.jsx("option",{value:"bm_james",children:"bm_james (Classic, Professional)"}),r.jsx("option",{value:"bm_william",children:"bm_william (Noble, Articulate)"}),r.jsx("option",{value:"bm_oliver",children:"bm_oliver (Modern, Engaging)"}),r.jsx("option",{value:"bm_harry",children:"bm_harry (Friendly, Approachable)"}),r.jsx("option",{value:"bm_thomas",children:"bm_thomas (Reliable, Clear)"}),r.jsx("option",{value:"bm_charlie",children:"bm_charlie (Upbeat, Charismatic)"}),r.jsx("option",{value:"bm_jacob",children:"bm_jacob (Steady, Trustworthy)"}),r.jsx("option",{value:"bm_alexander",children:"bm_alexander (Commanding)"}),r.jsx("option",{value:"bm_henry",children:"bm_henry (Warm, Distinguished)"})]})]}):p.map(R=>r.jsx("option",{value:R,children:R},R)),r.jsx("option",{value:"custom",children:"Customâ€¦"})]}),($||A==="")&&r.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:A,onChange:R=>j({...m,[F]:R.target.value}),placeholder:m.dj_voice_provider==="xtts"?"Enter XTTS voice id":m.dj_voice_provider==="chatterbox"?"Enter Chatterbox voice id":"Enter Kokoro voice id"}),m.dj_voice_provider==="xtts"&&(()=>{const R=o[A],D=R&&typeof R=="object"?R.speakers:null,B=D&&typeof D=="object"?Object.keys(D):[];if(!B.length)return null;const Ke=m.xtts_speaker||"",Ir=Ke&&B.includes(Ke)?Ke:B[0];return r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-xs text-gray-400",children:"XTTS Speaker"}),r.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Ir,onChange:le=>j({...m,xtts_speaker:le.target.value}),children:B.map(le=>r.jsx("option",{value:le,children:le},le))})]})})()]})})(),m.dj_voice_provider==="chatterbox"&&r.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[r.jsx("button",{onClick:async()=>{var p;if(m){x(!0),f(null);try{const F=`Welcome to Raido. Testing Chatterbox voice ${m.chatterbox_voice||"default"}.`,$=(p=(await k.post("/admin/tts-test-chatterbox",{text:F,voice:m.chatterbox_voice,exaggeration:m.chatterbox_exaggeration,cfg_weight:m.chatterbox_cfg_weight})).data)==null?void 0:p.audio_url;$&&f($)}catch{E("Chatterbox TTS test failed")}finally{x(!1)}}},disabled:b,className:`px-3 py-2 rounded-lg text-white text-sm ${b?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:b?"Testingâ€¦":"Test Chatterbox Voice"}),c&&r.jsx("audio",{controls:!0,className:"h-8",children:r.jsx("source",{src:c,type:"audio/mpeg"})})]}),m.dj_voice_provider!=="xtts"&&m.dj_voice_provider!=="chatterbox"&&r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),r.jsx("input",{type:"text",value:v,onChange:p=>N(p.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",placeholder:"Enter text to test the voice..."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:async()=>{var p;if(m){x(!0),f(null);try{const A=(p=(await k.post("/admin/tts-test",{text:v,voice:m.kokoro_voice,speed:m.kokoro_speed,volume:m.dj_tts_volume})).data)==null?void 0:p.audio_url;A&&f(A)}catch{E("TTS test failed")}finally{x(!1)}}},disabled:b,className:`px-3 py-2 rounded-lg text-white text-sm ${b?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:b?"Testingâ€¦":"Test Kokoro Voice"}),c&&r.jsx("audio",{controls:!0,className:"h-8",children:r.jsx("source",{src:c,type:"audio/mpeg"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Gain (Volume Multiplier)"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(m.dj_tts_volume??1),onChange:p=>j({...m,dj_tts_volume:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(m.dj_tts_volume??1),onChange:p=>j({...m,dj_tts_volume:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Boost quiet clips (0.5Ã—â€“2.0Ã—). Applied to Kokoro."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(m.kokoro_speed??1),onChange:p=>j({...m,kokoro_speed:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(m.kokoro_speed??1),onChange:p=>j({...m,kokoro_speed:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Playback speed multiplier (0.5Ã—â€“1.5Ã—). Kokoro only."})]}),(m.dj_voice_provider==="kokoro"||!m.dj_voice_provider)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Silence Duration"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(m.kokoro_silence??.2),onChange:p=>j({...m,kokoro_silence:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(m.kokoro_silence??.2),onChange:p=>j({...m,kokoro_silence:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pause duration between sentences (0-2s). Higher = more natural pauses."})]}),(m.dj_voice_provider==="kokoro"||!m.dj_voice_provider)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Emotional Style"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.kokoro_style||"neutral",onChange:p=>j({...m,kokoro_style:p.target.value}),children:[r.jsx("option",{value:"neutral",children:"Neutral (Default)"}),r.jsx("option",{value:"excited",children:"Excited/Energetic"}),r.jsx("option",{value:"calm",children:"Calm/Relaxed"}),r.jsx("option",{value:"warm",children:"Warm/Friendly"}),r.jsx("option",{value:"professional",children:"Professional"}),r.jsx("option",{value:"casual",children:"Casual/Conversational"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Emotional tone hint for voice generation (experimental)."})]}),(m.dj_voice_provider==="kokoro"||!m.dj_voice_provider)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Pitch Adjustment"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.8,max:1.2,step:.05,value:Number(m.kokoro_pitch??1),onChange:p=>j({...m,kokoro_pitch:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.8,max:1.2,step:.05,value:Number(m.kokoro_pitch??1),onChange:p=>j({...m,kokoro_pitch:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pitch multiplier (0.8Ã—-1.2Ã—). 1.0 = natural, higher = higher pitch."})]}),m.dj_voice_provider==="chatterbox"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox Exaggeration"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.25,max:2,step:.05,value:Number(m.chatterbox_exaggeration??1),onChange:p=>j({...m,chatterbox_exaggeration:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.25,max:2,step:.05,value:Number(m.chatterbox_exaggeration??1),onChange:p=>j({...m,chatterbox_exaggeration:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Emotion intensity (0.25Ã—â€“2.0Ã—). Higher = more expressive."})]}),m.dj_voice_provider==="chatterbox"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox CFG Weight"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:1,step:.05,value:Number(m.chatterbox_cfg_weight??.5),onChange:p=>j({...m,chatterbox_cfg_weight:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:0,max:1,step:.05,value:Number(m.chatterbox_cfg_weight??.5),onChange:p=>j({...m,chatterbox_cfg_weight:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pace control (0.0â€“1.0). Higher = slower, more deliberate."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.ollama_model||"",onChange:p=>j({...m,ollama_model:p.target.value}),children:[r.jsx("option",{value:"",children:"Select a model..."}),r.jsxs("optgroup",{label:"ðŸ—£ï¸ Chat Models (Recommended)",children:[r.jsx("option",{value:"llama3.2:3b",children:"Llama 3.2 3B (Fast, Good Quality)"}),r.jsx("option",{value:"llama3.2:1b",children:"Llama 3.2 1B (Fastest, Basic Quality)"}),r.jsx("option",{value:"llama3.1:8b",children:"Llama 3.1 8B (Balanced)"}),r.jsx("option",{value:"llama3.1:70b",children:"Llama 3.1 70B (Best Quality, Slow)"}),r.jsx("option",{value:"qwen2.5:3b",children:"Qwen2.5 3B (Fast, Creative)"}),r.jsx("option",{value:"qwen2.5:7b",children:"Qwen2.5 7B (Good Balance)"}),r.jsx("option",{value:"qwen2.5:14b",children:"Qwen2.5 14B (High Quality)"}),r.jsx("option",{value:"gemma2:2b",children:"Gemma2 2B (Efficient)"}),r.jsx("option",{value:"gemma2:9b",children:"Gemma2 9B (Quality)"}),r.jsx("option",{value:"phi3:3.8b",children:"Phi3 3.8B (Creative)"}),r.jsx("option",{value:"mistral:7b",children:"Mistral 7B (Classic)"}),r.jsx("option",{value:"mixtral:8x7b",children:"Mixtral 8x7B (Expert Mix)"})]}),r.jsxs("optgroup",{label:"ðŸŽ¯ Specialized Models",children:[r.jsx("option",{value:"dolphin-mixtral:8x7b",children:"Dolphin Mixtral (Uncensored)"}),r.jsx("option",{value:"neural-chat:7b",children:"Neural Chat 7B (Conversational)"}),r.jsx("option",{value:"deepseek-coder:6.7b",children:"DeepSeek Coder (Technical)"}),r.jsx("option",{value:"wizardcoder:7b",children:"WizardCoder 7B (Programming)"}),r.jsx("option",{value:"orca-mini:3b",children:"Orca Mini 3B (Efficient Chat)"}),r.jsx("option",{value:"vicuna:7b",children:"Vicuna 7B (Assistant)"}),r.jsx("option",{value:"starling-lm:7b",children:"Starling LM 7B (Helpful)"})]}),r.jsxs("optgroup",{label:"âš¡ Fast Models (Good for Radio)",children:[r.jsx("option",{value:"tinyllama:1.1b",children:"TinyLlama 1.1B (Ultra Fast)"}),r.jsx("option",{value:"qwen2:0.5b",children:"Qwen2 0.5B (Lightning Fast)"}),r.jsx("option",{value:"stablelm2:1.6b",children:"StableLM2 1.6B (Stable, Fast)"}),r.jsx("option",{value:"phi3.5:3.8b",children:"Phi3.5 3.8B (Microsoft, Creative)"})]}),r.jsx("option",{value:"custom",children:"Custom Model..."})]}),(!m.ollama_model||m.ollama_model==="custom")&&r.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.ollama_model==="custom"?"":m.ollama_model||"",onChange:p=>j({...m,ollama_model:p.target.value}),placeholder:"Enter custom model name (e.g. llama3.1:8b-instruct-q4_0)"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose based on your hardware: 3B models for fast generation, 7B+ for better quality."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Temperature"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(m.dj_temperature??.8),onChange:p=>j({...m,dj_temperature:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(m.dj_temperature??.8),onChange:p=>j({...m,dj_temperature:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Higher = more creative, lower = more consistent."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Max Tokens"}),r.jsx("input",{type:"number",min:50,max:1e3,step:10,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Number(m.dj_max_tokens??200),onChange:p=>j({...m,dj_max_tokens:parseInt(p.target.value||"0",10)}),placeholder:"e.g. 200"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caps commentary length; real cap also based on time."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Top-K Sampling"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:1,max:100,step:1,value:Number(m.ollama_top_k??40),onChange:p=>j({...m,ollama_top_k:parseInt(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:1,max:100,step:1,value:Number(m.ollama_top_k??40),onChange:p=>j({...m,ollama_top_k:parseInt(p.target.value||"40")}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Limits vocabulary to top K tokens. Lower = more focused."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Top-P (Nucleus)"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.1,max:1,step:.05,value:Number(m.ollama_top_p??.9),onChange:p=>j({...m,ollama_top_p:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.1,max:1,step:.05,value:Number(m.ollama_top_p??.9),onChange:p=>j({...m,ollama_top_p:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cumulative probability cutoff. 0.9 = focus on top 90% likely words."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Repeat Penalty"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",min:.8,max:1.5,step:.05,value:Number(m.ollama_repeat_penalty??1.1),onChange:p=>j({...m,ollama_repeat_penalty:parseFloat(p.target.value)}),className:"flex-1"}),r.jsx("input",{type:"number",min:.8,max:1.5,step:.05,value:Number(m.ollama_repeat_penalty??1.1),onChange:p=>j({...m,ollama_repeat_penalty:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Penalizes repetition. 1.1 = slight penalty, 1.0 = no penalty."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Context Length"}),r.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:m.ollama_context_length||"2048",onChange:p=>j({...m,ollama_context_length:parseInt(p.target.value)}),children:[r.jsx("option",{value:"1024",children:"1024 (Fast, Small)"}),r.jsx("option",{value:"2048",children:"2048 (Balanced)"}),r.jsx("option",{value:"4096",children:"4096 (More Context)"}),r.jsx("option",{value:"8192",children:"8192 (Large Context)"}),r.jsx("option",{value:"16384",children:"16384 (Very Large)"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max tokens in model context. Higher = more memory usage."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Default DJ Prompt"}),r.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white h-28",value:m.dj_prompt_template||"",onChange:p=>j({...m,dj_prompt_template:p.target.value}),placeholder:"Write the prompt template used to generate commentaryâ€¦"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supports Jinja templating; validated server-side."})]})]}):r.jsx("div",{className:"text-gray-400 text-sm",children:"Loading settingsâ€¦"}))]}),r.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"ðŸŽ™ï¸ TTS Monitoring Dashboard"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[r.jsx("input",{type:"checkbox",checked:e,onChange:p=>t(p.target.checked),className:"rounded border-gray-600 text-pirate-500 focus:ring-pirate-500"}),"Auto-refresh"]}),r.jsx("button",{onClick:()=>qe(),className:"px-3 py-1 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg text-sm transition-colors",children:"Refresh"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl p-6 border border-green-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"âœ…"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-300",children:"Success Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[(T==null?void 0:T.success_rate)||0,"%"]})]})]}),r.jsxs("p",{className:"text-sm text-green-400",children:[(T==null?void 0:T.success_24h)||0," of ",(T==null?void 0:T.total_24h)||0," in 24h"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl p-6 border border-blue-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"ðŸŽµ"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-300",children:"Total Generated"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:(T==null?void 0:T.total_24h)||0})]})]}),r.jsx("p",{className:"text-sm text-blue-400",children:"Last 24 hours"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 rounded-xl p-6 border border-purple-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"âš¡"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-300",children:"Avg Gen Time"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:we((T==null?void 0:T.avg_generation_time_ms)||null)})]})]}),r.jsx("p",{className:"text-sm text-purple-400",children:"Generation speed"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 rounded-xl p-6 border border-orange-600/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:"ðŸ”Š"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-orange-300",children:"Avg TTS Time"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:we((T==null?void 0:T.avg_tts_time_ms)||null)})]})]}),r.jsx("p",{className:"text-sm text-orange-400",children:"Voice synthesis"})]})]}),z&&r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"âš™ï¸"}),"System Status"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("span",{className:"text-2xl",children:Je(z.tts_service)}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"TTS Service"}),r.jsx("p",{className:`text-sm capitalize ${Ve(z.tts_service)}`,children:z.tts_service})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("span",{className:"text-2xl",children:Je(z.dj_worker)}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"DJ Worker"}),r.jsx("p",{className:`text-sm capitalize ${Ve(z.dj_worker)}`,children:z.dj_worker})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("span",{className:"text-2xl",children:Je(z.kokoro_tts)}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Kokoro TTS"}),r.jsx("p",{className:`text-sm capitalize ${Ve(z.kokoro_tts)}`,children:z.kokoro_tts})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"ðŸ“‹"}),"Recent TTS Activity"]}),wt.length===0?r.jsx("div",{className:"text-center text-gray-400 py-8",children:r.jsx("p",{children:"No recent TTS activity"})}):r.jsx("div",{className:"space-y-3",children:wt.map(p=>r.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${p.status==="ready"?"bg-green-400":p.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[r.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:p.transcript?p.transcript:je(p.text)}),r.jsxs("p",{className:"text-sm text-gray-400",children:[p.provider," â€¢ ",p.voice_provider,p.voice_id?` â€¢ voice: ${p.voice_id}`:""]})]}),r.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[r.jsxs("div",{className:"text-right text-sm text-gray-400",children:[r.jsx("div",{children:new Date(p.created_at).toLocaleTimeString()}),(p.generation_time_ms||p.tts_time_ms)&&r.jsxs("div",{className:"text-xs",children:[p.generation_time_ms&&`Gen: ${we(p.generation_time_ms)}`,p.generation_time_ms&&p.tts_time_ms&&" â€¢ ",p.tts_time_ms&&`TTS: ${we(p.tts_time_ms)}`]})]}),r.jsx("button",{onClick:()=>Mr(p.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:r.jsx("span",{className:"text-sm",children:"ðŸ—‘ï¸"})})]})]}),p.audio_url&&r.jsx("div",{className:"mt-2",children:r.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[r.jsx("source",{src:p.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]},p.id))})]})]})},ri=()=>{var b;const[e,t]=w.useState("7d"),[s,a]=w.useState(!1),[n,i]=w.useState(!1),{data:o,isLoading:l,error:d,refetch:u}=fe({queryKey:["analytics",e],queryFn:()=>k.get(`/admin/analytics?range=${e}`).then(x=>x.data),staleTime:3e4});if(l)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(ve,{message:"Loading analytics data..."})})})});if(d)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"âš ï¸ Error Loading Analytics"}),r.jsx("p",{children:"Unable to fetch analytics data"}),r.jsx("button",{onClick:()=>u(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})})});const c=Math.max(...((o==null?void 0:o.genre_breakdown)||[]).map(x=>x.count)),f=o!=null&&o.genre_breakdown?n?o.genre_breakdown:o.genre_breakdown.slice(0,25):[];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:"ðŸ“Š Raido Analytics"}),r.jsx("p",{className:"text-gray-300 mt-2",children:"Track insights and content analysis for your AI radio station"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-gray-300",children:"Time Range:"}),r.jsxs("select",{value:e,onChange:x=>t(x.target.value),className:"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",children:[r.jsx("option",{value:"1d",children:"Last 24 Hours"}),r.jsx("option",{value:"7d",children:"Last 7 Days"}),r.jsx("option",{value:"30d",children:"Last 30 Days"}),r.jsx("option",{value:"all",children:"All Time"})]})]})]}),(o==null?void 0:o.date_range)&&r.jsxs("div",{className:"text-sm text-gray-400",children:["Data from ",new Date(o.date_range.start).toLocaleDateString()," to ",new Date(o.date_range.end).toLocaleDateString(),o.total_tracks&&r.jsxs("span",{className:"ml-4",children:["â€¢ ",o.total_tracks," tracks analyzed"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 text-2xl font-bold text-white hover:text-pirate-400 transition-colors",children:[r.jsx("span",{className:`transform transition-transform ${s?"rotate-0":"rotate-90"}`,children:"â–¶"}),r.jsx("span",{children:"ðŸŽµ Genre Breakdown"}),r.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",((b=o==null?void 0:o.genre_breakdown)==null?void 0:b.length)||0," genres total)"]})]}),!s&&(o==null?void 0:o.genre_breakdown)&&o.genre_breakdown.length>25&&r.jsx("button",{onClick:()=>i(!n),className:"px-3 py-1 text-sm bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:n?"Show Top 25":`Show All ${o.genre_breakdown.length}`})]}),!s&&(o!=null&&o.genre_breakdown&&o.genre_breakdown.length>0?r.jsx("div",{className:"space-y-4",children:f.map((x,g)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-lg font-semibold text-white",children:["#",g+1]}),r.jsx("span",{className:"text-white font-medium",children:x.genre||"Unknown"})]}),r.jsxs("div",{className:"text-right text-sm text-gray-300",children:[r.jsxs("div",{children:[x.count," tracks (",x.percentage.toFixed(1),"%)"]}),x.avg_duration&&r.jsxs("div",{className:"text-xs",children:["Avg: ",Math.round(x.avg_duration/60),"m ",Math.round(x.avg_duration%60),"s"]})]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-pirate-500 to-pirate-400 transition-all duration-500",style:{width:`${x.count/c*100}%`}})})]},x.genre))}):r.jsxs("div",{className:"text-center py-12 text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ“­ No Genre Data Available"}),r.jsx("p",{children:"Start playing some music to see genre analytics!"})]}))]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"â˜ï¸ TTS Commentary Word Cloud"}),o!=null&&o.word_cloud_data&&o.word_cloud_data.length>0?r.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gray-800/50 rounded-lg border border-gray-700",children:r.jsx("div",{className:"w-full p-6",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.word_cloud_data.slice(0,20).map((x,g)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg border border-gray-600/50",children:[r.jsx("span",{className:"font-medium text-white",style:{fontSize:`${Math.max(.8,Math.min(1.5,x.count/10))}rem`},children:x.word}),r.jsx("span",{className:"text-sm text-gray-400",children:x.count})]},x.word))})})}):r.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gray-800/50 rounded-lg border border-gray-700",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("p",{className:"text-xl mb-2",children:"ðŸ’¬ No Commentary Data"}),r.jsx("p",{children:"TTS commentary word analysis will appear here"})]})})]})]})})};function si(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:r.jsx(ya,{children:r.jsx(ke,{children:r.jsxs(Hr,{children:[r.jsx(ce,{path:"/",element:r.jsxs("div",{className:"space-y-6",children:[r.jsx(ke,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:r.jsx(to,{})}),r.jsx(ke,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Coming Up."}),children:r.jsx(ro,{})}),r.jsx(ke,{fallback:r.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Play History."}),children:r.jsx(Wt,{})})]})}),r.jsx(ce,{path:"/history",element:r.jsx(Wt,{})}),r.jsx(ce,{path:"/tts",element:r.jsx(ti,{})}),r.jsx(ce,{path:"/analytics",element:r.jsx(ri,{})}),r.jsx(ce,{path:"*",element:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ðŸ´â€â˜ ï¸ Page Not Found"}),r.jsx("p",{className:"text-gray-400",children:"Ye've sailed into uncharted waters, matey!"})]})})})]})})})})}const ai=new Fr({defaultOptions:{queries:{staleTime:60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>{var s,a;return((s=t==null?void 0:t.response)==null?void 0:s.status)>=400&&((a=t==null?void 0:t.response)==null?void 0:a.status)<500?!1:e<2}}}});ot.createRoot(document.getElementById("root")).render(r.jsx(ee.StrictMode,{children:r.jsx(Lr,{client:ai,children:r.jsxs(Wr,{children:[r.jsx(si,{}),r.jsx(As,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
