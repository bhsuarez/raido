import{u as Qr,j as s,a as me,Q as Zr,b as Yr}from"./query-CxuHkjVw.js";import{r as b,R as Z,u as es,L as Ve,a as ts,b as X,N as kt,B as rs}from"./router-P8FkEVy8.js";import{a as ss,g as tr,r as rr}from"./vendor-D3F3s8fL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var je={},_t;function ns(){if(_t)return je;_t=1;var e=ss();return je.createRoot=e.createRoot,je.hydrateRoot=e.hydrateRoot,je}var as=ns();const is=tr(as);let os={data:""},ls=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||os,cs=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ds=/\/\*[^]*?\*\/|  +/g,Et=/\n+/g,Q=(e,t)=>{let r="",n="",a="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?Q(i,o):o+"{"+Q(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=Q(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Q.p?Q.p(o,i):o+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},K={},sr=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+sr(e[r]);return t}return e},us=(e,t,r,n,a)=>{let o=sr(e),i=K[o]||(K[o]=(d=>{let u=0,c=11;for(;u<d.length;)c=101*c+d.charCodeAt(u++)>>>0;return"go"+c})(o));if(!K[i]){let d=o!==e?e:(u=>{let c,m,f=[{}];for(;c=cs.exec(u.replace(ds,""));)c[4]?f.shift():c[3]?(m=c[3].replace(Et," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][c[1]]=c[2].replace(Et," ").trim();return f[0]})(e);K[i]=Q(a?{["@keyframes "+i]:d}:d,r?"":"."+i)}let l=r&&K.g?K.g:null;return r&&(K.g=K[i]),((d,u,c,m)=>{m?u.data=u.data.replace(m,d):u.data.indexOf(d)===-1&&(u.data=c?d+u.data:u.data+d)})(K[i],t,n,l),i},ms=(e,t,r)=>e.reduce((n,a,o)=>{let i=t[o];if(i&&i.call){let l=i(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=d?"."+d:l&&typeof l=="object"?l.props?"":Q(l,""):l===!1?"":l}return n+a+(i??"")},"");function De(e){let t=this||{},r=e.call?e(t.p):e;return us(r.unshift?r.raw?ms(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,ls(t.target),t.g,t.o,t.k)}let nr,at,it;De.bind({g:1});let G=De.bind({k:1});function fs(e,t,r,n){Q.p=t,nr=e,at=r,it=n}function Y(e,t){let r=this||{};return function(){let n=arguments;function a(o,i){let l=Object.assign({},o),d=l.className||a.className;r.p=Object.assign({theme:at&&at()},l),r.o=/ *go\d+/.test(d),l.className=De.apply(r,n)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),it&&u[0]&&it(l),nr(u,l)}return a}}var hs=e=>typeof e=="function",Ae=(e,t)=>hs(e)?e(t):e,ps=(()=>{let e=0;return()=>(++e).toString()})(),ar=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),xs=20,gt="default",ir=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return ir(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},ke=[],or={toasts:[],pausedAt:void 0,settings:{toastLimit:xs}},H={},lr=(e,t=gt)=>{H[t]=ir(H[t]||or,e),ke.forEach(([r,n])=>{r===t&&n(H[t])})},cr=e=>Object.keys(H).forEach(t=>lr(e,t)),gs=e=>Object.keys(H).find(t=>H[t].toasts.some(r=>r.id===e)),Pe=(e=gt)=>t=>{lr(t,e)},ys={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bs=(e={},t=gt)=>{let[r,n]=b.useState(H[t]||or),a=b.useRef(H[t]);b.useEffect(()=>(a.current!==H[t]&&n(H[t]),ke.push([t,n]),()=>{let i=ke.findIndex(([l])=>l===t);i>-1&&ke.splice(i,1)}),[t]);let o=r.toasts.map(i=>{var l,d,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:i.duration||((d=e[i.type])==null?void 0:d.duration)||e?.duration||ys[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:o}},vs=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||ps()}),fe=e=>(t,r)=>{let n=vs(t,e,r);return Pe(n.toasterId||gs(n.id))({type:2,toast:n}),n.id},k=(e,t)=>fe("blank")(e,t);k.error=fe("error");k.success=fe("success");k.loading=fe("loading");k.custom=fe("custom");k.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Pe(t)(r):cr(r)};k.dismissAll=e=>k.dismiss(void 0,e);k.remove=(e,t)=>{let r={type:4,toastId:e};t?Pe(t)(r):cr(r)};k.removeAll=e=>k.remove(void 0,e);k.promise=(e,t,r)=>{let n=k.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let o=t.success?Ae(t.success,a):void 0;return o?k.success(o,{id:n,...r,...r?.success}):k.dismiss(n),a}).catch(a=>{let o=t.error?Ae(t.error,a):void 0;o?k.error(o,{id:n,...r,...r?.error}):k.dismiss(n)}),e};var js=1e3,ws=(e,t="default")=>{let{toasts:r,pausedAt:n}=bs(e,t),a=b.useRef(new Map).current,o=b.useCallback((m,f=js)=>{if(a.has(m))return;let p=setTimeout(()=>{a.delete(m),i({type:4,toastId:m})},f);a.set(m,p)},[]);b.useEffect(()=>{if(n)return;let m=Date.now(),f=r.map(p=>{if(p.duration===1/0)return;let x=(p.duration||0)+p.pauseDuration-(m-p.createdAt);if(x<0){p.visible&&k.dismiss(p.id);return}return setTimeout(()=>k.dismiss(p.id,t),x)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let i=b.useCallback(Pe(t),[t]),l=b.useCallback(()=>{i({type:5,time:Date.now()})},[i]),d=b.useCallback((m,f)=>{i({type:1,toast:{id:m,height:f}})},[i]),u=b.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),c=b.useCallback((m,f)=>{let{reverseOrder:p=!1,gutter:x=8,defaultPosition:g}=f||{},y=r.filter(w=>(w.position||g)===(m.position||g)&&w.height),v=y.findIndex(w=>w.id===m.id),N=y.filter((w,T)=>T<v&&w.visible).length;return y.filter(w=>w.visible).slice(...p?[N+1]:[0,N]).reduce((w,T)=>w+(T.height||0)+x,0)},[r]);return b.useEffect(()=>{r.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let f=a.get(m.id);f&&(clearTimeout(f),a.delete(m.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:c}}},Ns=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ss=G`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ks=G`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_s=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ns} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ss} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ks} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Es=G`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ts=Y("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Es} 1s linear infinite;
`,Rs=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Cs=G`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,As=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Cs} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Os=Y("div")`
  position: absolute;
`,Ms=Y("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ds=G`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ps=Y("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ds} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Is=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(Ps,null,t):t:r==="blank"?null:b.createElement(Ms,null,b.createElement(Ts,{...n}),r!=="loading"&&b.createElement(Os,null,r==="error"?b.createElement(_s,{...n}):b.createElement(As,{...n})))},Ls=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fs=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Us="0%{opacity:0;} 100%{opacity:1;}",$s="0%{opacity:1;} 100%{opacity:0;}",qs=Y("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bs=Y("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ws=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=ar()?[Us,$s]:[Ls(r),Fs(r)];return{animation:t?`${G(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zs=b.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Ws(e.position||t||"top-center",e.visible):{opacity:0},o=b.createElement(Is,{toast:e}),i=b.createElement(Bs,{...e.ariaProps},Ae(e.message,e));return b.createElement(qs,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:o,message:i}):b.createElement(b.Fragment,null,o,i))});fs(b.createElement);var Hs=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let o=b.useCallback(i=>{if(i){let l=()=>{let d=i.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:o,className:t,style:r},a)},Vs=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ar()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},Js=De`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,we=16,Ks=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:d,handlers:u}=ws(r,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:we,left:we,right:we,bottom:we,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(c=>{let m=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),p=Vs(m,f);return b.createElement(Hs,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Js:"",style:p},c.type==="custom"?Ae(c.message,c):a?a(c):b.createElement(zs,{toast:c,position:m}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:d,...u},c)=>b.createElement("svg",{ref:c,...Gs,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${Xs(e)}`,l].join(" "),...u},[...t.map(([m,f])=>b.createElement(m,f)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=A("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=A("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=A("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=A("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=A("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=A("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=A("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=A("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=A("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=A("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=A("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=A("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=A("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=A("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),on={},Ct=e=>{let t;const r=new Set,n=(c,m)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(x=>x(t,p))}},a=()=>t,d={setState:n,getState:a,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(on?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,d);return d},ln=e=>e?Ct(e):Ct;var Je={exports:{}},Ke={},Ge={exports:{}},Xe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At;function cn(){if(At)return Xe;At=1;var e=rr();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function l(m,f){var p=f(),x=n({inst:{value:p,getSnapshot:f}}),g=x[0].inst,y=x[1];return o(function(){g.value=p,g.getSnapshot=f,d(g)&&y({inst:g})},[m,p,f]),a(function(){return d(g)&&y({inst:g}),m(function(){d(g)&&y({inst:g})})},[m]),i(p),p}function d(m){var f=m.getSnapshot;m=m.value;try{var p=f();return!r(m,p)}catch{return!0}}function u(m,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Xe.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,Xe}var Ot;function dn(){return Ot||(Ot=1,Ge.exports=cn()),Ge.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt;function un(){if(Mt)return Ke;Mt=1;var e=rr(),t=dn();function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Ke.useSyncExternalStoreWithSelector=function(u,c,m,f,p){var x=o(null);if(x.current===null){var g={hasValue:!1,value:null};x.current=g}else g=x.current;x=l(function(){function v(C){if(!N){if(N=!0,w=C,C=f(C),p!==void 0&&g.hasValue){var M=g.value;if(p(M,C))return T=M}return T=C}if(M=T,n(w,C))return M;var V=f(C);return p!==void 0&&p(M,V)?(w=C,M):(w=C,T=V)}var N=!1,w,T,R=m===void 0?null:m;return[function(){return v(c())},R===null?void 0:function(){return v(R())}]},[c,m,f,p]);var y=a(u,x[0],x[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),d(y),y},Ke}var Dt;function mn(){return Dt||(Dt=1,Je.exports=un()),Je.exports}var fn=mn();const hn=tr(fn),fr={},{useDebugValue:pn}=Z,{useSyncExternalStoreWithSelector:xn}=hn;let Pt=!1;const gn=e=>e;function yn(e,t=gn,r){(fr?"production":void 0)!=="production"&&r&&!Pt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Pt=!0);const n=xn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return pn(n),n}const bn=e=>{(fr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ln(e):e,r=(n,a)=>yn(t,n,a);return Object.assign(r,t),r},vn=e=>bn,Qe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STREAM_URL:"/stream/raido.mp3"},ct=new Map,Ne=e=>{const t=ct.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},jn=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=ct.get(r.name);if(n)return{type:"tracked",store:e,...n};const a={connection:t.connect(r),stores:{}};return ct.set(r.name,a),{type:"tracked",store:e,...a}},wn=(e,t={})=>(r,n,a)=>{const{enabled:o,anonymousActionType:i,store:l,...d}=t;let u;try{u=(o??(Qe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(Qe?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,n,a);const{connection:c,...m}=jn(l,u,d);let f=!0;a.setState=(g,y,v)=>{const N=r(g,y);if(!f)return N;const w=v===void 0?{type:i||"anonymous"}:typeof v=="string"?{type:v}:v;return l===void 0?(c?.send(w,n()),N):(c?.send({...w,type:`${l}/${w.type}`},{...Ne(d.name),[l]:a.getState()}),N)};const p=(...g)=>{const y=f;f=!1,r(...g),f=y},x=e(a.setState,n,a);if(m.type==="untracked"?c?.init(x):(m.stores[m.store]=a,c?.init(Object.fromEntries(Object.entries(m.stores).map(([g,y])=>[g,g===m.store?x:y.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let g=!1;const y=a.dispatch;a.dispatch=(...v)=>{(Qe?"production":void 0)!=="production"&&v[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),y(...v)}}return c.subscribe(g=>{var y;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ze(g.payload,v=>{if(v.type==="__setState"){if(l===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=v.state[l];if(N==null)return;JSON.stringify(a.getState())!==JSON.stringify(N)&&p(N);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(v)});case"DISPATCH":switch(g.payload.type){case"RESET":return p(x),l===void 0?c?.init(a.getState()):c?.init(Ne(d.name));case"COMMIT":if(l===void 0){c?.init(a.getState());return}return c?.init(Ne(d.name));case"ROLLBACK":return Ze(g.state,v=>{if(l===void 0){p(v),c?.init(a.getState());return}p(v[l]),c?.init(Ne(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ze(g.state,v=>{if(l===void 0){p(v);return}JSON.stringify(a.getState())!==JSON.stringify(v[l])&&p(v[l])});case"IMPORT_STATE":{const{nextLiftedState:v}=g.payload,N=(y=v.computedStates.slice(-1)[0])==null?void 0:y.state;if(!N)return;p(l===void 0?N:N[l]),c?.send(null,v);return}case"PAUSE_RECORDING":return f=!f}return}}),x},Nn=wn,Ze=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)},de=vn()(Nn((e,t)=>({isConnected:!1,setIsConnected:r=>e({isConnected:r}),nowPlaying:void 0,updateNowPlaying:r=>e({nowPlaying:r}),commentaryText:"",isGeneratingCommentary:!1,appendCommentaryToken:r=>e(n=>({commentaryText:n.commentaryText+r,isGeneratingCommentary:!0})),setCommentaryReady:r=>e({commentaryText:r,isGeneratingCommentary:!1}),clearCommentary:()=>e({commentaryText:"",isGeneratingCommentary:!1}),isDarkMode:!0,toggleDarkMode:()=>{const r=!t().isDarkMode;e({isDarkMode:r}),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("raido-dark-mode",r.toString())},volume:parseInt(localStorage.getItem("raido-volume")||"75"),setVolume:r=>{e({volume:r}),localStorage.setItem("raido-volume",r.toString())},isMuted:localStorage.getItem("raido-muted")==="true",toggleMute:()=>{const r=!t().isMuted;e({isMuted:r}),localStorage.setItem("raido-muted",r.toString())},isAdmin:!1,setIsAdmin:r=>e({isAdmin:r})}),{name:"raido-store"})),Sn=localStorage.getItem("raido-dark-mode")!=="false";Sn?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function kn(){const e=b.useRef(null),t=Qr(),{setIsConnected:r,updateNowPlaying:n,appendCommentaryToken:a,setCommentaryReady:o,clearCommentary:i}=de(),l=b.useRef(),d=b.useRef(0),u=5,c=()=>{try{const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;e.current=new WebSocket(f),e.current.onopen=()=>{console.log("ðŸ´â€â˜ ï¸ WebSocket connected"),r(!0),d.current>0&&k.success("ðŸ´â€â˜ ï¸ Reconnected to the radio!"),d.current=0},e.current.onmessage=p=>{try{const x=JSON.parse(p.data);switch(x.type){case"now_playing":case"track_change":n(x.data),i(),t.invalidateQueries({queryKey:["nowPlaying"]}),t.invalidateQueries({queryKey:["nextUp"]}),t.invalidateQueries({queryKey:["history"]});break;case"commentary_token":x.data?.token&&a(x.data.token);break;case"commentary_ready":o(x.data?.transcript??""),t.invalidateQueries({queryKey:["history"]});break;case"commentary":t.invalidateQueries({queryKey:["history"]});break;default:console.log("Unknown WebSocket message type:",x.type)}}catch(x){console.error("Error parsing WebSocket message:",x)}},e.current.onclose=p=>{if(console.log("WebSocket disconnected:",p.code,p.reason),r(!1),p.code!==1e3&&d.current<u){const x=Math.min(1e3*Math.pow(2,d.current),3e4);d.current++,console.log(`Reconnecting in ${x}ms (attempt ${d.current})`),l.current=setTimeout(()=>{c()},x)}else d.current>=u&&k.error("ðŸ´â€â˜ ï¸ Lost connection to the radio. Please refresh.")},e.current.onerror=p=>{console.error("WebSocket error:",p)}}catch(m){console.error("Error creating WebSocket:",m),r(!1)}};return b.useEffect(()=>(c(),()=>{l.current&&clearTimeout(l.current),e.current&&e.current.close(1e3,"Component unmounting")}),[]),{isConnected:de(m=>m.isConnected),reconnect:c}}const _n=({className:e="",size:t="md"})=>{const r={sm:28,md:34,lg:40}[t],n={sm:"text-base",md:"text-lg",lg:"text-xl"}[t];return s.jsxs("div",{className:`flex items-center gap-2.5 ${e}`,children:[s.jsxs("svg",{width:r,height:r,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[s.jsx("path",{d:"M6 18 Q6 8 18 8 Q30 8 30 18",stroke:"#ec7711",strokeWidth:"2.5",strokeLinecap:"round",fill:"none",opacity:"0.5"}),s.jsx("path",{d:"M10 18 Q10 12 18 12 Q26 12 26 18",stroke:"#ec7711",strokeWidth:"2.5",strokeLinecap:"round",fill:"none",opacity:"0.75"}),s.jsx("path",{d:"M14 18 Q14 15 18 15 Q22 15 22 18",stroke:"#ec7711",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"}),s.jsx("circle",{cx:"18",cy:"20",r:"2.5",fill:"#ec7711"}),s.jsx("line",{x1:"18",y1:"22",x2:"18",y2:"28",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"13",y1:"28",x2:"23",y2:"28",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round"})]}),s.jsx("span",{className:`${n} font-bold text-white tracking-tight`,children:"Raido"})]})};function En({children:e}){const t=es(),{isConnected:r,nowPlaying:n}=de(d=>({isConnected:d.isConnected,nowPlaying:d.nowPlaying}));kn();const a=[{name:"Now Playing",href:"/now-playing",icon:rn},{name:"History",href:"/history",icon:_e},{name:"DJ Admin",href:"/raido/admin",icon:ur},{name:"Analytics",href:"/analytics",icon:ot},{name:"Stations",href:"/stations",icon:lt}],o=n?.track?.title?.trim(),i=n?.track?.artist?.trim(),l=o?i?`${o} â€” ${i}`:o:null;return s.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col",children:[s.jsxs("header",{className:"bg-gray-900/95 backdrop-blur-md border-b border-gray-800 sticky top-0 z-40",children:[s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center h-14 gap-4",children:[s.jsx(Ve,{to:"/",className:"flex-shrink-0",children:s.jsx(_n,{size:"sm"})}),s.jsx("nav",{className:"hidden md:flex items-center gap-1 ml-2",children:a.map(d=>{const u=t.pathname===d.href;return s.jsxs(Ve,{to:d.href,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${u?"text-primary-400 bg-primary-500/10":"text-gray-400 hover:text-gray-100 hover:bg-gray-800"}`,children:[s.jsx(d.icon,{className:"h-4 w-4"}),s.jsx("span",{children:d.name})]},d.name)})}),l&&s.jsx("div",{className:"hidden md:block flex-1 min-w-0 mx-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"live-dot flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"text-sm text-gray-300 truncate",title:l,children:l})]})}),s.jsx("div",{className:"ml-auto flex-shrink-0",children:s.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-medium ${r?"text-green-400":"text-red-400"}`,role:"status","aria-label":r?"Connected":"Disconnected",children:[r?s.jsx(an,{className:"h-4 w-4"}):s.jsx(nn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:r?"Live":"Offline"})]})})]})}),l&&s.jsx("div",{className:"md:hidden border-t border-gray-800 px-4 py-2 bg-gray-900/80",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"live-dot flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"text-xs text-gray-300 truncate",children:l})]})})]}),s.jsx("main",{className:"flex-1 max-w-5xl w-full mx-auto px-4 sm:px-6 py-6 pb-24 md:pb-8",children:e}),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 bg-gray-900/95 backdrop-blur-md border-t border-gray-800 safe-bottom","aria-label":"Mobile navigation",children:s.jsx("div",{className:"flex items-stretch justify-around px-2 py-1",children:a.map(d=>{const u=t.pathname===d.href;return s.jsx(Ve,{to:d.href,className:`nav-item flex-1 ${u?"nav-item-active":"nav-item-inactive"}`,"aria-current":u?"page":void 0,"aria-label":d.name,children:s.jsx(d.icon,{className:"h-5 w-5"})},d.name)})})})]})}class Se extends Z.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("UI ErrorBoundary caught:",t,r)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback??s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),this.state.error?.message&&s.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),s.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function hr(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tn}=Object.prototype,{getPrototypeOf:yt}=Object,{iterator:Ie,toStringTag:pr}=Symbol,Le=(e=>t=>{const r=Tn.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$=e=>(e=e.toLowerCase(),t=>Le(t)===e),Fe=e=>t=>typeof t===e,{isArray:ae}=Array,ue=Fe("undefined");function he(e){return e!==null&&!ue(e)&&e.constructor!==null&&!ue(e.constructor)&&I(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xr=$("ArrayBuffer");function Rn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xr(e.buffer),t}const Cn=Fe("string"),I=Fe("function"),gr=Fe("number"),pe=e=>e!==null&&typeof e=="object",An=e=>e===!0||e===!1,Ee=e=>{if(Le(e)!=="object")return!1;const t=yt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pr in e)&&!(Ie in e)},On=e=>{if(!pe(e)||he(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Mn=$("Date"),Dn=$("File"),Pn=$("Blob"),In=$("FileList"),Ln=e=>pe(e)&&I(e.pipe),Fn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||I(e.append)&&((t=Le(e))==="formdata"||t==="object"&&I(e.toString)&&e.toString()==="[object FormData]"))},Un=$("URLSearchParams"),[$n,qn,Bn,Wn]=["ReadableStream","Request","Response","Headers"].map($),zn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xe(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),ae(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(he(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function yr(e,t){if(he(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,br=e=>!ue(e)&&e!==ee;function dt(){const{caseless:e}=br(this)&&this||{},t={},r=(n,a)=>{const o=e&&yr(t,a)||a;Ee(t[o])&&Ee(n)?t[o]=dt(t[o],n):Ee(n)?t[o]=dt({},n):ae(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&xe(arguments[n],r);return t}const Hn=(e,t,r,{allOwnKeys:n}={})=>(xe(t,(a,o)=>{r&&I(a)?e[o]=hr(a,r):e[o]=a},{allOwnKeys:n}),e),Vn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jn=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Kn=(e,t,r,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&yt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Gn=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Xn=e=>{if(!e)return null;if(ae(e))return e;let t=e.length;if(!gr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Qn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yt(Uint8Array)),Zn=(e,t)=>{const n=(e&&e[Ie]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},Yn=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ea=$("HTMLFormElement"),ta=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),It=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ra=$("RegExp"),vr=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};xe(r,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},sa=e=>{vr(e,(t,r)=>{if(I(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(I(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},na=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return ae(e)?n(e):n(String(e).split(t)),r},aa=()=>{},ia=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function oa(e){return!!(e&&I(e.append)&&e[pr]==="FormData"&&e[Ie])}const la=e=>{const t=new Array(10),r=(n,a)=>{if(pe(n)){if(t.indexOf(n)>=0)return;if(he(n))return n;if(!("toJSON"in n)){t[a]=n;const o=ae(n)?[]:{};return xe(n,(i,l)=>{const d=r(i,a+1);!ue(d)&&(o[l]=d)}),t[a]=void 0,o}}return n};return r(e,0)},ca=$("AsyncFunction"),da=e=>e&&(pe(e)||I(e))&&I(e.then)&&I(e.catch),jr=((e,t)=>e?setImmediate:t?((r,n)=>(ee.addEventListener("message",({source:a,data:o})=>{a===ee&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ee.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",I(ee.postMessage)),ua=typeof queueMicrotask<"u"?queueMicrotask.bind(ee):typeof process<"u"&&process.nextTick||jr,ma=e=>e!=null&&I(e[Ie]),h={isArray:ae,isArrayBuffer:xr,isBuffer:he,isFormData:Fn,isArrayBufferView:Rn,isString:Cn,isNumber:gr,isBoolean:An,isObject:pe,isPlainObject:Ee,isEmptyObject:On,isReadableStream:$n,isRequest:qn,isResponse:Bn,isHeaders:Wn,isUndefined:ue,isDate:Mn,isFile:Dn,isBlob:Pn,isRegExp:ra,isFunction:I,isStream:Ln,isURLSearchParams:Un,isTypedArray:Qn,isFileList:In,forEach:xe,merge:dt,extend:Hn,trim:zn,stripBOM:Vn,inherits:Jn,toFlatObject:Kn,kindOf:Le,kindOfTest:$,endsWith:Gn,toArray:Xn,forEachEntry:Zn,matchAll:Yn,isHTMLForm:ea,hasOwnProperty:It,hasOwnProp:It,reduceDescriptors:vr,freezeMethods:sa,toObjectSet:na,toCamelCase:ta,noop:aa,toFiniteNumber:ia,findKey:yr,global:ee,isContextDefined:br,isSpecCompliantForm:oa,toJSONObject:la,isAsyncFn:ca,isThenable:da,setImmediate:jr,asap:ua,isIterable:ma};function S(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}h.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const wr=S.prototype,Nr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nr[e]={value:e}});Object.defineProperties(S,Nr);Object.defineProperty(wr,"isAxiosError",{value:!0});S.from=(e,t,r,n,a,o)=>{const i=Object.create(wr);return h.toFlatObject(e,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),S.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const fa=null;function ut(e){return h.isPlainObject(e)||h.isArray(e)}function Sr(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function Lt(e,t,r){return e?e.concat(t).map(function(a,o){return a=Sr(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function ha(e){return h.isArray(e)&&!e.some(ut)}const pa=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function Ue(e,t,r){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=h.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!h.isUndefined(y[g])});const n=r.metaTokens,a=r.visitor||c,o=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(h.isDate(x))return x.toISOString();if(h.isBoolean(x))return x.toString();if(!d&&h.isBlob(x))throw new S("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(x)||h.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function c(x,g,y){let v=x;if(x&&!y&&typeof x=="object"){if(h.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(h.isArray(x)&&ha(x)||(h.isFileList(x)||h.endsWith(g,"[]"))&&(v=h.toArray(x)))return g=Sr(g),v.forEach(function(w,T){!(h.isUndefined(w)||w===null)&&t.append(i===!0?Lt([g],T,o):i===null?g:g+"[]",u(w))}),!1}return ut(x)?!0:(t.append(Lt(y,g,o),u(x)),!1)}const m=[],f=Object.assign(pa,{defaultVisitor:c,convertValue:u,isVisitable:ut});function p(x,g){if(!h.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(x),h.forEach(x,function(v,N){(!(h.isUndefined(v)||v===null)&&a.call(t,v,h.isString(N)?N.trim():N,g,f))===!0&&p(v,g?g.concat(N):[N])}),m.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Ft(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bt(e,t){this._pairs=[],e&&Ue(e,this,t)}const kr=bt.prototype;kr.append=function(t,r){this._pairs.push([t,r])};kr.toString=function(t){const r=t?function(n){return t.call(this,n,Ft)}:Ft;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function xa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _r(e,t,r){if(!t)return e;const n=r&&r.encode||xa;h.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=h.isURLSearchParams(t)?t.toString():new bt(t,r).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ut{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Er={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ga=typeof URLSearchParams<"u"?URLSearchParams:bt,ya=typeof FormData<"u"?FormData:null,ba=typeof Blob<"u"?Blob:null,va={isBrowser:!0,classes:{URLSearchParams:ga,FormData:ya,Blob:ba},protocols:["http","https","file","blob","url","data"]},vt=typeof window<"u"&&typeof document<"u",mt=typeof navigator=="object"&&navigator||void 0,ja=vt&&(!mt||["ReactNative","NativeScript","NS"].indexOf(mt.product)<0),wa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Na=vt&&window.location.href||"http://localhost",Sa=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vt,hasStandardBrowserEnv:ja,hasStandardBrowserWebWorkerEnv:wa,navigator:mt,origin:Na},Symbol.toStringTag,{value:"Module"})),D={...Sa,...va};function ka(e,t){return Ue(e,new D.classes.URLSearchParams,{visitor:function(r,n,a,o){return D.isNode&&h.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function _a(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ea(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function Tr(e){function t(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=o>=r.length;return i=!i&&h.isArray(a)?a.length:i,d?(h.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!h.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],o)&&h.isArray(a[i])&&(a[i]=Ea(a[i])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const r={};return h.forEachEntry(e,(n,a)=>{t(_a(n),a,r,0)}),r}return null}function Ta(e,t,r){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ge={transitional:Er,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=h.isObject(t);if(o&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return a?JSON.stringify(Tr(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ka(t,this.formSerializer).toString();if((l=h.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ue(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),Ta(t)):t}],transformResponse:[function(t){const r=this.transitional||ge.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:D.classes.FormData,Blob:D.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const Ra=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ca=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&Ra[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$t=Symbol("internals");function oe(e){return e&&String(e).trim().toLowerCase()}function Te(e){return e===!1||e==null?e:h.isArray(e)?e.map(Te):String(e)}function Aa(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Oa=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ye(e,t,r,n,a){if(h.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!h.isString(t)){if(h.isString(n))return t.indexOf(n)!==-1;if(h.isRegExp(n))return n.test(t)}}function Ma(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Da(e,t){const r=h.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let L=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(l,d,u){const c=oe(d);if(!c)throw new Error("header name must be a non-empty string");const m=h.findKey(a,c);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||d]=Te(l))}const i=(l,d)=>h.forEach(l,(u,c)=>o(u,c,d));if(h.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(h.isString(t)&&(t=t.trim())&&!Oa(t))i(Ca(t),r);else if(h.isObject(t)&&h.isIterable(t)){let l={},d,u;for(const c of t){if(!h.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(d=l[u])?h.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}i(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=oe(t),t){const n=h.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Aa(a);if(h.isFunction(r))return r.call(this,a,n);if(h.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=oe(t),t){const n=h.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ye(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(i){if(i=oe(i),i){const l=h.findKey(n,i);l&&(!r||Ye(n,n[l],l,r))&&(delete n[l],a=!0)}}return h.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||Ye(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return h.forEach(this,(a,o)=>{const i=h.findKey(n,o);if(i){r[i]=Te(a),delete r[o];return}const l=t?Ma(o):String(o).trim();l!==o&&delete r[o],r[l]=Te(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return h.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&h.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[$t]=this[$t]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=oe(i);n[l]||(Da(a,i),n[l]=!0)}return h.isArray(t)?t.forEach(o):o(t),this}};L.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(L.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});h.freezeMethods(L);function et(e,t){const r=this||ge,n=t||r,a=L.from(n.headers);let o=n.data;return h.forEach(e,function(l){o=l.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Rr(e){return!!(e&&e.__CANCEL__)}function ie(e,t,r){S.call(this,e??"canceled",S.ERR_CANCELED,t,r),this.name="CanceledError"}h.inherits(ie,S,{__CANCEL__:!0});function Cr(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new S("Request failed with status code "+r.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ia(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=n[o];i||(i=u),r[a]=d,n[a]=u;let m=o,f=0;for(;m!==a;)f+=r[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-i<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function La(e,t){let r=0,n=1e3/t,a,o;const i=(u,c=Date.now())=>{r=c,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const c=Date.now(),m=c-r;m>=n?i(u,c):(a=u,o||(o=setTimeout(()=>{o=null,i(a)},n-m)))},()=>a&&i(a)]}const Oe=(e,t,r=3)=>{let n=0;const a=Ia(50,250);return La(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,d=i-n,u=a(d),c=i<=l;n=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&c?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},qt=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Bt=e=>(...t)=>h.asap(()=>e(...t)),Fa=D.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,D.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(D.origin),D.navigator&&/(msie|trident)/i.test(D.navigator.userAgent)):()=>!0,Ua=D.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const i=[e+"="+encodeURIComponent(t)];h.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),h.isString(n)&&i.push("path="+n),h.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $a(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qa(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ar(e,t,r){let n=!$a(t);return e&&(n||r==!1)?qa(e,t):t}const Wt=e=>e instanceof L?{...e}:e;function re(e,t){t=t||{};const r={};function n(u,c,m,f){return h.isPlainObject(u)&&h.isPlainObject(c)?h.merge.call({caseless:f},u,c):h.isPlainObject(c)?h.merge({},c):h.isArray(c)?c.slice():c}function a(u,c,m,f){if(h.isUndefined(c)){if(!h.isUndefined(u))return n(void 0,u,m,f)}else return n(u,c,m,f)}function o(u,c){if(!h.isUndefined(c))return n(void 0,c)}function i(u,c){if(h.isUndefined(c)){if(!h.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function l(u,c,m){if(m in t)return n(u,c);if(m in e)return n(void 0,u)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,c,m)=>a(Wt(u),Wt(c),m,!0)};return h.forEach(Object.keys({...e,...t}),function(c){const m=d[c]||a,f=m(e[c],t[c],c);h.isUndefined(f)&&m!==l||(r[c]=f)}),r}const Or=e=>{const t=re({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=L.from(i),t.url=_r(Ar(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(h.isFormData(r)){if(D.hasStandardBrowserEnv||D.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[u,...c]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...c].join("; "))}}if(D.hasStandardBrowserEnv&&(n&&h.isFunction(n)&&(n=n(t)),n||n!==!1&&Fa(t.url))){const u=a&&o&&Ua.read(o);u&&i.set(a,u)}return t},Ba=typeof XMLHttpRequest<"u",Wa=Ba&&function(e){return new Promise(function(r,n){const a=Or(e);let o=a.data;const i=L.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=a,c,m,f,p,x;function g(){p&&p(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function v(){if(!y)return;const w=L.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};Cr(function(M){r(M),g()},function(M){n(M),g()},R),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new S("Request aborted",S.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new S("Network Error",S.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const R=a.transitional||Er;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),n(new S(T,R.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&h.forEach(i.toJSON(),function(T,R){y.setRequestHeader(R,T)}),h.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),u&&([f,x]=Oe(u,!0),y.addEventListener("progress",f)),d&&y.upload&&([m,p]=Oe(d),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(c=w=>{y&&(n(!w||w.type?new ie(null,e,y):w),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const N=Pa(a.url);if(N&&D.protocols.indexOf(N)===-1){n(new S("Unsupported protocol "+N+":",S.ERR_BAD_REQUEST,e));return}y.send(o||null)})},za=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(u){if(!a){a=!0,l();const c=u instanceof Error?u:this.reason;n.abort(c instanceof S?c:new ie(c instanceof Error?c.message:c))}};let i=t&&setTimeout(()=>{i=null,o(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>h.asap(l),d}},Ha=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Va=async function*(e,t){for await(const r of Ja(e))yield*Ha(r,t)},Ja=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},zt=(e,t,r,n)=>{const a=Va(e,t);let o=0,i,l=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await a.next();if(u){l(),d.close();return}let m=c.byteLength;if(r){let f=o+=m;r(f)}d.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},$e=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mr=$e&&typeof ReadableStream=="function",Ka=$e&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dr=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ga=Mr&&Dr(()=>{let e=!1;const t=new Request(D.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ht=64*1024,ft=Mr&&Dr(()=>h.isReadableStream(new Response("").body)),Me={stream:ft&&(e=>e.body)};$e&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Me[t]&&(Me[t]=h.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new S(`Response type '${t}' is not supported`,S.ERR_NOT_SUPPORT,n)})})})(new Response);const Xa=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(D.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await Ka(e)).byteLength},Qa=async(e,t)=>{const r=h.toFiniteNumber(e.getContentLength());return r??Xa(t)},Za=$e&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:c,withCredentials:m="same-origin",fetchOptions:f}=Or(e);u=u?(u+"").toLowerCase():"text";let p=za([a,o&&o.toAbortSignal()],i),x;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(d&&Ga&&r!=="get"&&r!=="head"&&(y=await Qa(c,n))!==0){let R=new Request(t,{method:"POST",body:n,duplex:"half"}),C;if(h.isFormData(n)&&(C=R.headers.get("content-type"))&&c.setContentType(C),R.body){const[M,V]=qt(y,Oe(Bt(d)));n=zt(R.body,Ht,M,V)}}h.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;x=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:v?m:void 0});let N=await fetch(x,f);const w=ft&&(u==="stream"||u==="response");if(ft&&(l||w&&g)){const R={};["status","statusText","headers"].forEach(J=>{R[J]=N[J]});const C=h.toFiniteNumber(N.headers.get("content-length")),[M,V]=l&&qt(C,Oe(Bt(l),!0))||[];N=new Response(zt(N.body,Ht,M,()=>{V&&V(),g&&g()}),R)}u=u||"text";let T=await Me[h.findKey(Me,u)||"text"](N,e);return!w&&g&&g(),await new Promise((R,C)=>{Cr(R,C,{data:T,headers:L.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:x})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,e,x),{cause:v.cause||v}):S.from(v,v&&v.code,e,x)}}),ht={http:fa,xhr:Wa,fetch:Za};h.forEach(ht,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vt=e=>`- ${e}`,Ya=e=>h.isFunction(e)||e===null||e===!1,Pr={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let o=0;o<t;o++){r=e[o];let i;if(n=r,!Ya(r)&&(n=ht[(i=String(r)).toLowerCase()],n===void 0))throw new S(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Vt).join(`
`):" "+Vt(o[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ht};function tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ie(null,e)}function Jt(e){return tt(e),e.headers=L.from(e.headers),e.data=et.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Pr.getAdapter(e.adapter||ge.adapter)(e).then(function(n){return tt(e),n.data=et.call(e,e.transformResponse,n),n.headers=L.from(n.headers),n},function(n){return Rr(n)||(tt(e),n&&n.response&&(n.response.data=et.call(e,e.transformResponse,n.response),n.response.headers=L.from(n.response.headers))),Promise.reject(n)})}const Ir="1.11.0",qe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Kt={};qe.transitional=function(t,r,n){function a(o,i){return"[Axios v"+Ir+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new S(a(i," has been removed"+(r?" in "+r:"")),S.ERR_DEPRECATED);return r&&!Kt[i]&&(Kt[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};qe.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ei(e,t,r){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],d=l===void 0||i(l,o,e);if(d!==!0)throw new S("option "+o+" must be "+d,S.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new S("Unknown option "+o,S.ERR_BAD_OPTION)}}const Re={assertOptions:ei,validators:qe},W=Re.validators;let te=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ut,response:new Ut}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=re(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Re.assertOptions(n,{silentJSONParsing:W.transitional(W.boolean),forcedJSONParsing:W.transitional(W.boolean),clarifyTimeoutError:W.transitional(W.boolean)},!1),a!=null&&(h.isFunction(a)?r.paramsSerializer={serialize:a}:Re.assertOptions(a,{encode:W.function,serialize:W.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Re.assertOptions(r,{baseUrl:W.spelling("baseURL"),withXsrfToken:W.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&h.merge(o.common,o[r.method]);o&&h.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),r.headers=L.concat(i,o);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,m=0,f;if(!d){const x=[Jt.bind(this),void 0];for(x.unshift(...l),x.push(...u),f=x.length,c=Promise.resolve(r);m<f;)c=c.then(x[m++],x[m++]);return c}f=l.length;let p=r;for(m=0;m<f;){const x=l[m++],g=l[m++];try{p=x(p)}catch(y){g.call(this,y);break}}try{c=Jt.call(this,p)}catch(x){return Promise.reject(x)}for(m=0,f=u.length;m<f;)c=c.then(u[m++],u[m++]);return c}getUri(t){t=re(this.defaults,t);const r=Ar(t.baseURL,t.url,t.allowAbsoluteUrls);return _r(r,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){te.prototype[t]=function(r,n){return this.request(re(n||{},{method:t,url:r,data:(n||{}).data}))}});h.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,l){return this.request(re(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}te.prototype[t]=r(),te.prototype[t+"Form"]=r(!0)});let ti=class Lr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new ie(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Lr(function(a){t=a}),cancel:t}}};function ri(e){return function(r){return e.apply(null,r)}}function si(e){return h.isObject(e)&&e.isAxiosError===!0}const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach(([e,t])=>{pt[t]=e});function Fr(e){const t=new te(e),r=hr(te.prototype.request,t);return h.extend(r,te.prototype,t,{allOwnKeys:!0}),h.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Fr(re(e,a))},r}const E=Fr(ge);E.Axios=te;E.CanceledError=ie;E.CancelToken=ti;E.isCancel=Rr;E.VERSION=Ir;E.toFormData=Ue;E.AxiosError=S;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=ri;E.isAxiosError=si;E.mergeConfig=re;E.AxiosHeaders=L;E.formToJSON=e=>Tr(h.isHTMLForm(e)?new FormData(e):e);E.getAdapter=Pr.getAdapter;E.HttpStatusCode=pt;E.default=E;const{Axios:ko,AxiosError:_o,CanceledError:Eo,isCancel:To,CancelToken:Ro,VERSION:Co,all:Ao,Cancel:Oo,isAxiosError:Mo,spread:Do,toFormData:Po,AxiosHeaders:Io,HttpStatusCode:Lo,formToJSON:Fo,getAdapter:Uo,mergeConfig:$o}=E,Ur={},$r=Ur?.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",_=E.create({baseURL:$r,timeout:1e4,headers:{"Content-Type":"application/json"}}),jt=E.create({baseURL:$r,timeout:18e4,headers:{"Content-Type":"application/json"}}),qr=e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},Br=e=>Promise.reject(e),Wr=e=>e,zr=e=>{const t=e.response?.data?.detail||e.message||"An error occurred";return e.response?.status===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(e.response?.status>=500?k.error(`Server error: ${t}`):e.response?.status>=400?k.error(t):e.code==="NETWORK_ERROR"&&k.error("ðŸ´â€â˜ ï¸ Network error - check your connection!"),Promise.reject(e))};_.interceptors.request.use(qr,Br);_.interceptors.response.use(Wr,zr);jt.interceptors.request.use(qr,Br);jt.interceptors.response.use(Wr,zr);const z={getNowPlaying:(e="main")=>_.get("/now",{params:{station:e}}),getHistory:(e=20,t=0,r="main")=>_.get("/now/history",{params:{limit:e,offset:t,station:r}}),getNextUp:(e=1,t="main")=>_.get("/now/next",{params:{limit:e,station:t}}),getSettings:(e="main")=>_.get("/admin/settings",{params:{station:e}}),updateSettings:(e,t="main")=>_.post("/admin/settings",e,{params:{station:t}}),getStats:()=>_.get("/admin/stats"),getVoices:()=>_.get("/admin/voices"),getUsers:()=>_.get("/admin/users"),createUser:e=>_.post("/admin/users",e),updateUser:(e,t)=>_.put(`/admin/users/${e}`,t),deleteUser:e=>_.delete(`/admin/users/${e}`),deleteCommentary:e=>_.delete(`/admin/commentary/${e}`),resolveStaticUrl:e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=Ur?.VITE_API_URL;return t&&e.startsWith("/")?`${t.replace(/\/$/,"").replace(/\/(api)(\/v1)?$/i,"")}${e}`:e},skipTrack:()=>_.post("/liquidsoap/skip"),getTracks:()=>_.get("/tracks"),getStations:()=>_.get("/admin/stations"),createStation:e=>_.post("/stations",e)};function ni(){return me({queryKey:["nowPlaying"],queryFn:()=>_.get("/now/").then(e=>e.data),refetchInterval:1e4,staleTime:5e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:3})}function ai(e=20,t=0){return me({queryKey:["history",e,t],queryFn:()=>_.get(`/now/history?limit=${e}&offset=${t}`).then(r=>r.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function ii(){return me({queryKey:["nextUp"],queryFn:()=>_.get("/now/next?limit=5").then(e=>e.data),refetchInterval:3e4,staleTime:15e3,retry:2})}const oi=()=>s.jsx("div",{className:"card overflow-hidden animate-pulse",children:s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsx("div",{className:"lg:w-72 lg:flex-shrink-0 aspect-square lg:h-72 bg-gray-800"}),s.jsxs("div",{className:"flex-1 p-5 lg:p-7 space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-800 rounded w-20"}),s.jsx("div",{className:"h-7 bg-gray-800 rounded w-3/4 mt-2"}),s.jsx("div",{className:"h-5 bg-gray-800 rounded w-1/2"}),s.jsx("div",{className:"h-5 bg-gray-800 rounded w-24 rounded-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full w-full"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-3 bg-gray-800 rounded w-8"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-8"})]})]}),s.jsx("div",{className:"h-10 bg-gray-800 rounded-xl w-32"})]})]})}),Gt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMWYyOTM3Ii8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iODAiIGZpbGw9IiMyZDM3NDgiLz4KPGNpcmNsZSBjeD0iMTUwIiBjeT0iMTUwIiByPSIzMCIgZmlsbD0iIzM3NDE1MSIvPgo8L3N2Zz4K";function Xt(e){if(!e||isNaN(e))return"0:00";const t=Math.floor(e),r=Math.floor(t/60),n=t%60;return`${r}:${n.toString().padStart(2,"0")}`}const li=()=>{const{data:e,isLoading:t,error:r}=ni(),n=e?.track,a=e?.progress,o=n?.duration_sec??a?.total_seconds??0,[i,l]=Z.useState(a?.elapsed_seconds??0),[d,u]=Z.useState(!1);Z.useEffect(()=>{l(a?.elapsed_seconds??0)},[a?.elapsed_seconds,n?.id]),Z.useEffect(()=>{if(!n||!o)return;const p=setInterval(()=>{l(x=>Math.min(x+1,o))},1e3);return()=>clearInterval(p)},[n?.id,o]);const c=async()=>{if(!d){u(!0);try{await z.skipTrack(),k.success("Track skipped")}catch{k.error("Failed to skip track")}finally{setTimeout(()=>u(!1),2e3)}}};if(t)return s.jsx(oi,{});if(r||!n)return s.jsxs("div",{className:"card p-10 flex flex-col items-center justify-center gap-3 text-center min-h-[200px]",children:[s.jsx(ne,{className:"w-10 h-10 text-gray-600"}),s.jsx("p",{className:"text-gray-400 font-medium",children:"Radio offline"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"No track currently playing"})]});const m=o?Math.min(100,i/o*100):0,f=o?Math.max(0,o-i):0;return s.jsx("section",{className:"card overflow-hidden","aria-label":"Now Playing",children:s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsx("div",{className:"lg:w-72 lg:flex-shrink-0",children:s.jsxs("div",{className:"relative aspect-square lg:h-72 lg:w-72 bg-gray-800 overflow-hidden",children:[s.jsx("img",{src:n.artwork_url||Gt,alt:`${n.album||n.title} artwork`,className:"w-full h-full object-cover",onError:p=>{p.target.src=Gt}}),s.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-1.5 bg-black/60 backdrop-blur-sm px-2.5 py-1 rounded-full",children:[s.jsx("span",{className:"live-dot"}),s.jsx("span",{className:"text-xs font-semibold text-white",children:"LIVE"})]})]})}),s.jsxs("div",{className:"flex-1 p-5 lg:p-7 flex flex-col justify-between gap-5",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white leading-tight",children:n.title}),s.jsx("p",{className:"text-lg text-gray-300 font-medium",children:n.artist}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-1",children:[n.genre&&s.jsx("span",{className:"text-xs font-medium bg-gray-800 text-gray-300 px-2.5 py-1 rounded-full border border-gray-700",children:n.genre}),(n.album||n.year)&&s.jsx("span",{className:"text-sm text-gray-500",children:[n.album,n.year].filter(Boolean).join(" Â· ")})]})]}),s.jsxs("div",{className:"space-y-2",role:"region","aria-label":"Track progress",children:[s.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":o,children:s.jsx("div",{className:"h-full bg-primary-500 rounded-full progress-fill",style:{width:`${m}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:Xt(i)}),s.jsxs("span",{children:["-",Xt(f)]})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:c,disabled:d,"aria-label":d?"Skipping...":"Skip to next track",className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all
                ${d?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 active:bg-gray-900 text-gray-200 border border-gray-700"}`,children:d?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-4 h-4 border-2 border-gray-600 border-t-gray-300 rounded-full animate-spin"}),s.jsx("span",{children:"Skipping..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-4 h-4"}),s.jsx("span",{children:"Skip Track"})]})})})]})]})})},ci=()=>{const e=de(r=>r.commentaryText),t=de(r=>r.isGeneratingCommentary);return!e&&!t?null:s.jsxs("section",{className:`card p-5 border transition-colors duration-500 ${t?"border-teal-700/60 bg-teal-950/20":"border-gray-700/50"}`,"aria-label":"DJ Commentary","aria-live":"polite",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full ${t?"bg-teal-700/40":"bg-gray-800"}`,children:s.jsx(dr,{className:`w-3.5 h-3.5 ${t?"text-teal-400":"text-gray-400"}`})}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-teal-500/80",children:"DJ Commentary"}),t&&s.jsxs("span",{className:"flex items-center gap-1 ml-auto text-xs text-teal-600",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500 animate-pulse"}),"generating"]})]}),s.jsxs("p",{className:"text-teal-300 leading-relaxed text-sm sm:text-base font-light tracking-wide",children:[e,t&&s.jsx("span",{className:"inline-block w-0.5 h-4 bg-teal-400 ml-0.5 align-middle animate-[blink_1s_step-end_infinite]"})]})]})},rt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMWYyOTM3Ii8+CjwvcmVjdD4KPC9zdmc+Cg==";function Qt(e){const t=typeof e=="number"?e:Number(e);if(!isFinite(t)||t<=0)return"";const r=Math.floor(t/60),n=Math.floor(t%60);return`${r}:${n.toString().padStart(2,"0")}`}const di=()=>{const{data:e,isLoading:t}=ii(),n=Array.isArray(e?.next_tracks)&&e.next_tracks.length>0?e.next_tracks.map(i=>{const l=i?.track??{},d=typeof l.duration_sec=="number"&&isFinite(l.duration_sec)?l.duration_sec:0;return{id:l.id??0,title:l.title||"Unknown",artist:l.artist||"Unknown Artist",album:l.album||"",year:typeof l.year=="number"?l.year:void 0,genre:l.genre||"",duration:d,artwork:l.artwork_url||rt,commentary:null}}):[];if(t)return s.jsxs("div",{className:"card p-5",children:[s.jsx("div",{className:"section-header mb-4",children:"Up Next"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(i=>s.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[s.jsx("div",{className:"w-11 h-11 rounded-lg bg-gray-800 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-3.5 bg-gray-800 rounded w-2/3"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"})]})]},i))})]});if(n.length===0)return s.jsxs("div",{className:"card p-6 flex flex-col items-center gap-2 text-center text-gray-500 py-10",children:[s.jsx(sn,{className:"w-8 h-8 text-gray-700"}),s.jsx("p",{className:"text-sm font-medium text-gray-400",children:"No queue data"}),s.jsx("p",{className:"text-xs",children:"Tracks are played dynamically from the library"})]});const[a,...o]=n;return s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("div",{className:"flex gap-4 p-5 border-b border-gray-800",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-xl overflow-hidden bg-gray-800",children:s.jsx("img",{src:a.artwork,alt:`${a.album||a.title} artwork`,className:"w-full h-full object-cover",onError:i=>{i.target.src=rt}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"section-header mb-1",children:"Up Next"}),s.jsx("p",{className:"font-semibold text-white truncate",children:a.title}),s.jsx("p",{className:"text-sm text-gray-400 truncate",children:a.artist}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.genre&&s.jsx("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-0.5 rounded-full border border-gray-700",children:a.genre}),a.duration>0&&s.jsx("span",{className:"text-xs text-gray-500",children:Qt(a.duration)})]})]})]}),a.commentary&&s.jsxs("div",{className:"px-5 py-3 bg-gray-800/40 border-b border-gray-800 flex gap-2 items-start",children:[s.jsx(Zs,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:a.commentary})]}),o.length>0&&s.jsx("div",{className:"divide-y divide-gray-800/60",children:o.map((i,l)=>s.jsxs("div",{className:"flex items-center gap-3 px-5 py-3",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 w-4 text-center flex-shrink-0",children:l+2}),s.jsx("div",{className:"w-9 h-9 rounded-lg overflow-hidden bg-gray-800 flex-shrink-0",children:s.jsx("img",{src:i.artwork,alt:i.title,className:"w-full h-full object-cover",onError:d=>{d.target.src=rt}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:i.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.artist})]}),i.duration>0&&s.jsx("span",{className:"text-xs text-gray-600 flex-shrink-0",children:Qt(i.duration)})]},`${i.id}-${l}`))}),s.jsxs("div",{className:"px-5 py-3 border-t border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[s.jsx("span",{className:"live-dot"}),s.jsx("span",{children:"AI commentary active"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[s.jsx(ne,{className:"w-3 h-3"}),s.jsxs("span",{children:[n.length," queued"]})]})]})]})};function xt(e){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(e)}function q(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function P(e){q(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||xt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var ui={};function mi(){return ui}function Zt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ce(e,t){q(2,arguments);var r=P(e),n=P(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function fi(e,t){q(2,arguments);var r=P(e),n=P(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function hi(e,t){return q(2,arguments),P(e).getTime()-P(t).getTime()}var pi={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},xi="trunc";function gi(e){return pi[xi]}function yi(e){q(1,arguments);var t=P(e);return t.setHours(23,59,59,999),t}function bi(e){q(1,arguments);var t=P(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function vi(e){q(1,arguments);var t=P(e);return yi(t).getTime()===bi(t).getTime()}function ji(e,t){q(2,arguments);var r=P(e),n=P(t),a=Ce(r,n),o=Math.abs(fi(r,n)),i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);var l=Ce(r,n)===-a;vi(P(e))&&o===1&&Ce(e,n)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function wi(e,t,r){q(2,arguments);var n=hi(e,t)/1e3;return gi()(n)}var Ni={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Si=function(t,r,n){var a,o=Ni[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function st(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var ki={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ei={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ti={date:st({formats:ki,defaultWidth:"full"}),time:st({formats:_i,defaultWidth:"full"}),dateTime:st({formats:Ei,defaultWidth:"full"})},Ri={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ci=function(t,r,n,a){return Ri[t]};function le(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):o;a=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var Ai={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oi={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Di={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ii={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Li=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Fi={ordinalNumber:Li,era:le({values:Ai,defaultWidth:"wide"}),quarter:le({values:Oi,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:le({values:Mi,defaultWidth:"wide"}),day:le({values:Di,defaultWidth:"wide"}),dayPeriod:le({values:Pi,defaultWidth:"wide",formattingValues:Ii,defaultFormattingWidth:"wide"})};function ce(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?$i(l,function(m){return m.test(i)}):Ui(l,function(m){return m.test(i)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var c=t.slice(i.length);return{value:u,rest:c}}}function Ui(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function $i(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function qi(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(a.length);return{value:i,rest:l}}}var Bi=/^(\d+)(th|st|nd|rd)?/i,Wi=/\d+/i,zi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hi={any:[/^b/i,/^(a|c)/i]},Vi={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ji={any:[/1/i,/2/i,/3/i,/4/i]},Ki={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zi={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yi={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eo={ordinalNumber:qi({matchPattern:Bi,parsePattern:Wi,valueCallback:function(t){return parseInt(t,10)}}),era:ce({matchPatterns:zi,defaultMatchWidth:"wide",parsePatterns:Hi,defaultParseWidth:"any"}),quarter:ce({matchPatterns:Vi,defaultMatchWidth:"wide",parsePatterns:Ji,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ce({matchPatterns:Ki,defaultMatchWidth:"wide",parsePatterns:Gi,defaultParseWidth:"any"}),day:ce({matchPatterns:Xi,defaultMatchWidth:"wide",parsePatterns:Qi,defaultParseWidth:"any"}),dayPeriod:ce({matchPatterns:Zi,defaultMatchWidth:"any",parsePatterns:Yi,defaultParseWidth:"any"})},to={code:"en-US",formatDistance:Si,formatLong:Ti,formatRelative:Ci,localize:Fi,match:eo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function ro(e){return Hr({},e)}var Yt=1440,so=2520,nt=43200,no=86400;function ao(e,t,r){var n,a;q(2,arguments);var o=mi(),i=(n=(a=r?.locale)!==null&&a!==void 0?a:o.locale)!==null&&n!==void 0?n:to;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ce(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Hr(ro(r),{addSuffix:!!r?.addSuffix,comparison:l}),u,c;l>0?(u=P(t),c=P(e)):(u=P(e),c=P(t));var m=wi(c,u),f=(Zt(c)-Zt(u))/1e3,p=Math.round((m-f)/60),x;if(p<2)return r!=null&&r.includeSeconds?m<5?i.formatDistance("lessThanXSeconds",5,d):m<10?i.formatDistance("lessThanXSeconds",10,d):m<20?i.formatDistance("lessThanXSeconds",20,d):m<40?i.formatDistance("halfAMinute",0,d):m<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):p===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",p,d);if(p<45)return i.formatDistance("xMinutes",p,d);if(p<90)return i.formatDistance("aboutXHours",1,d);if(p<Yt){var g=Math.round(p/60);return i.formatDistance("aboutXHours",g,d)}else{if(p<so)return i.formatDistance("xDays",1,d);if(p<nt){var y=Math.round(p/Yt);return i.formatDistance("xDays",y,d)}else if(p<no)return x=Math.round(p/nt),i.formatDistance("aboutXMonths",x,d)}if(x=ji(c,u),x<12){var v=Math.round(p/nt);return i.formatDistance("xMonths",v,d)}else{var N=x%12,w=Math.floor(x/12);return N<3?i.formatDistance("aboutXYears",w,d):N<9?i.formatDistance("overXYears",w,d):i.formatDistance("almostXYears",w+1,d)}}function io(e,t){return q(1,arguments),ao(e,Date.now(),t)}function er(){const{data:e,isLoading:t,error:r}=ai();if(t)return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center gap-2",children:[s.jsx(_e,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"section-header",children:"Play History"})]}),s.jsx("div",{className:"divide-y divide-gray-800/60",children:[1,2,3,4,5].map(a=>s.jsxs("div",{className:"flex items-center gap-3 px-5 py-3.5 animate-pulse",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-3.5 bg-gray-800 rounded w-2/3"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/3"})]})]},a))})]});if(r||!e)return s.jsxs("div",{className:"card p-8 flex flex-col items-center gap-2 text-center",children:[s.jsx(_e,{className:"w-8 h-8 text-gray-700"}),s.jsx("p",{className:"text-gray-400 font-medium",children:"Unable to load history"})]});const n=e.tracks||[];return n.length===0?s.jsxs("div",{className:"card p-10 flex flex-col items-center gap-2 text-center",children:[s.jsx(ne,{className:"w-8 h-8 text-gray-700"}),s.jsx("p",{className:"text-gray-400 font-medium",children:"No tracks played yet"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Start the radio to see your play history"})]}):s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"section-header",children:"Play History"})]}),s.jsxs("span",{className:"text-xs text-gray-600",children:[n.length," tracks"]})]}),s.jsx("div",{className:"divide-y divide-gray-800/60",children:n.map((a,o)=>s.jsx(oo,{item:a,isRecent:o<3},`${a.play.id}-${o}`))})]})}function oo({item:e,isRecent:t}){const{track:r,play:n,commentary:a}=e,[o,i]=Z.useState(!1),l=io(new Date(n.started_at),{addSuffix:!0});return s.jsxs("div",{className:`px-5 py-3.5 ${t?"bg-primary-500/5":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-800 flex-shrink-0",children:r.artwork_url?s.jsx("img",{src:r.artwork_url,alt:r.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(ne,{className:"w-4 h-4 text-gray-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-100 truncate",children:r.title}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:r.artist})]}),s.jsxs("div",{className:"flex-shrink-0 text-right",children:[s.jsx("p",{className:"text-xs text-gray-600",children:l}),n.was_skipped&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600 mt-0.5 justify-end",children:[s.jsx(mr,{className:"w-3 h-3"}),s.jsx("span",{children:"Skipped"})]})]})]}),r.tags&&r.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:r.tags.slice(0,3).map((d,u)=>s.jsx("span",{className:"text-xs bg-gray-800 text-gray-500 px-1.5 py-0.5 rounded",children:d},u))})]}),a&&s.jsx("button",{onClick:()=>i(d=>!d),className:"flex-shrink-0 p-1.5 rounded-lg text-primary-400 hover:bg-primary-500/10 transition-colors","aria-label":o?"Hide DJ commentary":"Show DJ commentary",children:s.jsx(dr,{className:"w-4 h-4"})})]}),a&&o&&s.jsxs("div",{className:"mt-3 ml-13 pl-3 border-l-2 border-primary-500/30",children:[s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-2",children:a.text}),a.audio_url&&s.jsx("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:s.jsx("source",{src:a.audio_url,type:"audio/mpeg"})})]})]})}function lo({size:e="md",message:t="Loading...",fullScreen:r=!1}){const n={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},a=s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:`spinner ${n[e]}`}),t&&s.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return r?s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:a}):a}const co=({settings:e,testText:t,setTestText:r})=>{const[n,a]=b.useState(!1),[o,i]=b.useState(null),l=async()=>{if(e){a(!0),i(null);try{const c=e.dj_voice_provider||"kokoro";let m="/admin/tts-test",f={text:t};switch(c){case"openai_tts":m="/admin/tts-test-openai",f.voice=e.openai_tts_voice||"onyx",f.model=e.openai_tts_model||"tts-1";break;case"xtts":m="/admin/tts-test-xtts",f.voice=e.xtts_voice||"coqui-tts:en_ljspeech",f.speaker=e.xtts_speaker;break;default:f.voice=e.kokoro_voice||"af_bella",f.speed=e.kokoro_speed,f.volume=e.dj_tts_volume;break}const p=await jt.post(m,f),x=z.resolveStaticUrl(p.data?.audio_url);x&&(i(x),k.success(`${c.toUpperCase()} voice test generated!`))}catch(c){const m=c?.response?.data?.detail||"Voice test failed";k.error(m)}finally{a(!1)}}},d=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return e?.openai_tts_voice||"onyx";case"xtts":return e?.xtts_voice||"coqui-tts:en_ljspeech";default:return e?.kokoro_voice||"af_bella"}},u=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return"OpenAI TTS";case"xtts":return"XTTS";default:return"Kokoro"}};return s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[s.jsx("p",{className:"section-header mb-4",children:"Voice Testing"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),s.jsx("input",{type:"text",value:t,onChange:c=>r(c.target.value),className:"input w-full text-sm",placeholder:"Enter text to test the voice..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:l,disabled:n||!e,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Testing...":`Test ${u()} Voice`}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Voice: ",s.jsx("span",{className:"text-white",children:d()})]})]}),o&&s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Generated Audio"}),s.jsxs("audio",{controls:!0,className:"w-full h-8",children:[s.jsx("source",{src:o,type:"audio/mpeg"}),"Your browser does not support audio playback."]})]})]})]})},uo=({settings:e,setSettings:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"section-header mb-4",children:"General Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),s.jsxs("select",{className:"input w-full",value:e.dj_provider||"templates",onChange:r=>t({...e,dj_provider:r.target.value}),children:[s.jsx("option",{value:"ollama",children:"Ollama"}),s.jsx("option",{value:"openai",children:"OpenAI"}),s.jsx("option",{value:"templates",children:"Templates"}),s.jsx("option",{value:"disabled",children:"Disabled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:r=>t({...e,dj_max_seconds:parseInt(r.target.value||"0",10)}),className:"flex-1"}),s.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:r=>t({...e,dj_max_seconds:parseInt(r.target.value||"0",10)}),className:"w-20 bg-gray-800 border border-gray-700 rounded-xl px-2 py-1.5 text-white"})]})]})]})]}),mo=({settings:e,setSettings:t,voices:r})=>{const n=e?.dj_voice_provider||"kokoro",a=()=>{switch(n){case"openai_tts":return["alloy","echo","fable","onyx","nova","shimmer"];case"xtts":return r.length?r:[];default:{const l=r.length?r:["af_bella","af_sarah","af_sky","am_onyx","am_michael","am_ryan","bf_ava","bf_sophie","bm_george","bm_james"],d=e?.kokoro_voice;return d&&!l.includes(d)?[d,...l]:l}}},o=()=>{switch(n){case"openai_tts":return"openai_tts_voice";case"xtts":return"xtts_voice";default:return"kokoro_voice"}},i=()=>{const l=o();return e[l]||a()[0]||""};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"section-header mb-4",children:"Voice & TTS Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),s.jsxs("select",{className:"input w-full",value:n,onChange:l=>t({...e,dj_voice_provider:l.target.value}),children:[s.jsx("option",{value:"kokoro",children:"Kokoro TTS"}),s.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),s.jsx("option",{value:"xtts",children:"XTTS"}),s.jsx("option",{value:"liquidsoap",children:"Liquidsoap"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:n==="openai_tts"?"OpenAI Voice":n==="xtts"?"XTTS Voice":"Kokoro Voice"}),s.jsx("select",{className:"input w-full",value:i(),onChange:l=>{const d=o();t({...e,[d]:l.target.value})},children:a().map(l=>s.jsx("option",{value:l,children:l},l))})]}),n==="kokoro"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:l=>t({...e,kokoro_speed:parseFloat(l.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:l=>t({...e,kokoro_speed:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded-xl px-2 py-1.5 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Volume"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded-xl px-2 py-1.5 text-white"})]})]})]})]})]})},fo=({settings:e,setSettings:t,ollamaModels:r})=>{e?.dj_provider;const n=e?.dj_model||e?.ollama_model||"llama3.2:1b";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"section-header mb-4",children:"AI Model Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),s.jsx("select",{className:"input w-full",value:n,onChange:a=>t({...e,dj_model:a.target.value,ollama_model:a.target.value}),children:r.length>0?r.map(a=>s.jsx("option",{value:a,children:a},a)):s.jsxs("option",{value:n,children:[n," (server offline)"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Temperature"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:a=>t({...e,dj_temperature:parseFloat(a.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:a=>t({...e,dj_temperature:parseFloat(a.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded-xl px-2 py-1.5 text-white"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Prompt Template (Ollama/OpenAI)"}),s.jsx("textarea",{className:"input w-full text-sm min-h-[160px]",placeholder:"You're a pirate radio DJ introducing the NEXT song... Use {{song_title}}, {{artist}}, {{album}}, {{year}}.",value:e.dj_prompt_template??"",onChange:a=>t({...e,dj_prompt_template:a.target.value})}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Used when provider is Ollama or OpenAI. Supports Jinja variables like ","{{song_title}}",", ","{{artist}}",", ","{{album}}",", ","{{year}}","."]})]})})]})},ho=()=>{const[t,r]=b.useState(!1),[n,a]=b.useState([]),[o,i]=b.useState([]),[l,d]=b.useState("Welcome to Raido FM! This voice sounds crisp and clear for our pirate radio commentary."),[u,c]=b.useState(null),[m,f]=b.useState(null),[p,x]=b.useState(null),[g,y]=b.useState(!0),[v,N]=b.useState(!0),[w,T]=b.useState({interval:1,tracksSince:0,nextTrack:null});b.useEffect(()=>{z.getSettings().then(j=>{c(j.data),f(j.data)}).catch(()=>x("Failed to load settings"))},[]),b.useEffect(()=>{u&&(async()=>{try{const O=Number(u?.dj_commentary_interval??1),St=(await z.getHistory(O+1,0)).data?.tracks||[];let He=0;for(const Xr of St){if(Xr?.commentary)break;He+=1}const ve=(await z.getNextUp(1)).data?.next_tracks?.[0]?.track||null;T({interval:O,tracksSince:He,nextTrack:ve?{id:ve.id,title:ve.title,artist:ve.artist}:null})}catch{}})()},[u?.dj_commentary_interval,u?.enable_commentary,u?.dj_provider]),b.useEffect(()=>{const j=u?.dj_voice_provider||"kokoro";(async()=>{try{if(j==="xtts"){const U=await _.get("/admin/voices-xtts");a(U.data?.voices||[])}else{const U=await _.get("/admin/voices");a(U.data?.voices||[])}}catch{a([])}})()},[u?.dj_voice_provider]),b.useEffect(()=>{(async()=>{try{const O=await _.get("/admin/ollama-models");i(O.data?.models||[])}catch{i([])}})()},[u?.dj_provider]);const R=!!(u&&m&&JSON.stringify(u)!==JSON.stringify(m)),C=async()=>{if(u){r(!0),x(null);try{await z.updateSettings(u),k.success("Settings saved successfully! ðŸŽ›ï¸"),f(u)}catch(j){const O=j?.response?.data?.detail||"Failed to save settings";x(O),k.error(`Save failed: ${O}`)}finally{r(!1)}}},M=j=>j.replace(/<[^>]*>/g,""),V=(j,O)=>{if(!j)return`tts-commentary-${O}.mp3`;const U=j.split("/").filter(Boolean);return(U[U.length-1]||"").split("?")[0].replace(/[^a-zA-Z0-9._-]/g,"_")||`tts-commentary-${O}.mp3`},[J,wt]=b.useState(0),ye=20,{data:F,isLoading:Vr,error:Jr,refetch:Nt}=me({queryKey:["ttsStatus","main",J],queryFn:()=>_.get("/admin/tts-status",{params:{station:"main",window_hours:24,limit:ye,offset:J*ye}}).then(j=>j.data),refetchInterval:3e4,staleTime:1e4,keepPreviousData:!0}),be=j=>j?j<1e3?`${j}ms`:`${(j/1e3).toFixed(1)}s`:"N/A",Kr=async j=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await z.deleteCommentary(j),Nt()}catch(O){console.error("Failed to delete commentary:",O)}},Be=j=>{switch(j){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},We=j=>{switch(j){case"running":return"ðŸŸ¢";case"stopped":return"ðŸ”´";case"warning":return"ðŸŸ¡";default:return"âšª"}};if(Vr)return s.jsx("div",{className:"card p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(lo,{message:"Loading TTS monitoring data..."})})});if(Jr)return s.jsx("div",{className:"card p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-red-400",children:[s.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error loading TTS status"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Unable to fetch TTS monitoring data"}),s.jsx("button",{onClick:()=>Nt(),className:"btn-primary mt-4",children:"Retry"})]})})});const se=F?.statistics,ze=F?.recent_activity||[],B=F?.system_status;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"DJ Admin"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage DJ settings and monitor TTS activity"})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-3 font-semibold text-white hover:text-primary-400 transition-colors",children:[s.jsx("span",{className:`transform transition-transform text-xs text-gray-500 ${g?"rotate-0":"rotate-90"}`,children:"â–¶"}),s.jsx("span",{className:"text-base",children:"DJ Settings"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[R&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-lg bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"Unsaved changes"}),s.jsx("button",{onClick:C,disabled:!u||t||!R,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Savingâ€¦":"Save Settings"})]})]}),!g&&u&&s.jsx("div",{className:"mb-4",children:!u.enable_commentary||u.dj_provider==="disabled"?s.jsx("div",{className:"px-3 py-2 rounded border border-red-600/30 bg-red-900/20 text-red-300 text-sm",children:"Commentary is currently disabled. Enable it and pick a provider to resume generation."}):s.jsxs(s.Fragment,{children:[w.tracksSince<(w.interval||1)?s.jsxs("div",{className:"px-3 py-2 rounded border border-yellow-600/30 bg-yellow-900/20 text-yellow-200 text-sm",children:["Waiting for interval: ",w.tracksSince," of ",w.interval," tracks since last commentary. Generation will trigger once the interval is reached."]}):s.jsx("div",{className:"px-3 py-2 rounded border border-green-600/30 bg-green-900/20 text-green-200 text-sm",children:"Eligible to generate on the next cycle."}),s.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Tip: If the next-up track already had an intro in the last hour, deduplication may skip generating again. You can skip the current track or restart the DJ worker to force a new intro.",w.nextTrack&&s.jsxs("span",{className:"ml-2 text-gray-300",children:["Next up: ",w.nextTrack.artist," â€” ",w.nextTrack.title]})]})]})}),p&&!g&&s.jsx("div",{className:"text-red-400 text-sm mb-4 p-3 bg-red-900/20 rounded-lg border border-red-600/20",children:p}),!g&&u&&s.jsxs("div",{className:"space-y-8",children:[s.jsx(uo,{settings:u,setSettings:c}),s.jsx(mo,{settings:u,setSettings:c,voices:n}),u.dj_provider==="ollama"&&s.jsx(fo,{settings:u,setSettings:c,ollamaModels:o}),s.jsx(co,{settings:u,testText:l,setTestText:d})]})]}),s.jsx("div",{className:"card p-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("button",{onClick:()=>N(!v),className:"flex items-center gap-3 font-semibold text-white hover:text-primary-400 transition-colors","aria-expanded":!v,children:[s.jsx("span",{className:`transform transition-transform text-xs text-gray-500 ${v?"rotate-0":"rotate-90"}`,children:"â–¶"}),s.jsx("span",{className:"text-base",children:"TTS Monitoring"})]})})}),!v&&s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Success Rate"}),s.jsxs("p",{className:"text-xl font-bold text-white",children:[se?.success_rate||0,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[se?.success_24h||0," of ",se?.total_24h||0," in 24h"]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Total Generated"}),s.jsx("p",{className:"text-xl font-bold text-white",children:se?.total_24h||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Last 24 hours"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Avg Gen Time"}),s.jsx("p",{className:"text-xl font-bold text-white",children:be(se?.avg_generation_time_ms||null)}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Generation speed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Avg TTS Time"}),s.jsx("p",{className:"text-xl font-bold text-white",children:be(se?.avg_tts_time_ms||null)}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Voice synthesis"})]})]}),B&&!v&&s.jsxs("div",{className:"bg-gray-900/60 border border-gray-800/60 rounded-xl p-3 shadow-inner",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-300",children:[s.jsx("span",{className:"text-sm",children:"âš™ï¸"}),"System Status"]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[s.jsx("span",{className:"text-base",children:We(B.tts_service)}),s.jsx("span",{className:"text-gray-200",children:"TTS Service"}),s.jsx("span",{className:`font-semibold capitalize ${Be(B.tts_service)}`,children:B.tts_service})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[s.jsx("span",{className:"text-base",children:We(B.dj_worker)}),s.jsx("span",{className:"text-gray-200",children:"DJ Worker"}),s.jsx("span",{className:`font-semibold capitalize ${Be(B.dj_worker)}`,children:B.dj_worker})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[s.jsx("span",{className:"text-base",children:We(B.kokoro_tts)}),s.jsx("span",{className:"text-gray-200",children:"Kokoro TTS"}),s.jsx("span",{className:`font-semibold capitalize ${Be(B.kokoro_tts)}`,children:B.kokoro_tts})]})]})]}),!v&&s.jsxs("div",{className:"card p-4",children:[s.jsx("p",{className:"section-header mb-4",children:"Recent TTS Activity"}),ze.length===0?s.jsx("div",{className:"text-center text-gray-400 py-8",children:s.jsx("p",{children:"No recent TTS activity"})}):s.jsxs("div",{className:"space-y-2",children:[ze.map(j=>{const O=z.resolveStaticUrl(j.audio_url),U=V(j.audio_url,j.id);return s.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[j.status==="running"?s.jsx("span",{className:"mt-1.5 inline-block w-3 h-3 border-2 border-gray-400 border-t-transparent rounded-full animate-spin","aria-label":"Generating",title:"Generating"}):s.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${j.status==="ready"?"bg-green-400":j.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:j.transcript?j.transcript:M(j.text)}),s.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[j.provider," â€¢ ",j.voice_provider]}),j.voice_id?s.jsxs("span",{children:["â€¢ voice: ",j.voice_id]}):null,j.provider==="ollama"&&j.llm_mode==="nonstream"&&s.jsx("span",{className:"text-xxs px-2 py-0.5 rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"nonâ€‘streaming fallback"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"text-right text-sm text-gray-400",children:[s.jsx("div",{children:new Date(j.created_at).toLocaleTimeString()}),(j.generation_time_ms||j.tts_time_ms)&&s.jsxs("div",{className:"text-xs",children:[j.generation_time_ms&&`Gen: ${be(j.generation_time_ms)}`,j.generation_time_ms&&j.tts_time_ms&&" â€¢ ",j.tts_time_ms&&`TTS: ${be(j.tts_time_ms)}`]})]}),s.jsx("button",{onClick:()=>Kr(j.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:s.jsx("span",{className:"text-sm",children:"ðŸ—‘ï¸"})})]})]}),O&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("audio",{controls:!0,className:"w-full h-6",preload:"metadata",children:[s.jsx("source",{src:O,type:"audio/mpeg"}),"Your browser does not support audio playback."]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-gray-400",children:[s.jsx("span",{className:"truncate",title:U,children:U}),s.jsxs("a",{href:O,download:U,className:"inline-flex items-center gap-1 text-sm text-primary-400 hover:text-primary-300",children:[s.jsx("span",{"aria-hidden":"true",children:"â¬‡ï¸"}),s.jsx("span",{children:"Download"})]})]})]})]})]},j.id)}),F?.pagination&&F.pagination.total>ye&&s.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-gray-700/50",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",F.pagination.offset+1,"-",Math.min(F.pagination.offset+ze.length,F.pagination.total)," of ",F.pagination.total]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>wt(Math.max(0,J-1)),disabled:J===0,className:"btn-secondary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm text-gray-400",children:["Page ",J+1," of ",Math.ceil(F.pagination.total/ye)]}),s.jsx("button",{onClick:()=>wt(J+1),disabled:!F.pagination.has_more,className:"btn-secondary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})},po=[{value:"1d",label:"24h"},{value:"7d",label:"7d"},{value:"30d",label:"30d"},{value:"all",label:"All"}],xo=()=>{const[e,t]=b.useState("7d"),[r,n]=b.useState(!1),[a,o]=b.useState(!1),{data:i,isLoading:l,error:d,refetch:u}=me({queryKey:["analytics",e],queryFn:()=>_.get(`/admin/analytics?range=${e}`).then(f=>f.data),staleTime:3e4}),c=Math.max(...(i?.genre_breakdown||[]).map(f=>f.count),1),m=i?.genre_breakdown?a?i.genre_breakdown:i.genre_breakdown.slice(0,25):[];return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"Analytics"}),i?.date_range&&s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[new Date(i.date_range.start).toLocaleDateString()," â€“"," ",new Date(i.date_range.end).toLocaleDateString(),i.total_tracks>0&&` Â· ${i.total_tracks} tracks`]})]}),s.jsx("div",{className:"flex items-center gap-1 bg-gray-900 border border-gray-800 rounded-xl p-1",children:po.map(f=>s.jsx("button",{onClick:()=>t(f.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===f.value?"bg-gray-700 text-white":"text-gray-500 hover:text-gray-300"}`,children:f.label},f.value))})]}),s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(f=>!f),className:"w-full flex items-center justify-between px-5 py-4 border-b border-gray-800 hover:bg-gray-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ot,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"section-header",children:"Genre Breakdown"}),i?.genre_breakdown&&s.jsxs("span",{className:"text-xs text-gray-600",children:["(",i.genre_breakdown.length,")"]})]}),r?s.jsx(en,{className:"w-4 h-4 text-gray-600"}):s.jsx(Ys,{className:"w-4 h-4 text-gray-600"})]}),!r&&s.jsx("div",{className:"p-5",children:l?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(f=>s.jsxs("div",{className:"animate-pulse space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/4"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-16"})]}),s.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full w-full"})]},f))}):d?s.jsxs("div",{className:"text-center py-8 space-y-3",children:[s.jsx("p",{className:"text-gray-400",children:"Failed to load analytics"}),s.jsx("button",{onClick:()=>u(),className:"btn-secondary text-sm",children:"Retry"})]}):m.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ot,{className:"w-8 h-8 mx-auto mb-2 text-gray-700"}),s.jsx("p",{className:"text-sm",children:"No genre data yet"})]}):s.jsxs("div",{className:"space-y-3",children:[m.map((f,p)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:"text-xs text-gray-600 w-5 text-right flex-shrink-0",children:p+1}),s.jsx("span",{className:"text-sm text-gray-200 font-medium truncate",children:f.genre||"Unknown"})]}),s.jsxs("div",{className:"text-xs text-gray-500 flex-shrink-0 ml-3",children:[f.count," Â· ",f.percentage.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:`${f.count/c*100}%`}})})]},f.genre)),i?.genre_breakdown&&i.genre_breakdown.length>25&&s.jsx("button",{onClick:()=>o(f=>!f),className:"text-sm text-primary-400 hover:text-primary-300 transition-colors mt-2",children:a?"Show top 25":`Show all ${i.genre_breakdown.length} genres`})]})})]}),s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"section-header",children:"Commentary Word Frequency"})]}),s.jsx("div",{className:"p-5",children:l?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[...Array(8)].map((f,p)=>s.jsx("div",{className:"h-10 bg-gray-800 rounded-xl animate-pulse"},p))}):i?.word_cloud_data&&i.word_cloud_data.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:i.word_cloud_data.slice(0,20).map(f=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-800 rounded-xl border border-gray-700/50",children:[s.jsx("span",{className:"font-medium text-gray-200 truncate",style:{fontSize:`${Math.max(.75,Math.min(1.1,f.count/10))}rem`},children:f.word}),s.jsx("span",{className:"text-xs text-gray-600 ml-2 flex-shrink-0",children:f.count})]},f.word))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Tt,{className:"w-8 h-8 mx-auto mb-2 text-gray-700"}),s.jsx("p",{className:"text-sm",children:"No commentary data yet"})]})})]})]})},go=()=>{const[e,t]=b.useState([]),[r,n]=b.useState({}),[a,o]=b.useState(()=>localStorage.getItem("selectedStation")||"main"),[i,l]=b.useState(!0),d=async()=>{try{const p=((await z.getStations()).data||[]).filter(x=>x.is_active);t(p),p.length>0&&o(p[0].identifier)}catch{k.error("Failed to load stations")}finally{l(!1)}},u=b.useCallback(async()=>{if(e.length===0)return;const f={};for(const p of e)try{const g=(await z.getNowPlaying(p.identifier)).data;f[p.identifier]={station:p.identifier,now_playing:g?.track?{title:g.track.title,artist:g.track.artist,artwork_url:g.track.artwork_url}:null,is_playing:g?.is_playing||!1,stream_url:`/stream/${p.identifier==="main"?"raido":p.identifier}.mp3`,admin_url:p.identifier==="main"?"/raido/admin":`/${p.identifier}/admin`}}catch{}n(f)},[e]);if(b.useEffect(()=>{d()},[]),b.useEffect(()=>{localStorage.setItem("selectedStation",a)},[a]),b.useEffect(()=>{if(e.length===0)return;u();const f=setInterval(u,5e3);return()=>clearInterval(f)},[e,u]),i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"section-header",children:"Stations"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[1,2].map(f=>s.jsxs("div",{className:"card p-5 animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-800 rounded w-1/2"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-xl"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-800 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"})]})]})]},f))})]});const c=r[a],m=e.find(f=>f.identifier===a);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"Stations"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage and monitor radio stations"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>{const p=r[f.identifier],x=a===f.identifier;return s.jsxs("button",{onClick:()=>o(f.identifier),className:`card p-4 text-left transition-all focus:outline-none focus:ring-2 focus:ring-primary-500 ${x?"border-primary-500/50 bg-primary-500/5":"hover:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white text-sm",children:f.name}),f.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f.description})]}),p?.is_playing?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"live-dot"}),s.jsx("span",{className:"text-xs font-semibold text-green-400",children:"LIVE"})]}):s.jsx("span",{className:"text-xs text-gray-600",children:"Offline"})]}),p?.now_playing?s.jsxs("div",{className:"flex gap-2.5 items-center",children:[p.now_playing.artwork_url?s.jsx("img",{src:p.now_playing.artwork_url,alt:"Album art",className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:s.jsx(ne,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-gray-200 truncate",children:p.now_playing.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:p.now_playing.artist})]})]}):s.jsxs("div",{className:"flex gap-2.5 items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:s.jsx(lt,{className:"w-4 h-4 text-gray-600"})}),s.jsx("p",{className:"text-xs text-gray-600",children:"No track playing"})]})]},f.id)})}),c&&m&&s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-white",children:m.name}),s.jsx("p",{className:"text-xs text-gray-500 font-mono",children:a})]}),c.is_playing?s.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-green-400 bg-green-500/10 border border-green-500/20 px-2.5 py-1 rounded-full",children:[s.jsx("span",{className:"live-dot"}),"LIVE"]}):s.jsx("span",{className:"text-xs text-red-400 bg-red-500/10 border border-red-500/20 px-2.5 py-1 rounded-full",children:"OFFLINE"})]}),s.jsxs("a",{href:c.stream_url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary flex items-center gap-1.5 text-sm",children:[s.jsx(Rt,{className:"w-3.5 h-3.5"}),"Listen"]})]}),s.jsxs("div",{className:"p-5",children:[c.now_playing?s.jsxs("div",{className:"flex gap-4 mb-5",children:[c.now_playing.artwork_url?s.jsx("img",{src:c.now_playing.artwork_url,alt:"Album artwork",className:"w-20 h-20 sm:w-24 sm:h-24 rounded-xl object-cover flex-shrink-0 border border-gray-800"}):s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-xl bg-gray-800 flex items-center justify-center flex-shrink-0",children:s.jsx(ne,{className:"w-8 h-8 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[s.jsx("p",{className:"section-header mb-1",children:"Now Playing"}),s.jsx("p",{className:"font-bold text-white text-lg leading-tight truncate",children:c.now_playing.title}),s.jsx("p",{className:"text-gray-400 truncate",children:c.now_playing.artist})]})]}):s.jsxs("div",{className:"flex gap-4 mb-5 items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-800 flex items-center justify-center flex-shrink-0",children:s.jsx(lt,{className:"w-8 h-8 text-gray-600"})}),s.jsx("p",{className:"text-gray-500",children:"No track currently playing"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-5",children:[s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Status"}),s.jsxs("p",{className:`text-sm font-medium flex items-center gap-1.5 ${c.is_playing?"text-green-400":"text-red-400"}`,children:[s.jsx(Qs,{className:"w-3.5 h-3.5"}),c.is_playing?"Online":"Offline"]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Stream URL"}),s.jsx("p",{className:"text-sm text-gray-300 font-mono truncate",children:c.stream_url})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-3.5",children:[s.jsx("p",{className:"section-header mb-1.5",children:"Station ID"}),s.jsx("p",{className:"text-sm text-gray-300 font-mono",children:a})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("a",{href:c.admin_url,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary flex items-center gap-1.5 text-sm",children:[s.jsx(ur,{className:"w-3.5 h-3.5"}),"DJ Admin"]}),s.jsxs("button",{onClick:()=>window.open(`/api/v1/now/?station=${a}`,"_blank"),className:"btn-secondary flex items-center gap-1.5 text-sm",children:[s.jsx(Rt,{className:"w-3.5 h-3.5"}),"View API"]}),s.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c.stream_url),k.success("Stream URL copied")},className:"btn-secondary flex items-center gap-1.5 text-sm",children:[s.jsx(tn,{className:"w-3.5 h-3.5"}),"Copy URL"]})]})]})]})]})};function yo(){return s.jsx("div",{className:"min-h-screen",children:s.jsx(En,{children:s.jsx(Se,{children:s.jsxs(ts,{children:[s.jsx(X,{path:"/",element:s.jsx(kt,{to:"/now-playing",replace:!0})}),s.jsx(X,{path:"/now-playing",element:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Se,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:s.jsx(li,{})}),s.jsx(ci,{}),s.jsx(Se,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Coming Up."}),children:s.jsx(di,{})}),s.jsx(Se,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Play History."}),children:s.jsx(er,{})})]})}),s.jsx(X,{path:"/history",element:s.jsx(er,{})}),s.jsx(X,{path:"/tts",element:s.jsx(kt,{to:"/raido/admin",replace:!0})}),s.jsx(X,{path:"/raido/admin",element:s.jsx(ho,{})}),s.jsx(X,{path:"/analytics",element:s.jsx(xo,{})}),s.jsx(X,{path:"/stations",element:s.jsx(go,{})}),s.jsx(X,{path:"*",element:s.jsxs("div",{className:"card p-12 flex flex-col items-center gap-2 text-center",children:[s.jsx("p",{className:"text-4xl font-bold text-gray-700",children:"404"}),s.jsx("p",{className:"text-gray-400 font-medium mt-1",children:"Page not found"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"The page you're looking for doesn't exist."})]})})]})})})})}const bo=new Zr({defaultOptions:{queries:{staleTime:60*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>t?.response?.status>=400&&t?.response?.status<500?!1:e<2}}});is.createRoot(document.getElementById("root")).render(s.jsx(Z.StrictMode,{children:s.jsx(Yr,{client:bo,children:s.jsxs(rs,{children:[s.jsx(yo,{}),s.jsx(Ks,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
