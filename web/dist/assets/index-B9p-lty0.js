var Or=Object.defineProperty;var Pr=(e,t,r)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nt=(e,t,r)=>Pr(e,typeof t!="symbol"?t+"":t,r);import{u as Dr,j as s,a as Oe,Q as Fr,b as Lr}from"./query-BMTE4gjB.js";import{a as Ur,r as w,g as Br,b as ee}from"./vendor-CDaM45aE.js";import{u as $r,L as nt,R as Hr,a as je,B as Wr}from"./router-q6GKdwt_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var ot={},_t=Ur;ot.createRoot=_t.createRoot,ot.hydrateRoot=_t.hydrateRoot;let zr={data:""},qr=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zr,Vr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jr=/\/\*[^]*?\*\/|  +/g,St=/\n+/g,X=(e,t)=>{let r="",a="",n="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":a+=i[1]=="f"?X(o,i):i+"{"+X(o,i[1]=="k"?"":t)+"}":typeof o=="object"?a+=X(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=X.p?X.p(i,o):i+":"+o+";")}return r+(t&&n?t+"{"+n+"}":n)+a},K={},zt=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+zt(e[r]);return t}return e},Zr=(e,t,r,a,n)=>{let i=zt(e),o=K[i]||(K[i]=(d=>{let m=0,c=11;for(;m<d.length;)c=101*c+d.charCodeAt(m++)>>>0;return"go"+c})(i));if(!K[o]){let d=i!==e?e:(m=>{let c,f,b=[{}];for(;c=Vr.exec(m.replace(Jr,""));)c[4]?b.shift():c[3]?(f=c[3].replace(St," ").trim(),b.unshift(b[0][f]=b[0][f]||{})):b[0][c[1]]=c[2].replace(St," ").trim();return b[0]})(e);K[o]=X(n?{["@keyframes "+o]:d}:d,r?"":"."+o)}let l=r&&K.g?K.g:null;return r&&(K.g=K[o]),((d,m,c,f)=>{f?m.data=m.data.replace(f,d):m.data.indexOf(d)===-1&&(m.data=c?d+m.data:m.data+d)})(K[o],t,a,l),o},Kr=(e,t,r)=>e.reduce((a,n,i)=>{let o=t[i];if(o&&o.call){let l=o(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":X(l,""):l===!1?"":l}return a+n+(o??"")},"");function Pe(e){let t=this||{},r=e.call?e(t.p):e;return Zr(r.unshift?r.raw?Kr(r,[].slice.call(arguments,1),t.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(t.p):n),{}):r,qr(t.target),t.g,t.o,t.k)}let qt,it,lt;Pe.bind({g:1});let G=Pe.bind({k:1});function Gr(e,t,r,a){X.p=t,qt=e,it=r,lt=a}function Q(e,t){let r=this||{};return function(){let a=arguments;function n(i,o){let l=Object.assign({},i),d=l.className||n.className;r.p=Object.assign({theme:it&&it()},l),r.o=/ *go\d+/.test(d),l.className=Pe.apply(r,a)+(d?" "+d:"");let m=e;return e[0]&&(m=l.as||e,delete l.as),lt&&m[0]&&lt(l),qt(m,l)}return n}}var Xr=e=>typeof e=="function",Ae=(e,t)=>Xr(e)?e(t):e,Qr=(()=>{let e=0;return()=>(++e).toString()})(),Vt=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Yr=20,bt="default",Jt=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:a}=t;return Jt(e,{type:e.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Se=[],Zt={toasts:[],pausedAt:void 0,settings:{toastLimit:Yr}},V={},Kt=(e,t=bt)=>{V[t]=Jt(V[t]||Zt,e),Se.forEach(([r,a])=>{r===t&&a(V[t])})},Gt=e=>Object.keys(V).forEach(t=>Kt(e,t)),es=e=>Object.keys(V).find(t=>V[t].toasts.some(r=>r.id===e)),De=(e=bt)=>t=>{Kt(t,e)},ts={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rs=(e={},t=bt)=>{let[r,a]=w.useState(V[t]||Zt),n=w.useRef(V[t]);w.useEffect(()=>(n.current!==V[t]&&a(V[t]),Se.push([t,a]),()=>{let o=Se.findIndex(([l])=>l===t);o>-1&&Se.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,d,m;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||ts[o.type],style:{...e.style,...(m=e[o.type])==null?void 0:m.style,...o.style}}});return{...r,toasts:i}},ss=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Qr()}),he=e=>(t,r)=>{let a=ss(t,e,r);return De(a.toasterId||es(a.id))({type:2,toast:a}),a.id},S=(e,t)=>he("blank")(e,t);S.error=he("error");S.success=he("success");S.loading=he("loading");S.custom=he("custom");S.dismiss=(e,t)=>{let r={type:3,toastId:e};t?De(t)(r):Gt(r)};S.dismissAll=e=>S.dismiss(void 0,e);S.remove=(e,t)=>{let r={type:4,toastId:e};t?De(t)(r):Gt(r)};S.removeAll=e=>S.remove(void 0,e);S.promise=(e,t,r)=>{let a=S.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=t.success?Ae(t.success,n):void 0;return i?S.success(i,{id:a,...r,...r==null?void 0:r.success}):S.dismiss(a),n}).catch(n=>{let i=t.error?Ae(t.error,n):void 0;i?S.error(i,{id:a,...r,...r==null?void 0:r.error}):S.dismiss(a)}),e};var as=1e3,ns=(e,t="default")=>{let{toasts:r,pausedAt:a}=rs(e,t),n=w.useRef(new Map).current,i=w.useCallback((f,b=as)=>{if(n.has(f))return;let g=setTimeout(()=>{n.delete(f),o({type:4,toastId:f})},b);n.set(f,g)},[]);w.useEffect(()=>{if(a)return;let f=Date.now(),b=r.map(g=>{if(g.duration===1/0)return;let x=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(x<0){g.visible&&S.dismiss(g.id);return}return setTimeout(()=>S.dismiss(g.id,t),x)});return()=>{b.forEach(g=>g&&clearTimeout(g))}},[r,a,t]);let o=w.useCallback(De(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=w.useCallback((f,b)=>{o({type:1,toast:{id:f,height:b}})},[o]),m=w.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),c=w.useCallback((f,b)=>{let{reverseOrder:g=!1,gutter:x=8,defaultPosition:y}=b||{},v=r.filter(j=>(j.position||y)===(f.position||y)&&j.height),N=v.findIndex(j=>j.id===f.id),u=v.filter((j,M)=>M<N&&j.visible).length;return v.filter(j=>j.visible).slice(...g?[u+1]:[0,u]).reduce((j,M)=>j+(M.height||0)+x,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let b=n.get(f.id);b&&(clearTimeout(b),n.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:m,calculateOffset:c}}},os=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,is=G`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ls=G`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cs=Q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${os} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${is} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ls} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ds=G`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,us=Q("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ds} 1s linear infinite;
`,ms=G`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hs=G`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fs=Q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ms} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hs} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ps=Q("div")`
  position: absolute;
`,xs=Q("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gs=G`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bs=Q("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ys=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return t!==void 0?typeof t=="string"?w.createElement(bs,null,t):t:r==="blank"?null:w.createElement(xs,null,w.createElement(us,{...a}),r!=="loading"&&w.createElement(ps,null,r==="error"?w.createElement(cs,{...a}):w.createElement(fs,{...a})))},vs=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,js=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ws="0%{opacity:0;} 100%{opacity:1;}",Ns="0%{opacity:1;} 100%{opacity:0;}",_s=Q("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ss=Q("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ks=(e,t)=>{let r=e.includes("top")?1:-1,[a,n]=Vt()?[ws,Ns]:[vs(r),js(r)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Es=w.memo(({toast:e,position:t,style:r,children:a})=>{let n=e.height?ks(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(ys,{toast:e}),o=w.createElement(Ss,{...e.ariaProps},Ae(e.message,e));return w.createElement(_s,{className:e.className,style:{...n,...r,...e.style}},typeof a=="function"?a({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});Gr(w.createElement);var Cs=({id:e,className:t,style:r,onHeightUpdate:a,children:n})=>{let i=w.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;a(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return w.createElement("div",{ref:i,className:t,style:r},n)},Ts=(e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...n}},Rs=Pe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,we=16,As=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:m}=ns(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:we,left:we,right:we,bottom:we,pointerEvents:"none",...o},className:l,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(c=>{let f=c.position||t,b=m.calculateOffset(c,{reverseOrder:e,gutter:a,defaultPosition:t}),g=Ts(f,b);return w.createElement(Cs,{id:c.id,key:c.id,onHeightUpdate:m.updateHeight,className:c.visible?Rs:"",style:g},c.type==="custom"?Ae(c.message,c):n?n(c):w.createElement(Es,{toast:c,position:f}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ms={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const r=w.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...m},c)=>w.createElement("svg",{ref:c,...Ms,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Is(e)}`,l].join(" "),...m},[...t.map(([f,b])=>w.createElement(f,b)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Y("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Y("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Y("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Y("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Y("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Us={},kt=e=>{let t;const r=new Set,a=(c,f)=>{const b=typeof c=="function"?c(t):c;if(!Object.is(b,t)){const g=t;t=f??(typeof b!="object"||b===null)?b:Object.assign({},t,b),r.forEach(x=>x(t,g))}},n=()=>t,d={setState:a,getState:n,getInitialState:()=>m,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(Us?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},m=t=e(a,n,d);return d},Bs=e=>e?kt(e):kt;var Yt={exports:{}},er={},tr={exports:{}},rr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=w;function $s(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hs=typeof Object.is=="function"?Object.is:$s,Ws=ne.useState,zs=ne.useEffect,qs=ne.useLayoutEffect,Vs=ne.useDebugValue;function Js(e,t){var r=t(),a=Ws({inst:{value:r,getSnapshot:t}}),n=a[0].inst,i=a[1];return qs(function(){n.value=r,n.getSnapshot=t,Ge(n)&&i({inst:n})},[e,r,t]),zs(function(){return Ge(n)&&i({inst:n}),e(function(){Ge(n)&&i({inst:n})})},[e]),Vs(r),r}function Ge(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hs(e,r)}catch{return!0}}function Zs(e,t){return t()}var Ks=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zs:Js;rr.useSyncExternalStore=ne.useSyncExternalStore!==void 0?ne.useSyncExternalStore:Ks;tr.exports=rr;var Gs=tr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=w,Xs=Gs;function Qs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ys=typeof Object.is=="function"?Object.is:Qs,ea=Xs.useSyncExternalStore,ta=Fe.useRef,ra=Fe.useEffect,sa=Fe.useMemo,aa=Fe.useDebugValue;er.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var i=ta(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=sa(function(){function d(g){if(!m){if(m=!0,c=g,g=a(g),n!==void 0&&o.hasValue){var x=o.value;if(n(x,g))return f=x}return f=g}if(x=f,Ys(c,g))return x;var y=a(g);return n!==void 0&&n(x,y)?(c=g,x):(c=g,f=y)}var m=!1,c,f,b=r===void 0?null:r;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,r,a,n]);var l=ea(e,i[0],i[1]);return ra(function(){o.hasValue=!0,o.value=l},[l]),aa(l),l};Yt.exports=er;var na=Yt.exports;const oa=Br(na),sr={},{useDebugValue:ia}=ee,{useSyncExternalStoreWithSelector:la}=oa;let Et=!1;const ca=e=>e;function da(e,t=ca,r){(sr?"production":void 0)!=="production"&&r&&!Et&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Et=!0);const a=la(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return ia(a),a}const ua=e=>{(sr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Bs(e):e,r=(a,n)=>da(t,a,n);return Object.assign(r,t),r},ma=e=>ua,Xe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ct=new Map,Ne=e=>{const t=ct.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,a])=>[r,a.getState()])):{}},ha=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const a=ct.get(r.name);if(a)return{type:"tracked",store:e,...a};const n={connection:t.connect(r),stores:{}};return ct.set(r.name,n),{type:"tracked",store:e,...n}},fa=(e,t={})=>(r,a,n)=>{const{enabled:i,anonymousActionType:o,store:l,...d}=t;let m;try{m=(i??(Xe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return(Xe?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,a,n);const{connection:c,...f}=ha(l,m,d);let b=!0;n.setState=(y,v,N)=>{const u=r(y,v);if(!b)return u;const j=N===void 0?{type:o||"anonymous"}:typeof N=="string"?{type:N}:N;return l===void 0?(c==null||c.send(j,a()),u):(c==null||c.send({...j,type:`${l}/${j.type}`},{...Ne(d.name),[l]:n.getState()}),u)};const g=(...y)=>{const v=b;b=!1,r(...y),b=v},x=e(n.setState,a,n);if(f.type==="untracked"?c==null||c.init(x):(f.stores[f.store]=n,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([y,v])=>[y,y===f.store?x:v.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let y=!1;const v=n.dispatch;n.dispatch=(...N)=>{(Xe?"production":void 0)!=="production"&&N[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),v(...N)}}return c.subscribe(y=>{var v;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Qe(y.payload,N=>{if(N.type==="__setState"){if(l===void 0){g(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const u=N.state[l];if(u==null)return;JSON.stringify(n.getState())!==JSON.stringify(u)&&g(u);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(N)});case"DISPATCH":switch(y.payload.type){case"RESET":return g(x),l===void 0?c==null?void 0:c.init(n.getState()):c==null?void 0:c.init(Ne(d.name));case"COMMIT":if(l===void 0){c==null||c.init(n.getState());return}return c==null?void 0:c.init(Ne(d.name));case"ROLLBACK":return Qe(y.state,N=>{if(l===void 0){g(N),c==null||c.init(n.getState());return}g(N[l]),c==null||c.init(Ne(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Qe(y.state,N=>{if(l===void 0){g(N);return}JSON.stringify(n.getState())!==JSON.stringify(N[l])&&g(N[l])});case"IMPORT_STATE":{const{nextLiftedState:N}=y.payload,u=(v=N.computedStates.slice(-1)[0])==null?void 0:v.state;if(!u)return;g(l===void 0?u:u[l]),c==null||c.send(null,N);return}case"PAUSE_RECORDING":return b=!b}return}}),x},pa=fa,Qe=(e,t)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&t(r)},dt=ma()(pa((e,t)=>({isConnected:!1,setIsConnected:r=>e({isConnected:r}),nowPlaying:void 0,updateNowPlaying:r=>e({nowPlaying:r}),isDarkMode:!0,toggleDarkMode:()=>{const r=!t().isDarkMode;e({isDarkMode:r}),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("raido-dark-mode",r.toString())},volume:parseInt(localStorage.getItem("raido-volume")||"75"),setVolume:r=>{e({volume:r}),localStorage.setItem("raido-volume",r.toString())},isMuted:localStorage.getItem("raido-muted")==="true",toggleMute:()=>{const r=!t().isMuted;e({isMuted:r}),localStorage.setItem("raido-muted",r.toString())},isAdmin:!1,setIsAdmin:r=>e({isAdmin:r})}),{name:"raido-store"})),xa=localStorage.getItem("raido-dark-mode")!=="false";xa?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");function ga(){const e=w.useRef(null),t=Dr(),{setIsConnected:r,updateNowPlaying:a}=dt(),n=w.useRef(),i=w.useRef(0),o=5,l=()=>{try{const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;e.current=new WebSocket(m),e.current.onopen=()=>{console.log("🏴‍☠️ WebSocket connected"),r(!0),i.current>0&&S.success("🏴‍☠️ Reconnected to the radio!"),i.current=0},e.current.onmessage=c=>{try{const f=JSON.parse(c.data);switch(f.type){case"now_playing":case"track_change":a(f.data),t.invalidateQueries({queryKey:["nowPlaying"]}),t.invalidateQueries({queryKey:["nextUp"]}),t.invalidateQueries({queryKey:["history"]});break;case"commentary":S("🗣️ New DJ commentary!",{icon:"🎙️",duration:3e3}),t.invalidateQueries({queryKey:["history"]});break;default:console.log("Unknown WebSocket message type:",f.type)}}catch(f){console.error("Error parsing WebSocket message:",f)}},e.current.onclose=c=>{if(console.log("WebSocket disconnected:",c.code,c.reason),r(!1),c.code!==1e3&&i.current<o){const f=Math.min(1e3*Math.pow(2,i.current),3e4);i.current++,console.log(`Reconnecting in ${f}ms (attempt ${i.current})`),n.current=setTimeout(()=>{l()},f)}else i.current>=o&&S.error("🏴‍☠️ Lost connection to the radio. Please refresh.")},e.current.onerror=c=>{console.error("WebSocket error:",c)}}catch(d){console.error("Error creating WebSocket:",d),r(!1)}};return w.useEffect(()=>(l(),()=>{n.current&&clearTimeout(n.current),e.current&&e.current.close(1e3,"Component unmounting")}),[]),{isConnected:dt(d=>d.isConnected),reconnect:l}}function ba({children:e}){const t=$r(),{isConnected:r,toggleDarkMode:a,isDarkMode:n}=dt();ga();const i=[{name:"Now Playing",href:"/",icon:Os},{name:"DJ Admin",href:"/tts",icon:Xt}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:[s.jsxs("header",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ds,{className:"h-8 w-8 text-primary-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold font-pirate text-primary-400 glitch","data-text":"RAIDO",children:"RAIDO"}),s.jsx("p",{className:"text-xs text-gray-400 -mt-1",children:"AI Pirate Radio"})]})]})}),s.jsx("nav",{className:"hidden md:flex space-x-6",children:i.map(o=>{const l=t.pathname===o.href;return s.jsxs(nt,{to:o.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[s.jsx(o.icon,{className:"h-4 w-4"}),s.jsx("span",{children:o.name})]},o.name)})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 text-xs ${r?"text-green-400":"text-red-400"}`,children:[r?s.jsx(Ls,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:r?"Connected":"Disconnected"})]}),s.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle dark mode",children:n?"☀️":"🌙"})]})]})}),s.jsx("div",{className:"md:hidden border-t border-gray-700",children:s.jsx("div",{className:"px-4 py-2 space-y-1",children:i.map(o=>{const l=t.pathname===o.href;return s.jsxs(nt,{to:o.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[s.jsx(o.icon,{className:"h-4 w-4"}),s.jsx("span",{children:o.name})]},o.name)})})})]}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),s.jsx("footer",{className:"bg-gray-800 bg-opacity-50 border-t border-gray-700 mt-16",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[s.jsx("p",{children:"🏴‍☠️ Raido - AI Pirate Radio © 2024"}),s.jsx("p",{className:"mt-1",children:"Sailing the digital seas with AI-powered beats"})]})})})]})}class _e extends ee.Component{constructor(r){super(r);Nt(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("UI ErrorBoundary caught:",r,a)}render(){var r;return this.state.hasError?this.props.fallback??s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),((r=this.state.error)==null?void 0:r.message)&&s.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),s.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function ar(e,t){return function(){return e.apply(t,arguments)}}const{toString:ya}=Object.prototype,{getPrototypeOf:yt}=Object,{iterator:Le,toStringTag:nr}=Symbol,Ue=(e=>t=>{const r=ya.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>Ue(t)===e),Be=e=>t=>typeof t===e,{isArray:oe}=Array,me=Be("undefined");function fe(e){return e!==null&&!me(e)&&e.constructor!==null&&!me(e.constructor)&&L(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const or=H("ArrayBuffer");function va(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&or(e.buffer),t}const ja=Be("string"),L=Be("function"),ir=Be("number"),pe=e=>e!==null&&typeof e=="object",wa=e=>e===!0||e===!1,ke=e=>{if(Ue(e)!=="object")return!1;const t=yt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nr in e)&&!(Le in e)},Na=e=>{if(!pe(e)||fe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},_a=H("Date"),Sa=H("File"),ka=H("Blob"),Ea=H("FileList"),Ca=e=>pe(e)&&L(e.pipe),Ta=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||L(e.append)&&((t=Ue(e))==="formdata"||t==="object"&&L(e.toString)&&e.toString()==="[object FormData]"))},Ra=H("URLSearchParams"),[Aa,Ma,Ia,Oa]=["ReadableStream","Request","Response","Headers"].map(H),Pa=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xe(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),oe(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(fe(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],t.call(null,e[l],l,e)}}function lr(e,t){if(fe(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cr=e=>!me(e)&&e!==te;function ut(){const{caseless:e}=cr(this)&&this||{},t={},r=(a,n)=>{const i=e&&lr(t,n)||n;ke(t[i])&&ke(a)?t[i]=ut(t[i],a):ke(a)?t[i]=ut({},a):oe(a)?t[i]=a.slice():t[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&xe(arguments[a],r);return t}const Da=(e,t,r,{allOwnKeys:a}={})=>(xe(t,(n,i)=>{r&&L(n)?e[i]=ar(n,r):e[i]=n},{allOwnKeys:a}),e),Fa=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),La=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ua=(e,t,r,a)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&yt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ba=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},$a=e=>{if(!e)return null;if(oe(e))return e;let t=e.length;if(!ir(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ha=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yt(Uint8Array)),Wa=(e,t)=>{const a=(e&&e[Le]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},za=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},qa=H("HTMLFormElement"),Va=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Ct=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ja=H("RegExp"),dr=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};xe(r,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},Za=e=>{dr(e,(t,r)=>{if(L(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(L(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ka=(e,t)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return oe(e)?a(e):a(String(e).split(t)),r},Ga=()=>{},Xa=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Qa(e){return!!(e&&L(e.append)&&e[nr]==="FormData"&&e[Le])}const Ya=e=>{const t=new Array(10),r=(a,n)=>{if(pe(a)){if(t.indexOf(a)>=0)return;if(fe(a))return a;if(!("toJSON"in a)){t[n]=a;const i=oe(a)?[]:{};return xe(a,(o,l)=>{const d=r(o,n+1);!me(d)&&(i[l]=d)}),t[n]=void 0,i}}return a};return r(e,0)},en=H("AsyncFunction"),tn=e=>e&&(pe(e)||L(e))&&L(e.then)&&L(e.catch),ur=((e,t)=>e?setImmediate:t?((r,a)=>(te.addEventListener("message",({source:n,data:i})=>{n===te&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),te.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",L(te.postMessage)),rn=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||ur,sn=e=>e!=null&&L(e[Le]),h={isArray:oe,isArrayBuffer:or,isBuffer:fe,isFormData:Ta,isArrayBufferView:va,isString:ja,isNumber:ir,isBoolean:wa,isObject:pe,isPlainObject:ke,isEmptyObject:Na,isReadableStream:Aa,isRequest:Ma,isResponse:Ia,isHeaders:Oa,isUndefined:me,isDate:_a,isFile:Sa,isBlob:ka,isRegExp:Ja,isFunction:L,isStream:Ca,isURLSearchParams:Ra,isTypedArray:Ha,isFileList:Ea,forEach:xe,merge:ut,extend:Da,trim:Pa,stripBOM:Fa,inherits:La,toFlatObject:Ua,kindOf:Ue,kindOfTest:H,endsWith:Ba,toArray:$a,forEachEntry:Wa,matchAll:za,isHTMLForm:qa,hasOwnProperty:Ct,hasOwnProp:Ct,reduceDescriptors:dr,freezeMethods:Za,toObjectSet:Ka,toCamelCase:Va,noop:Ga,toFiniteNumber:Xa,findKey:lr,global:te,isContextDefined:cr,isSpecCompliantForm:Qa,toJSONObject:Ya,isAsyncFn:en,isThenable:tn,setImmediate:ur,asap:rn,isIterable:sn};function _(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const mr=_.prototype,hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hr[e]={value:e}});Object.defineProperties(_,hr);Object.defineProperty(mr,"isAxiosError",{value:!0});_.from=(e,t,r,a,n,i)=>{const o=Object.create(mr);return h.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),_.call(o,e.message,t,r,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const an=null;function mt(e){return h.isPlainObject(e)||h.isArray(e)}function fr(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,r){return e?e.concat(t).map(function(n,i){return n=fr(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function nn(e){return h.isArray(e)&&!e.some(mt)}const on=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function $e(e,t,r){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=h.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!h.isUndefined(v[y])});const a=r.metaTokens,n=r.visitor||c,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(h.isDate(x))return x.toISOString();if(h.isBoolean(x))return x.toString();if(!d&&h.isBlob(x))throw new _("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(x)||h.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function c(x,y,v){let N=x;if(x&&!v&&typeof x=="object"){if(h.endsWith(y,"{}"))y=a?y:y.slice(0,-2),x=JSON.stringify(x);else if(h.isArray(x)&&nn(x)||(h.isFileList(x)||h.endsWith(y,"[]"))&&(N=h.toArray(x)))return y=fr(y),N.forEach(function(j,M){!(h.isUndefined(j)||j===null)&&t.append(o===!0?Tt([y],M,i):o===null?y:y+"[]",m(j))}),!1}return mt(x)?!0:(t.append(Tt(v,y,i),m(x)),!1)}const f=[],b=Object.assign(on,{defaultVisitor:c,convertValue:m,isVisitable:mt});function g(x,y){if(!h.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(x),h.forEach(x,function(N,u){(!(h.isUndefined(N)||N===null)&&n.call(t,N,h.isString(u)?u.trim():u,y,b))===!0&&g(N,y?y.concat(u):[u])}),f.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Rt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function vt(e,t){this._pairs=[],e&&$e(e,this,t)}const pr=vt.prototype;pr.append=function(t,r){this._pairs.push([t,r])};pr.toString=function(t){const r=t?function(a){return t.call(this,a,Rt)}:Rt;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function ln(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xr(e,t,r){if(!t)return e;const a=r&&r.encode||ln;h.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(t,r):i=h.isURLSearchParams(t)?t.toString():new vt(t,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class At{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(a){a!==null&&t(a)})}}const gr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cn=typeof URLSearchParams<"u"?URLSearchParams:vt,dn=typeof FormData<"u"?FormData:null,un=typeof Blob<"u"?Blob:null,mn={isBrowser:!0,classes:{URLSearchParams:cn,FormData:dn,Blob:un},protocols:["http","https","file","blob","url","data"]},jt=typeof window<"u"&&typeof document<"u",ht=typeof navigator=="object"&&navigator||void 0,hn=jt&&(!ht||["ReactNative","NativeScript","NS"].indexOf(ht.product)<0),fn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pn=jt&&window.location.href||"http://localhost",xn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserEnv:hn,hasStandardBrowserWebWorkerEnv:fn,navigator:ht,origin:pn},Symbol.toStringTag,{value:"Module"})),I={...xn,...mn};function gn(e,t){return $e(e,new I.classes.URLSearchParams,{visitor:function(r,a,n,i){return I.isNode&&h.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function bn(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yn(e){const t={},r=Object.keys(e);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],t[i]=e[i];return t}function br(e){function t(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&h.isArray(n)?n.length:o,d?(h.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),t(r,a,n[o],i)&&h.isArray(n[o])&&(n[o]=yn(n[o])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const r={};return h.forEachEntry(e,(a,n)=>{t(bn(a),n,r,0)}),r}return null}function vn(e,t,r){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const ge={transitional:gr,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=h.isObject(t);if(i&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return n?JSON.stringify(br(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return gn(t,this.formSerializer).toString();if((l=h.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $e(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),vn(t)):t}],transformResponse:[function(t){const r=this.transitional||ge.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?_.from(l,_.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const jn=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=e=>{const t={};let r,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||t[r]&&jn[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Mt=Symbol("internals");function ce(e){return e&&String(e).trim().toLowerCase()}function Ee(e){return e===!1||e==null?e:h.isArray(e)?e.map(Ee):String(e)}function Nn(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const _n=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ye(e,t,r,a,n){if(h.isFunction(a))return a.call(this,t,r);if(n&&(t=r),!!h.isString(t)){if(h.isString(a))return t.indexOf(a)!==-1;if(h.isRegExp(a))return a.test(t)}}function Sn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function kn(e,t){const r=h.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,i,o){return this[a].call(this,t,n,i,o)},configurable:!0})})}let U=class{constructor(t){t&&this.set(t)}set(t,r,a){const n=this;function i(l,d,m){const c=ce(d);if(!c)throw new Error("header name must be a non-empty string");const f=h.findKey(n,c);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||d]=Ee(l))}const o=(l,d)=>h.forEach(l,(m,c)=>i(m,c,d));if(h.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(h.isString(t)&&(t=t.trim())&&!_n(t))o(wn(t),r);else if(h.isObject(t)&&h.isIterable(t)){let l={},d,m;for(const c of t){if(!h.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[m=c[0]]=(d=l[m])?h.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}o(l,r)}else t!=null&&i(r,t,a);return this}get(t,r){if(t=ce(t),t){const a=h.findKey(this,t);if(a){const n=this[a];if(!r)return n;if(r===!0)return Nn(n);if(h.isFunction(r))return r.call(this,n,a);if(h.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ce(t),t){const a=h.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Ye(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let n=!1;function i(o){if(o=ce(o),o){const l=h.findKey(a,o);l&&(!r||Ye(a,a[l],l,r))&&(delete a[l],n=!0)}}return h.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!t||Ye(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,a={};return h.forEach(this,(n,i)=>{const o=h.findKey(a,i);if(o){r[o]=Ee(n),delete r[i];return}const l=t?Sn(i):String(i).trim();l!==i&&delete r[i],r[l]=Ee(n),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return h.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=t&&h.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[Mt]=this[Mt]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=ce(o);a[l]||(kn(n,o),a[l]=!0)}return h.isArray(t)?t.forEach(i):i(t),this}};U.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(U.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});h.freezeMethods(U);function et(e,t){const r=this||ge,a=t||r,n=U.from(a.headers);let i=a.data;return h.forEach(e,function(l){i=l.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function yr(e){return!!(e&&e.__CANCEL__)}function ie(e,t,r){_.call(this,e??"canceled",_.ERR_CANCELED,t,r),this.name="CanceledError"}h.inherits(ie,_,{__CANCEL__:!0});function vr(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new _("Request failed with status code "+r.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function En(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Cn(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const m=Date.now(),c=a[i];o||(o=m),r[n]=d,a[n]=m;let f=i,b=0;for(;f!==n;)b+=r[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-o<t)return;const g=c&&m-c;return g?Math.round(b*1e3/g):void 0}}function Tn(e,t){let r=0,a=1e3/t,n,i;const o=(m,c=Date.now())=>{r=c,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const c=Date.now(),f=c-r;f>=a?o(m,c):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const Me=(e,t,r=3)=>{let a=0;const n=Cn(50,250);return Tn(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,m=n(d),c=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&c?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},It=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Ot=e=>(...t)=>h.asap(()=>e(...t)),Rn=I.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,I.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,An=I.hasStandardBrowserEnv?{write(e,t,r,a,n,i){const o=[e+"="+encodeURIComponent(t)];h.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),h.isString(a)&&o.push("path="+a),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function In(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jr(e,t,r){let a=!Mn(t);return e&&(a||r==!1)?In(e,t):t}const Pt=e=>e instanceof U?{...e}:e;function se(e,t){t=t||{};const r={};function a(m,c,f,b){return h.isPlainObject(m)&&h.isPlainObject(c)?h.merge.call({caseless:b},m,c):h.isPlainObject(c)?h.merge({},c):h.isArray(c)?c.slice():c}function n(m,c,f,b){if(h.isUndefined(c)){if(!h.isUndefined(m))return a(void 0,m,f,b)}else return a(m,c,f,b)}function i(m,c){if(!h.isUndefined(c))return a(void 0,c)}function o(m,c){if(h.isUndefined(c)){if(!h.isUndefined(m))return a(void 0,m)}else return a(void 0,c)}function l(m,c,f){if(f in t)return a(m,c);if(f in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,c,f)=>n(Pt(m),Pt(c),f,!0)};return h.forEach(Object.keys({...e,...t}),function(c){const f=d[c]||n,b=f(e[c],t[c],c);h.isUndefined(b)&&f!==l||(r[c]=b)}),r}const wr=e=>{const t=se({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=U.from(o),t.url=xr(jr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(h.isFormData(r)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[m,...c]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...c].join("; "))}}if(I.hasStandardBrowserEnv&&(a&&h.isFunction(a)&&(a=a(t)),a||a!==!1&&Rn(t.url))){const m=n&&i&&An.read(i);m&&o.set(n,m)}return t},On=typeof XMLHttpRequest<"u",Pn=On&&function(e){return new Promise(function(r,a){const n=wr(e);let i=n.data;const o=U.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=n,c,f,b,g,x;function y(){g&&g(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function N(){if(!v)return;const j=U.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};vr(function(J){r(J),y()},function(J){a(J),y()},C),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(a(new _("Request aborted",_.ECONNABORTED,e,v)),v=null)},v.onerror=function(){a(new _("Network Error",_.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let M=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||gr;n.timeoutErrorMessage&&(M=n.timeoutErrorMessage),a(new _(M,C.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&h.forEach(o.toJSON(),function(M,C){v.setRequestHeader(C,M)}),h.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),l&&l!=="json"&&(v.responseType=n.responseType),m&&([b,x]=Me(m,!0),v.addEventListener("progress",b)),d&&v.upload&&([f,g]=Me(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(c=j=>{v&&(a(!j||j.type?new ie(null,e,v):j),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const u=En(n.url);if(u&&I.protocols.indexOf(u)===-1){a(new _("Unsupported protocol "+u+":",_.ERR_BAD_REQUEST,e));return}v.send(i||null)})},Dn=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,n;const i=function(m){if(!n){n=!0,l();const c=m instanceof Error?m:this.reason;a.abort(c instanceof _?c:new ie(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new _(`timeout ${t} of ms exceeded`,_.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>h.asap(l),d}},Fn=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,n;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Ln=async function*(e,t){for await(const r of Un(e))yield*Fn(r,t)},Un=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},Dt=(e,t,r,a)=>{const n=Ln(e,t);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:c}=await n.next();if(m){l(),d.close();return}let f=c.byteLength;if(r){let b=i+=f;r(b)}d.enqueue(new Uint8Array(c))}catch(m){throw l(m),m}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},He=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Nr=He&&typeof ReadableStream=="function",Bn=He&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_r=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$n=Nr&&_r(()=>{let e=!1;const t=new Request(I.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ft=64*1024,ft=Nr&&_r(()=>h.isReadableStream(new Response("").body)),Ie={stream:ft&&(e=>e.body)};He&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ie[t]&&(Ie[t]=h.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new _(`Response type '${t}' is not supported`,_.ERR_NOT_SUPPORT,a)})})})(new Response);const Hn=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(I.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await Bn(e)).byteLength},Wn=async(e,t)=>{const r=h.toFiniteNumber(e.getContentLength());return r??Hn(t)},zn=He&&(async e=>{let{url:t,method:r,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:m,headers:c,withCredentials:f="same-origin",fetchOptions:b}=wr(e);m=m?(m+"").toLowerCase():"text";let g=Dn([n,i&&i.toAbortSignal()],o),x;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(d&&$n&&r!=="get"&&r!=="head"&&(v=await Wn(c,a))!==0){let C=new Request(t,{method:"POST",body:a,duplex:"half"}),D;if(h.isFormData(a)&&(D=C.headers.get("content-type"))&&c.setContentType(D),C.body){const[J,ae]=It(v,Me(Ot(d)));a=Dt(C.body,Ft,J,ae)}}h.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;x=new Request(t,{...b,signal:g,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let u=await fetch(x,b);const j=ft&&(m==="stream"||m==="response");if(ft&&(l||j&&y)){const C={};["status","statusText","headers"].forEach(be=>{C[be]=u[be]});const D=h.toFiniteNumber(u.headers.get("content-length")),[J,ae]=l&&It(D,Me(Ot(l),!0))||[];u=new Response(Dt(u.body,Ft,J,()=>{ae&&ae(),y&&y()}),C)}m=m||"text";let M=await Ie[h.findKey(Ie,m)||"text"](u,e);return!j&&y&&y(),await new Promise((C,D)=>{vr(C,D,{data:M,headers:U.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:x})})}catch(N){throw y&&y(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,e,x),{cause:N.cause||N}):_.from(N,N&&N.code,e,x)}}),pt={http:an,xhr:Pn,fetch:zn};h.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lt=e=>`- ${e}`,qn=e=>h.isFunction(e)||e===null||e===!1,Sr={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let r,a;const n={};for(let i=0;i<t;i++){r=e[i];let o;if(a=r,!qn(r)&&(a=pt[(o=String(r)).toLowerCase()],a===void 0))throw new _(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Lt).join(`
`):" "+Lt(i[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:pt};function tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ie(null,e)}function Ut(e){return tt(e),e.headers=U.from(e.headers),e.data=et.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sr.getAdapter(e.adapter||ge.adapter)(e).then(function(a){return tt(e),a.data=et.call(e,e.transformResponse,a),a.headers=U.from(a.headers),a},function(a){return yr(a)||(tt(e),a&&a.response&&(a.response.data=et.call(e,e.transformResponse,a.response),a.response.headers=U.from(a.response.headers))),Promise.reject(a)})}const kr="1.11.0",We={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{We[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Bt={};We.transitional=function(t,r,a){function n(i,o){return"[Axios v"+kr+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(t===!1)throw new _(n(o," has been removed"+(r?" in "+r:"")),_.ERR_DEPRECATED);return r&&!Bt[o]&&(Bt[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};We.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Vn(e,t,r){if(typeof e!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new _("option "+i+" must be "+d,_.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _("Unknown option "+i,_.ERR_BAD_OPTION)}}const Ce={assertOptions:Vn,validators:We},q=Ce.validators;let re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new At,response:new At}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=se(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Ce.assertOptions(a,{silentJSONParsing:q.transitional(q.boolean),forcedJSONParsing:q.transitional(q.boolean),clarifyTimeoutError:q.transitional(q.boolean)},!1),n!=null&&(h.isFunction(n)?r.paramsSerializer={serialize:n}:Ce.assertOptions(n,{encode:q.function,serialize:q.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ce.assertOptions(r,{baseUrl:q.spelling("baseURL"),withXsrfToken:q.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[r.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=U.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const m=[];this.interceptors.response.forEach(function(y){m.push(y.fulfilled,y.rejected)});let c,f=0,b;if(!d){const x=[Ut.bind(this),void 0];for(x.unshift(...l),x.push(...m),b=x.length,c=Promise.resolve(r);f<b;)c=c.then(x[f++],x[f++]);return c}b=l.length;let g=r;for(f=0;f<b;){const x=l[f++],y=l[f++];try{g=x(g)}catch(v){y.call(this,v);break}}try{c=Ut.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,b=m.length;f<b;)c=c.then(m[f++],m[f++]);return c}getUri(t){t=se(this.defaults,t);const r=jr(t.baseURL,t.url,t.allowAbsoluteUrls);return xr(r,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){re.prototype[t]=function(r,a){return this.request(se(a||{},{method:t,url:r,data:(a||{}).data}))}});h.forEach(["post","put","patch"],function(t){function r(a){return function(i,o,l){return this.request(se(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}re.prototype[t]=r(),re.prototype[t+"Form"]=r(!0)});let Jn=class Er{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,l){a.reason||(a.reason=new ie(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Er(function(n){t=n}),cancel:t}}};function Zn(e){return function(r){return e.apply(null,r)}}function Kn(e){return h.isObject(e)&&e.isAxiosError===!0}const xt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xt).forEach(([e,t])=>{xt[t]=e});function Cr(e){const t=new re(e),r=ar(re.prototype.request,t);return h.extend(r,re.prototype,t,{allOwnKeys:!0}),h.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Cr(se(e,n))},r}const E=Cr(ge);E.Axios=re;E.CanceledError=ie;E.CancelToken=Jn;E.isCancel=yr;E.VERSION=kr;E.toFormData=$e;E.AxiosError=_;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=Zn;E.isAxiosError=Kn;E.mergeConfig=se;E.AxiosHeaders=U;E.formToJSON=e=>br(h.isHTMLForm(e)?new FormData(e):e);E.getAdapter=Sr.getAdapter;E.HttpStatusCode=xt;E.default=E;const{Axios:ci,AxiosError:di,CanceledError:ui,isCancel:mi,CancelToken:hi,VERSION:fi,all:pi,Cancel:xi,isAxiosError:gi,spread:bi,toFormData:yi,AxiosHeaders:vi,HttpStatusCode:ji,formToJSON:wi,getAdapter:Ni,mergeConfig:_i}=E,rt={},Gn=rt!=null&&rt.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",k=E.create({baseURL:Gn,timeout:1e4,headers:{"Content-Type":"application/json"}});k.interceptors.request.use(e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));k.interceptors.response.use(e=>e,e=>{var r,a,n,i,o;const t=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.detail)||e.message||"An error occurred";return((n=e.response)==null?void 0:n.status)===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(((i=e.response)==null?void 0:i.status)>=500?S.error(`Server error: ${t}`):((o=e.response)==null?void 0:o.status)>=400?S.error(t):e.code==="NETWORK_ERROR"&&S.error("🏴‍☠️ Network error - check your connection!"),Promise.reject(e))});const Te={getNowPlaying:()=>k.get("/now"),getHistory:(e=20,t=0)=>k.get(`/now/history?limit=${e}&offset=${t}`),getNextUp:(e=1)=>k.get(`/now/next?limit=${e}`),getSettings:()=>k.get("/admin/settings"),updateSettings:e=>k.post("/admin/settings",e),getStats:()=>k.get("/admin/stats"),getVoices:()=>k.get("/admin/voices"),getUsers:()=>k.get("/admin/users"),createUser:e=>k.post("/admin/users",e),updateUser:(e,t)=>k.put(`/admin/users/${e}`,t),deleteUser:e=>k.delete(`/admin/users/${e}`),deleteCommentary:e=>k.delete(`/admin/commentary/${e}`),skipTrack:()=>k.post("/liquidsoap/skip")};function Xn(){return Oe({queryKey:["nowPlaying"],queryFn:()=>k.get("/now/").then(e=>e.data),refetchInterval:1e4,staleTime:5e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:3})}function Qn(e=20,t=0){return Oe({queryKey:["history",e,t],queryFn:()=>k.get(`/now/history?limit=${e}&offset=${t}`).then(r=>r.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function Yn(){return Oe({queryKey:["nextUp"],queryFn:()=>k.get("/now/next?limit=1").then(e=>e.data),refetchInterval:3e4,staleTime:15e3,retry:2})}function ze({size:e="md",message:t="Loading...",fullScreen:r=!1}){const a={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},n=s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:`spinner ${a[e]}`}),t&&s.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return r?s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:n}):n}const eo=()=>{const{data:e,isLoading:t,error:r}=Xn(),a=e==null?void 0:e.track,n=e==null?void 0:e.progress,i=(a==null?void 0:a.duration_sec)??(n==null?void 0:n.total_seconds)??0,[o,l]=ee.useState((n==null?void 0:n.elapsed_seconds)??0),[d,m]=ee.useState(!1);ee.useEffect(()=>{l((n==null?void 0:n.elapsed_seconds)??0)},[n==null?void 0:n.elapsed_seconds,a==null?void 0:a.id]),ee.useEffect(()=>{if(!a||!i)return;const g=setInterval(()=>{l(x=>{const y=x+1;return y>i?i:y})},1e3);return()=>clearInterval(g)},[a==null?void 0:a.id,i]);const c=i?Math.max(0,i-o):0,f=async()=>{if(!d){m(!0);try{await Te.skipTrack(),S.success("🎵 Track skipped!")}catch(g){console.error("Failed to skip track:",g),S.error("Failed to skip track")}finally{setTimeout(()=>m(!1),2e3)}}};if(t)return s.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ze,{size:"lg",message:"Loading current track..."})})});if(r||!a)return s.jsx("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("p",{className:"text-xl mb-2",children:"🏴‍☠️ Radio Offline"}),s.jsx("p",{children:"No track currently playing"})]})})});const b=g=>{if(!g||isNaN(g))return"0:00";const x=Math.floor(g),y=Math.floor(x/60),v=x%60;return`${y}:${v.toString().padStart(2,"0")}`};return s.jsxs("div",{className:"bg-gradient-to-br from-pirate-900 via-pirate-800 to-gray-800 rounded-2xl p-8 shadow-2xl border border-pirate-600/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"🏴‍☠️ Now Playing on Raido"})]}),s.jsx("div",{className:"text-sm text-pirate-300 bg-pirate-800/50 px-3 py-1 rounded-full",children:"LIVE STREAM"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"w-full aspect-square rounded-2xl overflow-hidden shadow-2xl border-4 border-pirate-600/30",children:[a.artwork_url?s.jsx("img",{src:a.artwork_url,alt:`${a.album} by ${a.artist}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:g=>{const x=g.target;x.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMzc0MTUxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iMTAwIiBmaWxsPSIjMjkyODMxIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iNjAiIGZpbGw9IiM0MzQxNGEiLz4KPHJlY3QgeD0iMTQ1IiB5PSI4MCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI0U2RTZFNiIvPgo8L3N2Zz4K"}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-6xl",children:"🎵"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/20 rounded-2xl"})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg p-3",children:[s.jsx("div",{className:"text-white text-sm font-medium truncate",children:a.album}),s.jsx("div",{className:"text-gray-300 text-xs",children:a.year})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-4xl font-bold text-white leading-tight",children:a.title}),s.jsxs("h2",{className:"text-2xl text-pirate-300 font-semibold",children:["by ",a.artist]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[s.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:["🎸 ",a.genre]}),s.jsxs("span",{className:"text-sm",children:[a.album," • ",a.year]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[s.jsx("span",{children:b(o)}),s.jsxs("span",{children:["-",b(c)]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-pirate-500 via-pirate-400 to-pirate-300 h-3 rounded-full shadow-lg relative overflow-hidden",style:{width:`${i?Math.min(100,o/i*100):0}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 animate-pulse"})})})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx("button",{onClick:f,disabled:d,className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm shadow-lg transition-all duration-200
                ${d?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pirate-600 to-pirate-500 text-white hover:from-pirate-700 hover:to-pirate-600 hover:scale-105 active:scale-95"}
              `,children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Skipping..."]}):s.jsx(s.Fragment,{children:"⏭️ Skip Track"})})}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(nt,{to:"/tts",className:"bg-gradient-to-r from-pirate-600 to-pirate-500 hover:from-pirate-700 hover:to-pirate-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg transition-all duration-200 hover:scale-105 cursor-pointer",children:"🤖 AI Commentary Active - Monitor"}),s.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"🎙️ Kokoro TTS"}),s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"📻 24/7 Live"})]})]})]})]})},to=()=>{const{data:e,isLoading:t,error:r}=Yn();console.log("ComingUp nextUpData:",e),console.log("ComingUp isLoading:",t),console.log("ComingUp error:",r),console.log("ComingUp component is rendering!");const a=Array.isArray(e==null?void 0:e.next_tracks)&&e.next_tracks.length>0,n=a?e.next_tracks.map(o=>{const l=(o==null?void 0:o.track)??{},d=typeof l.duration_sec=="number"&&isFinite(l.duration_sec)&&l.duration_sec>0?l.duration_sec:0;return{id:typeof l.id=="number"?l.id:0,title:l.title||"Unknown",artist:l.artist||"Unknown Artist",album:l.album||"",year:typeof l.year=="number"?l.year:void 0,genre:l.genre||"Various",duration:d,artwork:l.artwork_url||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K",commentary:null}}):[],i=o=>{const l=typeof o=="number"?o:Number(o);if(!isFinite(l)||l<=0)return"0:00";const d=Math.floor(l),m=Math.floor(d/60),c=d%60;return`${m}:${c.toString().padStart(2,"0")}`};return t?s.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(ze,{message:"Loading upcoming tracks..."})})}):s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"🎵 Coming Up Next"}),s.jsx("div",{className:"text-sm text-gray-400 bg-gray-800/50 px-3 py-1 rounded-full",children:a?"Live Queue":"No Queue Data"})]}),n.length===0?s.jsxs("div",{className:"text-center text-gray-400 py-12",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 opacity-30",children:"🎵"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Tracks"}),s.jsxs("p",{className:"text-sm",children:["Liquidsoap is not providing queue information.",s.jsx("br",{}),"Tracks are played dynamically from the music library."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-pirate-800/40 to-gray-800/40 rounded-xl p-6 border border-pirate-600/20",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-lg flex-shrink-0 bg-gray-700",children:s.jsx("img",{src:n[0].artwork,alt:`${n[0].album||"Unknown Album"} by ${n[0].artist}`,className:"w-full h-full object-cover",onError:o=>{const l=o.target;l.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjQwIiB5PSI0MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIyNCI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white truncate",children:n[0].title}),s.jsx("p",{className:"text-pirate-300 font-medium truncate",children:n[0].artist}),s.jsxs("p",{className:"text-gray-400 text-sm truncate",children:[n[0].album||"Unknown Album"," ",n[0].year&&`• ${n[0].year}`]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0 ml-4",children:[s.jsx("div",{children:i(n[0].duration)}),s.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded text-xs mt-1",children:n[0].genre||"Various"})]})]}),n[0].commentary&&s.jsx("div",{className:"bg-pirate-900/30 rounded-lg p-4 border border-pirate-600/20 mt-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-pirate-500 to-pirate-400 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs",children:"🤖"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed",children:[s.jsx("strong",{className:"text-pirate-300",children:"AI DJ Preview:"})," ",n[0].commentary]})})]})})]})]})})}),n.length>1&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-300 flex items-center gap-2",children:[s.jsx("span",{className:"text-pirate-400",children:"📋"}),"Following Tracks"]}),n.slice(1).map((o,l)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20 hover:bg-gray-800/50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-pirate-800 flex items-center justify-center text-pirate-300 font-bold text-sm flex-shrink-0",children:l+2}),s.jsx("div",{className:"w-12 h-12 rounded overflow-hidden shadow flex-shrink-0 bg-gray-700",children:s.jsx("img",{src:o.artwork,alt:`${o.album||"Unknown Album"} by ${o.artist}`,className:"w-full h-full object-cover",onError:d=>{const m=d.target;m.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMzc0MTUxIi8+Cjx0ZXh0IHg9IjI0IiB5PSIyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzlCOUI5NSIgZm9udC1mYW1pbHk9InN5c3RlbS11aSIgZm9udC1zaXplPSIxNiI+8J+NtTwvdGV4dD4KPHN2Zz4K"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-white font-medium truncate",children:o.title}),s.jsxs("div",{className:"text-gray-400 text-sm truncate",children:[o.artist," ",o.album&&`• ${o.album}`]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-400 flex-shrink-0",children:[s.jsx("div",{children:i(o.duration)}),s.jsx("div",{className:"text-xs text-gray-500",children:o.genre||"Various"})]})]},`${o.id??0}-${l}-${o.title}-${o.artist}`))]})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700/50",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{children:"AI Commentary generation active"})]}),s.jsx("div",{className:"text-pirate-300 font-medium",children:"Powered by Kokoro TTS"})]})})]})};function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function W(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function O(e){W(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var ro={};function so(){return ro}function $t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Re(e,t){W(2,arguments);var r=O(e),a=O(t),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}function ao(e,t){W(2,arguments);var r=O(e),a=O(t),n=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return n*12+i}function no(e,t){return W(2,arguments),O(e).getTime()-O(t).getTime()}var oo={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},io="trunc";function lo(e){return oo[io]}function co(e){W(1,arguments);var t=O(e);return t.setHours(23,59,59,999),t}function uo(e){W(1,arguments);var t=O(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function mo(e){W(1,arguments);var t=O(e);return co(t).getTime()===uo(t).getTime()}function ho(e,t){W(2,arguments);var r=O(e),a=O(t),n=Re(r,a),i=Math.abs(ao(r,a)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*i);var l=Re(r,a)===-n;mo(O(e))&&i===1&&Re(e,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function fo(e,t,r){W(2,arguments);var a=no(e,t)/1e3;return lo()(a)}var po={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xo=function(t,r,a){var n,i=po[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function st(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,a=e.formats[r]||e.formats[e.defaultWidth];return a}}var go={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vo={date:st({formats:go,defaultWidth:"full"}),time:st({formats:bo,defaultWidth:"full"}),dateTime:st({formats:yo,defaultWidth:"full"})},jo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wo=function(t,r,a,n){return jo[t]};function de(e){return function(t,r){var a=r!=null&&r.context?String(r.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[d]||e.values[l]}var m=e.argumentCallback?e.argumentCallback(t):t;return n[m]}}var No={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_o={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},So={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ko={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Co={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},To=function(t,r){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ro={ordinalNumber:To,era:de({values:No,defaultWidth:"wide"}),quarter:de({values:_o,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:de({values:So,defaultWidth:"wide"}),day:de({values:ko,defaultWidth:"wide"}),dayPeriod:de({values:Eo,defaultWidth:"wide",formattingValues:Co,defaultFormattingWidth:"wide"})};function ue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?Mo(l,function(f){return f.test(o)}):Ao(l,function(f){return f.test(o)}),m;m=e.valueCallback?e.valueCallback(d):d,m=r.valueCallback?r.valueCallback(m):m;var c=t.slice(o.length);return{value:m,rest:c}}}function Ao(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Mo(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Io(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(n.length);return{value:o,rest:l}}}var Oo=/^(\d+)(th|st|nd|rd)?/i,Po=/\d+/i,Do={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fo={any:[/^b/i,/^(a|c)/i]},Lo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uo={any:[/1/i,/2/i,/3/i,/4/i]},Bo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$o={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ho={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vo={ordinalNumber:Io({matchPattern:Oo,parsePattern:Po,valueCallback:function(t){return parseInt(t,10)}}),era:ue({matchPatterns:Do,defaultMatchWidth:"wide",parsePatterns:Fo,defaultParseWidth:"any"}),quarter:ue({matchPatterns:Lo,defaultMatchWidth:"wide",parsePatterns:Uo,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ue({matchPatterns:Bo,defaultMatchWidth:"wide",parsePatterns:$o,defaultParseWidth:"any"}),day:ue({matchPatterns:Ho,defaultMatchWidth:"wide",parsePatterns:Wo,defaultParseWidth:"any"}),dayPeriod:ue({matchPatterns:zo,defaultMatchWidth:"any",parsePatterns:qo,defaultParseWidth:"any"})},Jo={code:"en-US",formatDistance:xo,formatLong:vo,formatRelative:wo,localize:Ro,match:Vo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Zo(e){return Tr({},e)}var Ht=1440,Ko=2520,at=43200,Go=86400;function Xo(e,t,r){var a,n;W(2,arguments);var i=so(),o=(a=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:i.locale)!==null&&a!==void 0?a:Jo;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Re(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Tr(Zo(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),m,c;l>0?(m=O(t),c=O(e)):(m=O(e),c=O(t));var f=fo(c,m),b=($t(c)-$t(m))/1e3,g=Math.round((f-b)/60),x;if(g<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,d):f<10?o.formatDistance("lessThanXSeconds",10,d):f<20?o.formatDistance("lessThanXSeconds",20,d):f<40?o.formatDistance("halfAMinute",0,d):f<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):g===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",g,d);if(g<45)return o.formatDistance("xMinutes",g,d);if(g<90)return o.formatDistance("aboutXHours",1,d);if(g<Ht){var y=Math.round(g/60);return o.formatDistance("aboutXHours",y,d)}else{if(g<Ko)return o.formatDistance("xDays",1,d);if(g<at){var v=Math.round(g/Ht);return o.formatDistance("xDays",v,d)}else if(g<Go)return x=Math.round(g/at),o.formatDistance("aboutXMonths",x,d)}if(x=ho(c,m),x<12){var N=Math.round(g/at);return o.formatDistance("xMonths",N,d)}else{var u=x%12,j=Math.floor(x/12);return u<3?o.formatDistance("aboutXYears",j,d):u<9?o.formatDistance("overXYears",j,d):o.formatDistance("almostXYears",j+1,d)}}function Qo(e,t){return W(1,arguments),Xo(e,Date.now(),t)}function Wt(){var n;const{data:e,isLoading:t,error:r}=Qn();if(console.log("PlayHistory debug:",{history:e,isLoading:t,error:r,tracks:(n=e==null?void 0:e.tracks)==null?void 0:n.length}),t)return s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[s.jsx(Ke,{className:"w-5 h-5"}),s.jsx("span",{children:"Play History"})]}),s.jsx(ze,{})]});if(r||!e)return s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[s.jsx(Ke,{className:"w-5 h-5"}),s.jsx("span",{children:"Play History"})]}),s.jsx("div",{className:"text-center text-gray-400 py-8",children:s.jsx("p",{children:"Unable to load play history"})})]});const a=e.tracks||[];return s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[s.jsx(Ke,{className:"w-5 h-5"}),s.jsx("span",{children:"Play History"})]}),a.length===0?s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx(Qt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No tracks played yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Start the radio to see your play history!"})]}):s.jsx("div",{className:"space-y-4",children:a.map((i,o)=>s.jsx(Yo,{item:i,isRecent:o<3},`${i.play.id}-${o}`))})]})}function Yo({item:e,isRecent:t}){const r=e.track,a=e.play,n=e.commentary,i=new Date(a.started_at),o=Qo(i,{addSuffix:!0}),l=d=>{const m=Math.floor(d/60),c=Math.floor(d%60);return`${m}:${c.toString().padStart(2,"0")}`};return s.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg transition-all ${t?"bg-primary-900 bg-opacity-20 border border-primary-800":"bg-gray-800 bg-opacity-50 hover:bg-opacity-80"}`,children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pirate-600 to-pirate-800 rounded-md flex items-center justify-center overflow-hidden",children:r.artwork_url?s.jsx("img",{src:r.artwork_url,alt:`${r.title} artwork`,className:"w-full h-full object-cover"}):s.jsx(Qt,{className:"w-6 h-6 text-pirate-300"})})}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-grow",children:[s.jsx("h3",{className:"font-semibold text-white truncate",children:r.title}),s.jsx("p",{className:"text-gray-300 text-sm truncate",children:r.artist}),r.album&&s.jsxs("p",{className:"text-gray-400 text-xs truncate",children:[r.album,r.year&&` • ${r.year}`]})]}),s.jsxs("div",{className:"flex-shrink-0 text-right ml-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:o}),r.duration_sec&&s.jsx("div",{className:"text-xs text-gray-500",children:l(r.duration_sec)})]})]}),n&&s.jsx("div",{className:"mt-3 p-3 bg-gray-900 bg-opacity-50 rounded-md border border-gray-600",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Xt,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-300",children:n.text}),n.audio_url&&s.jsx("div",{className:"mt-2",children:s.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]})}),r.tags&&r.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.tags.slice(0,3).map((d,m)=>s.jsx("span",{className:"inline-block bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:d},m))})]}),s.jsx("div",{className:"flex-shrink-0",children:a.was_skipped?s.jsx("div",{className:"text-orange-400 text-xs",children:"Skipped"}):s.jsx(Ps,{className:"w-4 h-4 text-green-400"})})]})}const ei=()=>{const[e,t]=w.useState(!0),[r,a]=w.useState(!1),[n,i]=w.useState([]),[o,l]=w.useState({}),[d,m]=w.useState(!1),[c,f]=w.useState(null),[b,g]=w.useState(!1),[x,y]=w.useState([]),[v,N]=w.useState("Welcome to Raido FM! This voice sounds crisp and clear for our pirate radio commentary."),[u,j]=w.useState(null),[M,C]=w.useState(null),[D,J]=w.useState(!0);w.useEffect(()=>{Te.getSettings().then(p=>j(p.data)).catch(()=>C("Failed to load settings"))},[]),w.useEffect(()=>{const p=(u==null?void 0:u.dj_voice_provider)||"kokoro";(async()=>{var A,$,ve,R;try{if(p==="xtts"){const P=await k.get("/admin/voices-xtts"),B=(A=P.data)==null?void 0:A.voices;Array.isArray(B)?i(B):i([]),l(($=P.data)!=null&&$.voices_map&&typeof P.data.voices_map=="object"?P.data.voices_map:{})}else if(p==="chatterbox"){const B=(ve=(await k.get("/admin/voices-chatterbox")).data)==null?void 0:ve.voices;Array.isArray(B)?y(B):y([]),i([]),l({})}else{const B=(R=(await k.get("/admin/voices")).data)==null?void 0:R.voices;Array.isArray(B)?i(B):i([]),l({}),y([])}}catch{i([]),l({}),y([])}})()},[u==null?void 0:u.dj_voice_provider]);const ae=async()=>{var p,F;if(u){a(!0),C(null);try{await Te.updateSettings(u),S.success("Settings saved successfully! 🎛️")}catch(A){const $=((F=(p=A==null?void 0:A.response)==null?void 0:p.data)==null?void 0:F.detail)||"Failed to save settings";C($),S.error(`Save failed: ${$}`)}finally{a(!1)}}},be=p=>p.replace(/<[^>]*>/g,""),{data:Z,isLoading:Rr,error:Ar,refetch:qe}=Oe({queryKey:["ttsStatus",e],queryFn:()=>k.get("/admin/tts-status?window_hours=24&limit=100").then(p=>p.data),refetchInterval:e?3e4:!1,staleTime:1e4}),ye=p=>p?p<1e3?`${p}ms`:`${(p/1e3).toFixed(1)}s`:"N/A",Mr=async p=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await Te.deleteCommentary(p),qe()}catch(F){console.error("Failed to delete commentary:",F)}},Ve=p=>{switch(p){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},Je=p=>{switch(p){case"running":return"🟢";case"stopped":return"🔴";case"warning":return"🟡";default:return"⚪"}};if(Rr)return s.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ze,{message:"Loading TTS monitoring data..."})})});if(Ar)return s.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center text-red-400",children:[s.jsx("p",{className:"text-xl mb-2",children:"⚠️ Error Loading TTS Status"}),s.jsx("p",{children:"Unable to fetch TTS monitoring data"}),s.jsx("button",{onClick:()=>qe(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})});const T=Z==null?void 0:Z.statistics,wt=(Z==null?void 0:Z.recent_activity)||[],z=Z==null?void 0:Z.system_status;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>J(!D),className:"flex items-center gap-2 text-xl font-bold text-white hover:text-pirate-400 transition-colors",children:[s.jsx("span",{className:`transform transition-transform ${D?"rotate-0":"rotate-90"}`,children:"▶"}),s.jsx("span",{children:"⚙️ DJ Settings"}),s.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",D?"Click to expand":"Click to collapse",")"]})]}),s.jsx("button",{onClick:ae,disabled:!u||r,className:`px-3 py-2 rounded-lg text-white text-sm ${r?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:r?"Saving…":"Save Settings"})]}),M&&!D&&s.jsx("div",{className:"text-red-400 text-sm mb-3",children:M}),!D&&(u?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(u.dj_max_seconds??30),onChange:p=>j({...u,dj_max_seconds:parseInt(p.target.value||"0",10)}),className:"flex-1"}),s.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(u.dj_max_seconds??30),onChange:p=>j({...u,dj_max_seconds:parseInt(p.target.value||"0",10)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Target length used to trim commentary naturally."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.dj_provider||"ollama",onChange:p=>j({...u,dj_provider:p.target.value}),children:[s.jsx("option",{value:"ollama",children:"Ollama"}),s.jsx("option",{value:"openai",children:"OpenAI"}),s.jsx("option",{value:"disabled",children:"Disabled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.dj_voice_provider||"kokoro",onChange:p=>j({...u,dj_voice_provider:p.target.value}),children:[s.jsx("option",{value:"kokoro",children:"Kokoro"}),s.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),s.jsx("option",{value:"liquidsoap",children:"Liquidsoap"}),s.jsx("option",{value:"xtts",children:"XTTS"}),s.jsx("option",{value:"chatterbox",children:"Chatterbox"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:u.dj_voice_provider==="xtts"?"XTTS Voice":u.dj_voice_provider==="chatterbox"?"Chatterbox Voice":"Kokoro Voice"}),(()=>{let p=[];if(u.dj_voice_provider==="chatterbox")p=x.length?x:["default","alloy","echo","fable","onyx","nova","shimmer"];else if(u.dj_voice_provider==="xtts"){if(p=n.length?n:[],!d){const R=["coqui-tts:en_ljspeech","coqui-tts:en_vctk"];p=p.filter(P=>R.includes(P))}}else p=n.length?n:["af_bella","af_sarah","af_sky","af_aria","af_grace","af_nicole","af_jenny","af_emma","af_allison","af_riley","af_samantha","am_onyx","am_michael","am_ryan","am_alex","am_eric","am_adam","am_daniel","am_noah","am_liam","am_mason","am_jacob","bf_ava","bf_sophie","bf_emma","bf_lily","bf_alice","bf_chloe","bf_olivia","bf_amelia","bf_isabella","bf_charlotte","bm_george","bm_james","bm_william","bm_oliver","bm_harry","bm_thomas","bm_charlie","bm_jacob","bm_alexander","bm_henry"];const F=u.dj_voice_provider==="xtts"?"xtts_voice":u.dj_voice_provider==="chatterbox"?"chatterbox_voice":"kokoro_voice",A=u[F]||"",$=A&&!p.includes(A),ve=$?"custom":A||p[0]||"";return s.jsxs("div",{className:"space-y-2",children:[u.dj_voice_provider==="xtts"&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-600",checked:d,onChange:R=>m(R.target.checked)}),"Show all XTTS voices (includes espeak/festival/larynx/etc.)"]}),s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:ve,onChange:R=>{const P=R.target.value;P!=="custom"&&j({...u,[F]:P})},children:[u.dj_voice_provider==="kokoro"&&!n.length?s.jsxs(s.Fragment,{children:[s.jsxs("optgroup",{label:"👩🏻 American Female",children:[s.jsx("option",{value:"af_bella",children:"af_bella (Warm, Natural)"}),s.jsx("option",{value:"af_sarah",children:"af_sarah (Clear, Professional)"}),s.jsx("option",{value:"af_sky",children:"af_sky (Bright, Energetic)"}),s.jsx("option",{value:"af_aria",children:"af_aria (Smooth, Elegant)"}),s.jsx("option",{value:"af_grace",children:"af_grace (Gentle, Soothing)"}),s.jsx("option",{value:"af_nicole",children:"af_nicole (Confident, Clear)"}),s.jsx("option",{value:"af_jenny",children:"af_jenny (Friendly, Upbeat)"}),s.jsx("option",{value:"af_emma",children:"af_emma (Youthful, Bright)"}),s.jsx("option",{value:"af_allison",children:"af_allison (Professional)"}),s.jsx("option",{value:"af_riley",children:"af_riley (Dynamic, Modern)"}),s.jsx("option",{value:"af_samantha",children:"af_samantha (Versatile)"})]}),s.jsxs("optgroup",{label:"👨🏻 American Male",children:[s.jsx("option",{value:"am_onyx",children:"am_onyx (Deep, Authoritative)"}),s.jsx("option",{value:"am_michael",children:"am_michael (Classic, Trustworthy)"}),s.jsx("option",{value:"am_ryan",children:"am_ryan (Casual, Friendly)"}),s.jsx("option",{value:"am_alex",children:"am_alex (Versatile, Clear)"}),s.jsx("option",{value:"am_eric",children:"am_eric (Mature, Professional)"}),s.jsx("option",{value:"am_adam",children:"am_adam (Warm, Engaging)"}),s.jsx("option",{value:"am_daniel",children:"am_daniel (Smooth, Confident)"}),s.jsx("option",{value:"am_noah",children:"am_noah (Young, Energetic)"}),s.jsx("option",{value:"am_liam",children:"am_liam (Modern, Dynamic)"}),s.jsx("option",{value:"am_mason",children:"am_mason (Strong, Clear)"}),s.jsx("option",{value:"am_jacob",children:"am_jacob (Reliable, Steady)"})]}),s.jsxs("optgroup",{label:"👩🏼 British Female",children:[s.jsx("option",{value:"bf_ava",children:"bf_ava (Elegant, Sophisticated)"}),s.jsx("option",{value:"bf_sophie",children:"bf_sophie (Refined, Articulate)"}),s.jsx("option",{value:"bf_emma",children:"bf_emma (Charming, Polished)"}),s.jsx("option",{value:"bf_lily",children:"bf_lily (Sweet, Melodic)"}),s.jsx("option",{value:"bf_alice",children:"bf_alice (Classic, Distinguished)"}),s.jsx("option",{value:"bf_chloe",children:"bf_chloe (Modern, Crisp)"}),s.jsx("option",{value:"bf_olivia",children:"bf_olivia (Graceful, Clear)"}),s.jsx("option",{value:"bf_amelia",children:"bf_amelia (Gentle, Refined)"}),s.jsx("option",{value:"bf_isabella",children:"bf_isabella (Luxurious)"}),s.jsx("option",{value:"bf_charlotte",children:"bf_charlotte (Sophisticated)"})]}),s.jsxs("optgroup",{label:"👨🏼 British Male",children:[s.jsx("option",{value:"bm_george",children:"bm_george (Distinguished, Authoritative)"}),s.jsx("option",{value:"bm_james",children:"bm_james (Classic, Professional)"}),s.jsx("option",{value:"bm_william",children:"bm_william (Noble, Articulate)"}),s.jsx("option",{value:"bm_oliver",children:"bm_oliver (Modern, Engaging)"}),s.jsx("option",{value:"bm_harry",children:"bm_harry (Friendly, Approachable)"}),s.jsx("option",{value:"bm_thomas",children:"bm_thomas (Reliable, Clear)"}),s.jsx("option",{value:"bm_charlie",children:"bm_charlie (Upbeat, Charismatic)"}),s.jsx("option",{value:"bm_jacob",children:"bm_jacob (Steady, Trustworthy)"}),s.jsx("option",{value:"bm_alexander",children:"bm_alexander (Commanding)"}),s.jsx("option",{value:"bm_henry",children:"bm_henry (Warm, Distinguished)"})]})]}):p.map(R=>s.jsx("option",{value:R,children:R},R)),s.jsx("option",{value:"custom",children:"Custom…"})]}),($||A==="")&&s.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:A,onChange:R=>j({...u,[F]:R.target.value}),placeholder:u.dj_voice_provider==="xtts"?"Enter XTTS voice id":u.dj_voice_provider==="chatterbox"?"Enter Chatterbox voice id":"Enter Kokoro voice id"}),u.dj_voice_provider==="xtts"&&(()=>{const R=o[A],P=R&&typeof R=="object"?R.speakers:null,B=P&&typeof P=="object"?Object.keys(P):[];if(!B.length)return null;const Ze=u.xtts_speaker||"",Ir=Ze&&B.includes(Ze)?Ze:B[0];return s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs text-gray-400",children:"XTTS Speaker"}),s.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Ir,onChange:le=>j({...u,xtts_speaker:le.target.value}),children:B.map(le=>s.jsx("option",{value:le,children:le},le))})]})})()]})})(),u.dj_voice_provider==="chatterbox"&&s.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[s.jsx("button",{onClick:async()=>{var p;if(u){g(!0),f(null);try{const F=`Welcome to Raido. Testing Chatterbox voice ${u.chatterbox_voice||"default"}.`,$=(p=(await k.post("/admin/tts-test-chatterbox",{text:F,voice:u.chatterbox_voice,exaggeration:u.chatterbox_exaggeration,cfg_weight:u.chatterbox_cfg_weight})).data)==null?void 0:p.audio_url;$&&f($)}catch{C("Chatterbox TTS test failed")}finally{g(!1)}}},disabled:b,className:`px-3 py-2 rounded-lg text-white text-sm ${b?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:b?"Testing…":"Test Chatterbox Voice"}),c&&s.jsx("audio",{controls:!0,className:"h-8",children:s.jsx("source",{src:c,type:"audio/mpeg"})})]}),u.dj_voice_provider!=="xtts"&&u.dj_voice_provider!=="chatterbox"&&s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),s.jsx("input",{type:"text",value:v,onChange:p=>N(p.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",placeholder:"Enter text to test the voice..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:async()=>{var p;if(u){g(!0),f(null);try{const A=(p=(await k.post("/admin/tts-test",{text:v,voice:u.kokoro_voice,speed:u.kokoro_speed,volume:u.dj_tts_volume})).data)==null?void 0:p.audio_url;A&&f(A)}catch{C("TTS test failed")}finally{g(!1)}}},disabled:b,className:`px-3 py-2 rounded-lg text-white text-sm ${b?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:b?"Testing…":"Test Kokoro Voice"}),c&&s.jsx("audio",{controls:!0,className:"h-8",children:s.jsx("source",{src:c,type:"audio/mpeg"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Gain (Volume Multiplier)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(u.dj_tts_volume??1),onChange:p=>j({...u,dj_tts_volume:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(u.dj_tts_volume??1),onChange:p=>j({...u,dj_tts_volume:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Boost quiet clips (0.5×–2.0×). Applied to Kokoro."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(u.kokoro_speed??1),onChange:p=>j({...u,kokoro_speed:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(u.kokoro_speed??1),onChange:p=>j({...u,kokoro_speed:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Playback speed multiplier (0.5×–1.5×). Kokoro only."})]}),(u.dj_voice_provider==="kokoro"||!u.dj_voice_provider)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Silence Duration"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(u.kokoro_silence??.2),onChange:p=>j({...u,kokoro_silence:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(u.kokoro_silence??.2),onChange:p=>j({...u,kokoro_silence:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pause duration between sentences (0-2s). Higher = more natural pauses."})]}),(u.dj_voice_provider==="kokoro"||!u.dj_voice_provider)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Emotional Style"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.kokoro_style||"neutral",onChange:p=>j({...u,kokoro_style:p.target.value}),children:[s.jsx("option",{value:"neutral",children:"Neutral (Default)"}),s.jsx("option",{value:"excited",children:"Excited/Energetic"}),s.jsx("option",{value:"calm",children:"Calm/Relaxed"}),s.jsx("option",{value:"warm",children:"Warm/Friendly"}),s.jsx("option",{value:"professional",children:"Professional"}),s.jsx("option",{value:"casual",children:"Casual/Conversational"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Emotional tone hint for voice generation (experimental)."})]}),(u.dj_voice_provider==="kokoro"||!u.dj_voice_provider)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Pitch Adjustment"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.8,max:1.2,step:.05,value:Number(u.kokoro_pitch??1),onChange:p=>j({...u,kokoro_pitch:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.8,max:1.2,step:.05,value:Number(u.kokoro_pitch??1),onChange:p=>j({...u,kokoro_pitch:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pitch multiplier (0.8×-1.2×). 1.0 = natural, higher = higher pitch."})]}),u.dj_voice_provider==="chatterbox"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox Exaggeration"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.25,max:2,step:.05,value:Number(u.chatterbox_exaggeration??1),onChange:p=>j({...u,chatterbox_exaggeration:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.25,max:2,step:.05,value:Number(u.chatterbox_exaggeration??1),onChange:p=>j({...u,chatterbox_exaggeration:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Emotion intensity (0.25×–2.0×). Higher = more expressive."})]}),u.dj_voice_provider==="chatterbox"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox CFG Weight"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:1,step:.05,value:Number(u.chatterbox_cfg_weight??.5),onChange:p=>j({...u,chatterbox_cfg_weight:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:0,max:1,step:.05,value:Number(u.chatterbox_cfg_weight??.5),onChange:p=>j({...u,chatterbox_cfg_weight:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pace control (0.0–1.0). Higher = slower, more deliberate."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.ollama_model||"",onChange:p=>j({...u,ollama_model:p.target.value}),children:[s.jsx("option",{value:"",children:"Select a model..."}),s.jsxs("optgroup",{label:"🗣️ Chat Models (Recommended)",children:[s.jsx("option",{value:"llama3.2:3b",children:"Llama 3.2 3B (Fast, Good Quality)"}),s.jsx("option",{value:"llama3.2:1b",children:"Llama 3.2 1B (Fastest, Basic Quality)"}),s.jsx("option",{value:"llama3.1:8b",children:"Llama 3.1 8B (Balanced)"}),s.jsx("option",{value:"llama3.1:70b",children:"Llama 3.1 70B (Best Quality, Slow)"}),s.jsx("option",{value:"qwen2.5:3b",children:"Qwen2.5 3B (Fast, Creative)"}),s.jsx("option",{value:"qwen2.5:7b",children:"Qwen2.5 7B (Good Balance)"}),s.jsx("option",{value:"qwen2.5:14b",children:"Qwen2.5 14B (High Quality)"}),s.jsx("option",{value:"gemma2:2b",children:"Gemma2 2B (Efficient)"}),s.jsx("option",{value:"gemma2:9b",children:"Gemma2 9B (Quality)"}),s.jsx("option",{value:"phi3:3.8b",children:"Phi3 3.8B (Creative)"}),s.jsx("option",{value:"mistral:7b",children:"Mistral 7B (Classic)"}),s.jsx("option",{value:"mixtral:8x7b",children:"Mixtral 8x7B (Expert Mix)"})]}),s.jsxs("optgroup",{label:"🎯 Specialized Models",children:[s.jsx("option",{value:"dolphin-mixtral:8x7b",children:"Dolphin Mixtral (Uncensored)"}),s.jsx("option",{value:"neural-chat:7b",children:"Neural Chat 7B (Conversational)"}),s.jsx("option",{value:"deepseek-coder:6.7b",children:"DeepSeek Coder (Technical)"}),s.jsx("option",{value:"wizardcoder:7b",children:"WizardCoder 7B (Programming)"}),s.jsx("option",{value:"orca-mini:3b",children:"Orca Mini 3B (Efficient Chat)"}),s.jsx("option",{value:"vicuna:7b",children:"Vicuna 7B (Assistant)"}),s.jsx("option",{value:"starling-lm:7b",children:"Starling LM 7B (Helpful)"})]}),s.jsxs("optgroup",{label:"⚡ Fast Models (Good for Radio)",children:[s.jsx("option",{value:"tinyllama:1.1b",children:"TinyLlama 1.1B (Ultra Fast)"}),s.jsx("option",{value:"qwen2:0.5b",children:"Qwen2 0.5B (Lightning Fast)"}),s.jsx("option",{value:"stablelm2:1.6b",children:"StableLM2 1.6B (Stable, Fast)"}),s.jsx("option",{value:"phi3.5:3.8b",children:"Phi3.5 3.8B (Microsoft, Creative)"})]}),s.jsx("option",{value:"custom",children:"Custom Model..."})]}),(!u.ollama_model||u.ollama_model==="custom")&&s.jsx("input",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.ollama_model==="custom"?"":u.ollama_model||"",onChange:p=>j({...u,ollama_model:p.target.value}),placeholder:"Enter custom model name (e.g. llama3.1:8b-instruct-q4_0)"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose based on your hardware: 3B models for fast generation, 7B+ for better quality."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Temperature"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(u.dj_temperature??.8),onChange:p=>j({...u,dj_temperature:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(u.dj_temperature??.8),onChange:p=>j({...u,dj_temperature:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Higher = more creative, lower = more consistent."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Max Tokens"}),s.jsx("input",{type:"number",min:50,max:1e3,step:10,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:Number(u.dj_max_tokens??200),onChange:p=>j({...u,dj_max_tokens:parseInt(p.target.value||"0",10)}),placeholder:"e.g. 200"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caps commentary length; real cap also based on time."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Top-K Sampling"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:1,max:100,step:1,value:Number(u.ollama_top_k??40),onChange:p=>j({...u,ollama_top_k:parseInt(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:1,max:100,step:1,value:Number(u.ollama_top_k??40),onChange:p=>j({...u,ollama_top_k:parseInt(p.target.value||"40")}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Limits vocabulary to top K tokens. Lower = more focused."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Top-P (Nucleus)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.1,max:1,step:.05,value:Number(u.ollama_top_p??.9),onChange:p=>j({...u,ollama_top_p:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.1,max:1,step:.05,value:Number(u.ollama_top_p??.9),onChange:p=>j({...u,ollama_top_p:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cumulative probability cutoff. 0.9 = focus on top 90% likely words."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Repeat Penalty"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:.8,max:1.5,step:.05,value:Number(u.ollama_repeat_penalty??1.1),onChange:p=>j({...u,ollama_repeat_penalty:parseFloat(p.target.value)}),className:"flex-1"}),s.jsx("input",{type:"number",min:.8,max:1.5,step:.05,value:Number(u.ollama_repeat_penalty??1.1),onChange:p=>j({...u,ollama_repeat_penalty:parseFloat(p.target.value)}),className:"w-24 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Penalizes repetition. 1.1 = slight penalty, 1.0 = no penalty."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Context Length"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:u.ollama_context_length||"2048",onChange:p=>j({...u,ollama_context_length:parseInt(p.target.value)}),children:[s.jsx("option",{value:"1024",children:"1024 (Fast, Small)"}),s.jsx("option",{value:"2048",children:"2048 (Balanced)"}),s.jsx("option",{value:"4096",children:"4096 (More Context)"}),s.jsx("option",{value:"8192",children:"8192 (Large Context)"}),s.jsx("option",{value:"16384",children:"16384 (Very Large)"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max tokens in model context. Higher = more memory usage."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Default DJ Prompt"}),s.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white h-28",value:u.dj_prompt_template||"",onChange:p=>j({...u,dj_prompt_template:p.target.value}),placeholder:"Write the prompt template used to generate commentary…"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supports Jinja templating; validated server-side."})]})]}):s.jsx("div",{className:"text-gray-400 text-sm",children:"Loading settings…"}))]}),s.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:"🎙️ TTS Monitoring Dashboard"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:p=>t(p.target.checked),className:"rounded border-gray-600 text-pirate-500 focus:ring-pirate-500"}),"Auto-refresh"]}),s.jsx("button",{onClick:()=>qe(),className:"px-3 py-1 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg text-sm transition-colors",children:"Refresh"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl p-6 border border-green-600/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:"✅"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-green-300",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[(T==null?void 0:T.success_rate)||0,"%"]})]})]}),s.jsxs("p",{className:"text-sm text-green-400",children:[(T==null?void 0:T.success_24h)||0," of ",(T==null?void 0:T.total_24h)||0," in 24h"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl p-6 border border-blue-600/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:"🎵"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-300",children:"Total Generated"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:(T==null?void 0:T.total_24h)||0})]})]}),s.jsx("p",{className:"text-sm text-blue-400",children:"Last 24 hours"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 rounded-xl p-6 border border-purple-600/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:"⚡"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-purple-300",children:"Avg Gen Time"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:ye((T==null?void 0:T.avg_generation_time_ms)||null)})]})]}),s.jsx("p",{className:"text-sm text-purple-400",children:"Generation speed"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 rounded-xl p-6 border border-orange-600/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:"🔊"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-orange-300",children:"Avg TTS Time"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:ye((T==null?void 0:T.avg_tts_time_ms)||null)})]})]}),s.jsx("p",{className:"text-sm text-orange-400",children:"Voice synthesis"})]})]}),z&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:"⚙️"}),"System Status"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:Je(z.tts_service)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"TTS Service"}),s.jsx("p",{className:`text-sm capitalize ${Ve(z.tts_service)}`,children:z.tts_service})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:Je(z.dj_worker)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"DJ Worker"}),s.jsx("p",{className:`text-sm capitalize ${Ve(z.dj_worker)}`,children:z.dj_worker})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:Je(z.kokoro_tts)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"Kokoro TTS"}),s.jsx("p",{className:`text-sm capitalize ${Ve(z.kokoro_tts)}`,children:z.kokoro_tts})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:"📋"}),"Recent TTS Activity"]}),wt.length===0?s.jsx("div",{className:"text-center text-gray-400 py-8",children:s.jsx("p",{children:"No recent TTS activity"})}):s.jsx("div",{className:"space-y-3",children:wt.map(p=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${p.status==="ready"?"bg-green-400":p.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:p.transcript?p.transcript:be(p.text)}),s.jsxs("p",{className:"text-sm text-gray-400",children:[p.provider," • ",p.voice_provider,p.voice_id?` • voice: ${p.voice_id}`:""]})]}),s.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"text-right text-sm text-gray-400",children:[s.jsx("div",{children:new Date(p.created_at).toLocaleTimeString()}),(p.generation_time_ms||p.tts_time_ms)&&s.jsxs("div",{className:"text-xs",children:[p.generation_time_ms&&`Gen: ${ye(p.generation_time_ms)}`,p.generation_time_ms&&p.tts_time_ms&&" • ",p.tts_time_ms&&`TTS: ${ye(p.tts_time_ms)}`]})]}),s.jsx("button",{onClick:()=>Mr(p.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:s.jsx("span",{className:"text-sm",children:"🗑️"})})]})]}),p.audio_url&&s.jsx("div",{className:"mt-2",children:s.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[s.jsx("source",{src:p.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]},p.id))})]})]})};function ti(){return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:s.jsx(ba,{children:s.jsx(_e,{children:s.jsxs(Hr,{children:[s.jsx(je,{path:"/",element:s.jsxs("div",{className:"space-y-6",children:[s.jsx(_e,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:s.jsx(eo,{})}),s.jsx(_e,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Coming Up."}),children:s.jsx(to,{})}),s.jsx(_e,{fallback:s.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Play History."}),children:s.jsx(Wt,{})})]})}),s.jsx(je,{path:"/history",element:s.jsx(Wt,{})}),s.jsx(je,{path:"/tts",element:s.jsx(ei,{})}),s.jsx(je,{path:"*",element:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"🏴‍☠️ Page Not Found"}),s.jsx("p",{className:"text-gray-400",children:"Ye've sailed into uncharted waters, matey!"})]})})})]})})})})}const ri=new Fr({defaultOptions:{queries:{staleTime:60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>{var r,a;return((r=t==null?void 0:t.response)==null?void 0:r.status)>=400&&((a=t==null?void 0:t.response)==null?void 0:a.status)<500?!1:e<2}}}});ot.createRoot(document.getElementById("root")).render(s.jsx(ee.StrictMode,{children:s.jsx(Lr,{client:ri,children:s.jsxs(Wr,{children:[s.jsx(ti,{}),s.jsx(As,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
