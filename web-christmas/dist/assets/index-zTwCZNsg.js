import{j as a,u as Pt,Q as Rr,a as Cr}from"./query-BVec7ifO.js";import{r as y,u as Ar,L as qe,R as Mt,a as Or,b as we,B as Pr}from"./router-CEWA_ico.js";import{a as Mr,g as Dr}from"./vendor-D3F3s8fL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var je={},ht;function Lr(){if(ht)return je;ht=1;var e=Mr();return je.createRoot=e.createRoot,je.hydrateRoot=e.hydrateRoot,je}var Fr=Lr();const Ir=Dr(Fr);let $r={data:""},Ur=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||$r,Br=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qr=/\/\*[^]*?\*\/|  +/g,pt=/\n+/g,V=(e,t)=>{let r="",s="",n="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":s+=i[1]=="f"?V(o,i):i+"{"+V(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=V(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=V.p?V.p(i,o):i+":"+o+";")}return r+(t&&n?t+"{"+n+"}":n)+s},z={},Dt=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Dt(e[r]);return t}return e},Hr=(e,t,r,s,n)=>{let i=Dt(e),o=z[i]||(z[i]=(f=>{let l=0,d=11;for(;l<f.length;)d=101*d+f.charCodeAt(l++)>>>0;return"go"+d})(i));if(!z[o]){let f=i!==e?e:(l=>{let d,m,h=[{}];for(;d=Br.exec(l.replace(qr,""));)d[4]?h.shift():d[3]?(m=d[3].replace(pt," ").trim(),h.unshift(h[0][m]=h[0][m]||{})):h[0][d[1]]=d[2].replace(pt," ").trim();return h[0]})(e);z[o]=V(n?{["@keyframes "+o]:f}:f,r?"":"."+o)}let c=r&&z.g?z.g:null;return r&&(z.g=z[o]),((f,l,d,m)=>{m?l.data=l.data.replace(m,f):l.data.indexOf(f)===-1&&(l.data=d?f+l.data:l.data+f)})(z[o],t,s,c),o},zr=(e,t,r)=>e.reduce((s,n,i)=>{let o=t[i];if(o&&o.call){let c=o(r),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=f?"."+f:c&&typeof c=="object"?c.props?"":V(c,""):c===!1?"":c}return s+n+(o??"")},"");function Oe(e){let t=this||{},r=e.call?e(t.p):e;return Hr(r.unshift?r.raw?zr(r,[].slice.call(arguments,1),t.p):r.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):r,Ur(t.target),t.g,t.o,t.k)}let Lt,Ke,Ge;Oe.bind({g:1});let W=Oe.bind({k:1});function Wr(e,t,r,s){V.p=t,Lt=e,Ke=r,Ge=s}function J(e,t){let r=this||{};return function(){let s=arguments;function n(i,o){let c=Object.assign({},i),f=c.className||n.className;r.p=Object.assign({theme:Ke&&Ke()},c),r.o=/ *go\d+/.test(f),c.className=Oe.apply(r,s)+(f?" "+f:"");let l=e;return e[0]&&(l=c.as||e,delete c.as),Ge&&l[0]&&Ge(c),Lt(l,c)}return n}}var Vr=e=>typeof e=="function",Re=(e,t)=>Vr(e)?e(t):e,Jr=(()=>{let e=0;return()=>(++e).toString()})(),Ft=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Xr=20,at="default",It=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return It(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Se=[],$t={toasts:[],pausedAt:void 0,settings:{toastLimit:Xr}},H={},Ut=(e,t=at)=>{H[t]=It(H[t]||$t,e),Se.forEach(([r,s])=>{r===t&&s(H[t])})},Bt=e=>Object.keys(H).forEach(t=>Ut(e,t)),Kr=e=>Object.keys(H).find(t=>H[t].toasts.some(r=>r.id===e)),Pe=(e=at)=>t=>{Ut(t,e)},Gr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yr=(e={},t=at)=>{let[r,s]=y.useState(H[t]||$t),n=y.useRef(H[t]);y.useEffect(()=>(n.current!==H[t]&&s(H[t]),Se.push([t,s]),()=>{let o=Se.findIndex(([c])=>c===t);o>-1&&Se.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var c,f,l;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((f=e[o.type])==null?void 0:f.duration)||e?.duration||Gr[o.type],style:{...e.style,...(l=e[o.type])==null?void 0:l.style,...o.style}}});return{...r,toasts:i}},Zr=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||Jr()}),ue=e=>(t,r)=>{let s=Zr(t,e,r);return Pe(s.toasterId||Kr(s.id))({type:2,toast:s}),s.id},_=(e,t)=>ue("blank")(e,t);_.error=ue("error");_.success=ue("success");_.loading=ue("loading");_.custom=ue("custom");_.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Pe(t)(r):Bt(r)};_.dismissAll=e=>_.dismiss(void 0,e);_.remove=(e,t)=>{let r={type:4,toastId:e};t?Pe(t)(r):Bt(r)};_.removeAll=e=>_.remove(void 0,e);_.promise=(e,t,r)=>{let s=_.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=t.success?Re(t.success,n):void 0;return i?_.success(i,{id:s,...r,...r?.success}):_.dismiss(s),n}).catch(n=>{let i=t.error?Re(t.error,n):void 0;i?_.error(i,{id:s,...r,...r?.error}):_.dismiss(s)}),e};var Qr=1e3,es=(e,t="default")=>{let{toasts:r,pausedAt:s}=Yr(e,t),n=y.useRef(new Map).current,i=y.useCallback((m,h=Qr)=>{if(n.has(m))return;let g=setTimeout(()=>{n.delete(m),o({type:4,toastId:m})},h);n.set(m,g)},[]);y.useEffect(()=>{if(s)return;let m=Date.now(),h=r.map(g=>{if(g.duration===1/0)return;let p=(g.duration||0)+g.pauseDuration-(m-g.createdAt);if(p<0){g.visible&&_.dismiss(g.id);return}return setTimeout(()=>_.dismiss(g.id,t),p)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[r,s,t]);let o=y.useCallback(Pe(t),[t]),c=y.useCallback(()=>{o({type:5,time:Date.now()})},[o]),f=y.useCallback((m,h)=>{o({type:1,toast:{id:m,height:h}})},[o]),l=y.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=y.useCallback((m,h)=>{let{reverseOrder:g=!1,gutter:p=8,defaultPosition:v}=h||{},x=r.filter(j=>(j.position||v)===(m.position||v)&&j.height),N=x.findIndex(j=>j.id===m.id),S=x.filter((j,O)=>O<N&&j.visible).length;return x.filter(j=>j.visible).slice(...g?[S+1]:[0,S]).reduce((j,O)=>j+(O.height||0)+p,0)},[r]);return y.useEffect(()=>{r.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let h=n.get(m.id);h&&(clearTimeout(h),n.delete(m.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:f,startPause:c,endPause:l,calculateOffset:d}}},ts=W`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rs=W`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ss=W`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,as=J("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ts} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ss} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ns=W`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,os=J("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ns} 1s linear infinite;
`,is=W`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ls=W`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cs=J("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${is} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ls} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ds=J("div")`
  position: absolute;
`,us=J("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ms=W`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fs=J("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ms} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hs=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?y.createElement(fs,null,t):t:r==="blank"?null:y.createElement(us,null,y.createElement(os,{...s}),r!=="loading"&&y.createElement(ds,null,r==="error"?y.createElement(as,{...s}):y.createElement(cs,{...s})))},ps=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xs=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,gs="0%{opacity:0;} 100%{opacity:1;}",bs="0%{opacity:1;} 100%{opacity:0;}",ys=J("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vs=J("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ws=(e,t)=>{let r=e.includes("top")?1:-1,[s,n]=Ft()?[gs,bs]:[ps(r),xs(r)];return{animation:t?`${W(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${W(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},js=y.memo(({toast:e,position:t,style:r,children:s})=>{let n=e.height?ws(e.position||t||"top-center",e.visible):{opacity:0},i=y.createElement(hs,{toast:e}),o=y.createElement(vs,{...e.ariaProps},Re(e.message,e));return y.createElement(ys,{className:e.className,style:{...n,...r,...e.style}},typeof s=="function"?s({icon:i,message:o}):y.createElement(y.Fragment,null,i,o))});Wr(y.createElement);var Ns=({id:e,className:t,style:r,onHeightUpdate:s,children:n})=>{let i=y.useCallback(o=>{if(o){let c=()=>{let f=o.getBoundingClientRect().height;s(e,f)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return y.createElement("div",{ref:i,className:t,style:r},n)},Ss=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ft()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...n}},_s=Oe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ne=16,ks=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:n,toasterId:i,containerStyle:o,containerClassName:c})=>{let{toasts:f,handlers:l}=es(r,i);return y.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ne,left:Ne,right:Ne,bottom:Ne,pointerEvents:"none",...o},className:c,onMouseEnter:l.startPause,onMouseLeave:l.endPause},f.map(d=>{let m=d.position||t,h=l.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),g=Ss(m,h);return y.createElement(Ns,{id:d.id,key:d.id,onHeightUpdate:l.updateHeight,className:d.visible?_s:"",style:g},d.type==="custom"?Re(d.message,d):n?n(d):y.createElement(js,{toast:d,position:m}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ts={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const r=y.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:f,...l},d)=>y.createElement("svg",{ref:d,...Ts,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Es(e)}`,c].join(" "),...l},[...t.map(([m,h])=>y.createElement(m,h)),...Array.isArray(f)?f:[f]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Q("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ps=({className:e="",size:t="md"})=>{const r={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"};return a.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[a.jsx("div",{className:`${r[t]} relative`,children:a.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M20 5 L28 15 L26 15 L32 23 L30 23 L35 32 L5 32 L10 23 L8 23 L14 15 L12 15 Z",fill:"#10b981",className:"drop-shadow-lg"}),a.jsx("circle",{cx:"15",cy:"18",r:"1.5",fill:"#ef4444",className:"animate-pulse",style:{animationDuration:"2s"}}),a.jsx("circle",{cx:"25",cy:"20",r:"1.5",fill:"#fbbf24",className:"animate-pulse",style:{animationDuration:"2.5s",animationDelay:"0.5s"}}),a.jsx("circle",{cx:"20",cy:"25",r:"1.5",fill:"#3b82f6",className:"animate-pulse",style:{animationDuration:"3s",animationDelay:"1s"}}),a.jsx("circle",{cx:"12",cy:"27",r:"1.5",fill:"#a855f7",className:"animate-pulse",style:{animationDuration:"2.5s",animationDelay:"1.5s"}}),a.jsx("circle",{cx:"28",cy:"27",r:"1.5",fill:"#ec4899",className:"animate-pulse",style:{animationDuration:"2s",animationDelay:"2s"}}),a.jsx("path",{d:"M20 3 L21 6 L24 6 L21.5 8 L22.5 11 L20 9 L17.5 11 L18.5 8 L16 6 L19 6 Z",fill:"#fbbf24",className:"sparkle"}),a.jsx("rect",{x:"17",y:"32",width:"6",height:"5",fill:"#92400e",rx:"1"}),a.jsx("text",{x:"5",y:"10",fontSize:"8",fill:"#bae6fd",className:"sparkle",children:"â„"}),a.jsx("text",{x:"33",y:"12",fontSize:"6",fill:"#bae6fd",className:"sparkle",style:{animationDelay:"1s"},children:"â„"}),a.jsx("text",{x:"8",y:"36",fontSize:"7",fill:"#bae6fd",className:"sparkle",style:{animationDelay:"2s"},children:"â„"}),a.jsx("text",{x:"32",y:"35",fontSize:"6",fill:"#bae6fd",className:"sparkle",style:{animationDelay:"1.5s"},children:"â„"})]})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-xl font-bold text-white font-pirate tracking-wide",children:"Raido Christmas"}),a.jsx("p",{className:"text-xs text-blue-300 font-medium -mt-1",children:"AI Holiday Radio"})]})]})};function Ms({children:e}){const t=Ar(),s=t.pathname.startsWith("/stations")?[{name:"Stations",href:"/stations",icon:xt}]:[{name:"Now Playing",href:"/",icon:Rs},{name:"DJ Admin",href:"/admin",icon:Os},{name:"Stations",href:"/stations",icon:xt}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-pirate-900",children:[a.jsxs("header",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center h-16 gap-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(qe,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:a.jsx(Ps,{size:"md"})})}),a.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:s.map(n=>{const i=t.pathname===n.href;return a.jsxs(qe,{to:n.href,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${i?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[a.jsx(n.icon,{className:"h-4 w-4"}),a.jsx("span",{children:n.name})]},n.name)})})]})}),a.jsx("div",{className:"md:hidden border-t border-gray-700",children:a.jsx("div",{className:"px-4 py-2 space-y-1",children:s.map(n=>{const i=t.pathname===n.href;return a.jsxs(qe,{to:n.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${i?"text-primary-400 bg-primary-900 bg-opacity-50":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[a.jsx(n.icon,{className:"h-4 w-4"}),a.jsx("span",{children:n.name})]},n.name)})})})]}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),a.jsx("footer",{className:"bg-gray-800 bg-opacity-50 border-t border-gray-700 mt-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[a.jsx("p",{children:"ðŸŽ„ Raido Christmas - AI Holiday Radio Â© 2024"}),a.jsx("p",{className:"mt-1",children:"Spreading holiday cheer with AI-powered Christmas music"})]})})})]})}class gt extends Mt.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("UI ErrorBoundary caught:",t,r)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback??a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"The page hit an error and was recovered."}),this.state.error?.message&&a.jsx("pre",{className:"bg-gray-900 text-red-300 p-3 rounded mb-4 overflow-auto text-sm",children:this.state.error.message}),a.jsx("button",{className:"btn-primary",onClick:this.handleReload,children:"Reload"})]}):this.props.children}}function Ds(){const[e,t]=y.useState(null),[r,s]=y.useState(!0);return y.useEffect(()=>{const n=async()=>{try{const c=await(await fetch("/stream/status-json.xsl")).json(),l=(Array.isArray(c.icestats.source)?c.icestats.source:[c.icestats.source]).find(d=>d.listenurl&&d.listenurl.toLowerCase().includes("christmas"));if(l){const d=l.title||"Unknown Track",m=d.split(" - ");let h="Unknown Artist",g=d;m.length>=2&&(h=m[0].trim(),g=m.slice(1).join(" - ").trim());try{const p=new URLSearchParams({artist:h,title:g}),v=await fetch(`/api/v1/metadata/search?${p}`);if(v.ok){const x=await v.json(),N=x.length>0?x[0].artwork_url:void 0;t({artist:h,title:g,artwork_url:N})}else t({artist:h,title:g})}catch{t({artist:h,title:g})}}else console.warn("Christmas stream not found in Icecast sources");s(!1)}catch(o){console.error("Failed to fetch Icecast metadata:",o),s(!1)}};n();const i=setInterval(n,1e4);return()=>clearInterval(i)},[]),{metadata:e,isLoading:r}}const Ls=()=>{const{metadata:e,isLoading:t}=Ds();return t?a.jsx("div",{className:"bg-gradient-to-br from-blue-900/50 via-blue-800/50 to-blue-900/50 rounded-2xl p-8 shadow-2xl border border-blue-500/30",children:a.jsx("div",{className:"text-center text-gray-400",children:a.jsx("p",{children:"Loading..."})})}):e?a.jsxs("section",{className:"bg-gradient-to-br from-blue-900/50 via-blue-800/50 to-blue-900/50 rounded-2xl p-8 shadow-2xl border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"â„ï¸ Now Playing"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-48 h-48 rounded-xl overflow-hidden shadow-2xl border-4 border-blue-500/30",children:e.artwork_url?a.jsx("img",{src:e.artwork_url,alt:`Album artwork for ${e.title}`,className:"w-full h-full object-cover",onError:r=>{const s=r.target;s.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMWUzYTVmIi8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTUwIiBmb250LXNpemU9IjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSI+4p2EPC90ZXh0Pgo8L3N2Zz4="}}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-700 to-blue-900 flex items-center justify-center text-6xl",children:"â„ï¸"})})}),a.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:e.title}),a.jsx("h3",{className:"text-xl md:text-2xl text-blue-300",children:e.artist})]})]})]}):a.jsx("div",{className:"bg-gradient-to-br from-blue-900/50 via-blue-800/50 to-blue-900/50 rounded-2xl p-8 shadow-2xl border border-blue-500/30",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("p",{className:"text-xl mb-2",children:"â„ï¸ Stream Starting"}),a.jsx("p",{children:"No track currently playing"})]})})};function Ht(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fs}=Object.prototype,{getPrototypeOf:nt}=Object,{iterator:Me,toStringTag:zt}=Symbol,De=(e=>t=>{const r=Fs.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$=e=>(e=e.toLowerCase(),t=>De(t)===e),Le=e=>t=>typeof t===e,{isArray:ae}=Array,de=Le("undefined");function me(e){return e!==null&&!de(e)&&e.constructor!==null&&!de(e.constructor)&&M(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wt=$("ArrayBuffer");function Is(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wt(e.buffer),t}const $s=Le("string"),M=Le("function"),Vt=Le("number"),fe=e=>e!==null&&typeof e=="object",Us=e=>e===!0||e===!1,_e=e=>{if(De(e)!=="object")return!1;const t=nt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zt in e)&&!(Me in e)},Bs=e=>{if(!fe(e)||me(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qs=$("Date"),Hs=$("File"),zs=$("Blob"),Ws=$("FileList"),Vs=e=>fe(e)&&M(e.pipe),Js=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||M(e.append)&&((t=De(e))==="formdata"||t==="object"&&M(e.toString)&&e.toString()==="[object FormData]"))},Xs=$("URLSearchParams"),[Ks,Gs,Ys,Zs]=["ReadableStream","Request","Response","Headers"].map($),Qs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function he(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),ae(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(me(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,e[c],c,e)}}function Jt(e,t){if(me(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const G=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xt=e=>!de(e)&&e!==G;function Ye(){const{caseless:e}=Xt(this)&&this||{},t={},r=(s,n)=>{const i=e&&Jt(t,n)||n;_e(t[i])&&_e(s)?t[i]=Ye(t[i],s):_e(s)?t[i]=Ye({},s):ae(s)?t[i]=s.slice():t[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&he(arguments[s],r);return t}const ea=(e,t,r,{allOwnKeys:s}={})=>(he(t,(n,i)=>{r&&M(n)?e[i]=Ht(n,r):e[i]=n},{allOwnKeys:s}),e),ta=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ra=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},sa=(e,t,r,s)=>{let n,i,o;const c={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&nt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},aa=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},na=e=>{if(!e)return null;if(ae(e))return e;let t=e.length;if(!Vt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},oa=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nt(Uint8Array)),ia=(e,t)=>{const s=(e&&e[Me]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},la=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},ca=$("HTMLFormElement"),da=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),bt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ua=$("RegExp"),Kt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};he(r,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(s[i]=o||n)}),Object.defineProperties(e,s)},ma=e=>{Kt(e,(t,r)=>{if(M(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(M(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fa=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return ae(e)?s(e):s(String(e).split(t)),r},ha=()=>{},pa=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xa(e){return!!(e&&M(e.append)&&e[zt]==="FormData"&&e[Me])}const ga=e=>{const t=new Array(10),r=(s,n)=>{if(fe(s)){if(t.indexOf(s)>=0)return;if(me(s))return s;if(!("toJSON"in s)){t[n]=s;const i=ae(s)?[]:{};return he(s,(o,c)=>{const f=r(o,n+1);!de(f)&&(i[c]=f)}),t[n]=void 0,i}}return s};return r(e,0)},ba=$("AsyncFunction"),ya=e=>e&&(fe(e)||M(e))&&M(e.then)&&M(e.catch),Gt=((e,t)=>e?setImmediate:t?((r,s)=>(G.addEventListener("message",({source:n,data:i})=>{n===G&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),G.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",M(G.postMessage)),va=typeof queueMicrotask<"u"?queueMicrotask.bind(G):typeof process<"u"&&process.nextTick||Gt,wa=e=>e!=null&&M(e[Me]),u={isArray:ae,isArrayBuffer:Wt,isBuffer:me,isFormData:Js,isArrayBufferView:Is,isString:$s,isNumber:Vt,isBoolean:Us,isObject:fe,isPlainObject:_e,isEmptyObject:Bs,isReadableStream:Ks,isRequest:Gs,isResponse:Ys,isHeaders:Zs,isUndefined:de,isDate:qs,isFile:Hs,isBlob:zs,isRegExp:ua,isFunction:M,isStream:Vs,isURLSearchParams:Xs,isTypedArray:oa,isFileList:Ws,forEach:he,merge:Ye,extend:ea,trim:Qs,stripBOM:ta,inherits:ra,toFlatObject:sa,kindOf:De,kindOfTest:$,endsWith:aa,toArray:na,forEachEntry:ia,matchAll:la,isHTMLForm:ca,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:Kt,freezeMethods:ma,toObjectSet:fa,toCamelCase:da,noop:ha,toFiniteNumber:pa,findKey:Jt,global:G,isContextDefined:Xt,isSpecCompliantForm:xa,toJSONObject:ga,isAsyncFn:ba,isThenable:ya,setImmediate:Gt,asap:va,isIterable:wa};function w(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}u.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const Yt=w.prototype,Zt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zt[e]={value:e}});Object.defineProperties(w,Zt);Object.defineProperty(Yt,"isAxiosError",{value:!0});w.from=(e,t,r,s,n,i)=>{const o=Object.create(Yt);return u.toFlatObject(e,o,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),w.call(o,e.message,t,r,s,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ja=null;function Ze(e){return u.isPlainObject(e)||u.isArray(e)}function Qt(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function yt(e,t,r){return e?e.concat(t).map(function(n,i){return n=Qt(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function Na(e){return u.isArray(e)&&!e.some(Ze)}const Sa=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function Fe(e,t,r){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=u.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!u.isUndefined(x[v])});const s=r.metaTokens,n=r.visitor||d,i=r.dots,o=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(n))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(u.isDate(p))return p.toISOString();if(u.isBoolean(p))return p.toString();if(!f&&u.isBlob(p))throw new w("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(p)||u.isTypedArray(p)?f&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,x){let N=p;if(p&&!x&&typeof p=="object"){if(u.endsWith(v,"{}"))v=s?v:v.slice(0,-2),p=JSON.stringify(p);else if(u.isArray(p)&&Na(p)||(u.isFileList(p)||u.endsWith(v,"[]"))&&(N=u.toArray(p)))return v=Qt(v),N.forEach(function(j,O){!(u.isUndefined(j)||j===null)&&t.append(o===!0?yt([v],O,i):o===null?v:v+"[]",l(j))}),!1}return Ze(p)?!0:(t.append(yt(x,v,i),l(p)),!1)}const m=[],h=Object.assign(Sa,{defaultVisitor:d,convertValue:l,isVisitable:Ze});function g(p,v){if(!u.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(p),u.forEach(p,function(N,S){(!(u.isUndefined(N)||N===null)&&n.call(t,N,u.isString(S)?S.trim():S,v,h))===!0&&g(N,v?v.concat(S):[S])}),m.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return g(e),t}function vt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ot(e,t){this._pairs=[],e&&Fe(e,this,t)}const er=ot.prototype;er.append=function(t,r){this._pairs.push([t,r])};er.toString=function(t){const r=t?function(s){return t.call(this,s,vt)}:vt;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function _a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tr(e,t,r){if(!t)return e;const s=r&&r.encode||_a;u.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(t,r):i=u.isURLSearchParams(t)?t.toString():new ot(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class wt{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(s){s!==null&&t(s)})}}const rr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ka=typeof URLSearchParams<"u"?URLSearchParams:ot,Ta=typeof FormData<"u"?FormData:null,Ea=typeof Blob<"u"?Blob:null,Ra={isBrowser:!0,classes:{URLSearchParams:ka,FormData:Ta,Blob:Ea},protocols:["http","https","file","blob","url","data"]},it=typeof window<"u"&&typeof document<"u",Qe=typeof navigator=="object"&&navigator||void 0,Ca=it&&(!Qe||["ReactNative","NativeScript","NS"].indexOf(Qe.product)<0),Aa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oa=it&&window.location.href||"http://localhost",Pa=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:it,hasStandardBrowserEnv:Ca,hasStandardBrowserWebWorkerEnv:Aa,navigator:Qe,origin:Oa},Symbol.toStringTag,{value:"Module"})),C={...Pa,...Ra};function Ma(e,t){return Fe(e,new C.classes.URLSearchParams,{visitor:function(r,s,n,i){return C.isNode&&u.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Da(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function La(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function sr(e){function t(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),f=i>=r.length;return o=!o&&u.isArray(n)?n.length:o,f?(u.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!c):((!n[o]||!u.isObject(n[o]))&&(n[o]=[]),t(r,s,n[o],i)&&u.isArray(n[o])&&(n[o]=La(n[o])),!c)}if(u.isFormData(e)&&u.isFunction(e.entries)){const r={};return u.forEachEntry(e,(s,n)=>{t(Da(s),n,r,0)}),r}return null}function Fa(e,t,r){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const pe={transitional:rr,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=u.isObject(t);if(i&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return n?JSON.stringify(sr(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ma(t,this.formSerializer).toString();if((c=u.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Fe(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Fa(t)):t}],transformResponse:[function(t){const r=this.transitional||pe.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(s&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?w.from(c,w.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:C.classes.FormData,Blob:C.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{pe.headers[e]={}});const Ia=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$a=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||t[r]&&Ia[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},jt=Symbol("internals");function ie(e){return e&&String(e).trim().toLowerCase()}function ke(e){return e===!1||e==null?e:u.isArray(e)?e.map(ke):String(e)}function Ua(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Ba=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ze(e,t,r,s,n){if(u.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!u.isString(t)){if(u.isString(s))return t.indexOf(s)!==-1;if(u.isRegExp(s))return s.test(t)}}function qa(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Ha(e,t){const r=u.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,o){return this[s].call(this,t,n,i,o)},configurable:!0})})}let D=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(c,f,l){const d=ie(f);if(!d)throw new Error("header name must be a non-empty string");const m=u.findKey(n,d);(!m||n[m]===void 0||l===!0||l===void 0&&n[m]!==!1)&&(n[m||f]=ke(c))}const o=(c,f)=>u.forEach(c,(l,d)=>i(l,d,f));if(u.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(u.isString(t)&&(t=t.trim())&&!Ba(t))o($a(t),r);else if(u.isObject(t)&&u.isIterable(t)){let c={},f,l;for(const d of t){if(!u.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[l=d[0]]=(f=c[l])?u.isArray(f)?[...f,d[1]]:[f,d[1]]:d[1]}o(c,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=ie(t),t){const s=u.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return Ua(n);if(u.isFunction(r))return r.call(this,n,s);if(u.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ie(t),t){const s=u.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||ze(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(o){if(o=ie(o),o){const c=u.findKey(s,o);c&&(!r||ze(s,s[c],c,r))&&(delete s[c],n=!0)}}return u.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||ze(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return u.forEach(this,(n,i)=>{const o=u.findKey(s,i);if(o){r[o]=ke(n),delete r[i];return}const c=t?qa(i):String(i).trim();c!==i&&delete r[i],r[c]=ke(n),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return u.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&u.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[jt]=this[jt]={accessors:{}}).accessors,n=this.prototype;function i(o){const c=ie(o);s[c]||(Ha(n,o),s[c]=!0)}return u.isArray(t)?t.forEach(i):i(t),this}};D.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(D.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});u.freezeMethods(D);function We(e,t){const r=this||pe,s=t||r,n=D.from(s.headers);let i=s.data;return u.forEach(e,function(c){i=c.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function ar(e){return!!(e&&e.__CANCEL__)}function ne(e,t,r){w.call(this,e??"canceled",w.ERR_CANCELED,t,r),this.name="CanceledError"}u.inherits(ne,w,{__CANCEL__:!0});function nr(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new w("Request failed with status code "+r.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function za(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Wa(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(f){const l=Date.now(),d=s[i];o||(o=l),r[n]=f,s[n]=l;let m=i,h=0;for(;m!==n;)h+=r[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),l-o<t)return;const g=d&&l-d;return g?Math.round(h*1e3/g):void 0}}function Va(e,t){let r=0,s=1e3/t,n,i;const o=(l,d=Date.now())=>{r=d,n=null,i&&(clearTimeout(i),i=null),e(...l)};return[(...l)=>{const d=Date.now(),m=d-r;m>=s?o(l,d):(n=l,i||(i=setTimeout(()=>{i=null,o(n)},s-m)))},()=>n&&o(n)]}const Ce=(e,t,r=3)=>{let s=0;const n=Wa(50,250);return Va(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,f=o-s,l=n(f),d=o<=c;s=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:f,rate:l||void 0,estimated:l&&c&&d?(c-o)/l:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},r)},Nt=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},St=e=>(...t)=>u.asap(()=>e(...t)),Ja=C.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,C.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(C.origin),C.navigator&&/(msie|trident)/i.test(C.navigator.userAgent)):()=>!0,Xa=C.hasStandardBrowserEnv?{write(e,t,r,s,n,i){const o=[e+"="+encodeURIComponent(t)];u.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),u.isString(s)&&o.push("path="+s),u.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ka(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ga(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function or(e,t,r){let s=!Ka(t);return e&&(s||r==!1)?Ga(e,t):t}const _t=e=>e instanceof D?{...e}:e;function Z(e,t){t=t||{};const r={};function s(l,d,m,h){return u.isPlainObject(l)&&u.isPlainObject(d)?u.merge.call({caseless:h},l,d):u.isPlainObject(d)?u.merge({},d):u.isArray(d)?d.slice():d}function n(l,d,m,h){if(u.isUndefined(d)){if(!u.isUndefined(l))return s(void 0,l,m,h)}else return s(l,d,m,h)}function i(l,d){if(!u.isUndefined(d))return s(void 0,d)}function o(l,d){if(u.isUndefined(d)){if(!u.isUndefined(l))return s(void 0,l)}else return s(void 0,d)}function c(l,d,m){if(m in t)return s(l,d);if(m in e)return s(void 0,l)}const f={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(l,d,m)=>n(_t(l),_t(d),m,!0)};return u.forEach(Object.keys({...e,...t}),function(d){const m=f[d]||n,h=m(e[d],t[d],d);u.isUndefined(h)&&m!==c||(r[d]=h)}),r}const ir=e=>{const t=Z({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=D.from(o),t.url=tr(or(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(u.isFormData(r)){if(C.hasStandardBrowserEnv||C.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((f=o.getContentType())!==!1){const[l,...d]=f?f.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...d].join("; "))}}if(C.hasStandardBrowserEnv&&(s&&u.isFunction(s)&&(s=s(t)),s||s!==!1&&Ja(t.url))){const l=n&&i&&Xa.read(i);l&&o.set(n,l)}return t},Ya=typeof XMLHttpRequest<"u",Za=Ya&&function(e){return new Promise(function(r,s){const n=ir(e);let i=n.data;const o=D.from(n.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:l}=n,d,m,h,g,p;function v(){g&&g(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout;function N(){if(!x)return;const j=D.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};nr(function(I){r(I),v()},function(I){s(I),v()},T),x=null}"onloadend"in x?x.onloadend=N:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(N)},x.onabort=function(){x&&(s(new w("Request aborted",w.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new w("Network Error",w.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let O=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||rr;n.timeoutErrorMessage&&(O=n.timeoutErrorMessage),s(new w(O,T.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&u.forEach(o.toJSON(),function(O,T){x.setRequestHeader(T,O)}),u.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),c&&c!=="json"&&(x.responseType=n.responseType),l&&([h,p]=Ce(l,!0),x.addEventListener("progress",h)),f&&x.upload&&([m,g]=Ce(f),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(d=j=>{x&&(s(!j||j.type?new ne(null,e,x):j),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const S=za(n.url);if(S&&C.protocols.indexOf(S)===-1){s(new w("Unsupported protocol "+S+":",w.ERR_BAD_REQUEST,e));return}x.send(i||null)})},Qa=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const i=function(l){if(!n){n=!0,c();const d=l instanceof Error?l:this.reason;s.abort(d instanceof w?d:new ne(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new w(`timeout ${t} of ms exceeded`,w.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:f}=s;return f.unsubscribe=()=>u.asap(c),f}},en=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},tn=async function*(e,t){for await(const r of rn(e))yield*en(r,t)},rn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},kt=(e,t,r,s)=>{const n=tn(e,t);let i=0,o,c=f=>{o||(o=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:l,value:d}=await n.next();if(l){c(),f.close();return}let m=d.byteLength;if(r){let h=i+=m;r(h)}f.enqueue(new Uint8Array(d))}catch(l){throw c(l),l}},cancel(f){return c(f),n.return()}},{highWaterMark:2})},Ie=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lr=Ie&&typeof ReadableStream=="function",sn=Ie&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cr=(e,...t)=>{try{return!!e(...t)}catch{return!1}},an=lr&&cr(()=>{let e=!1;const t=new Request(C.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Tt=64*1024,et=lr&&cr(()=>u.isReadableStream(new Response("").body)),Ae={stream:et&&(e=>e.body)};Ie&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ae[t]&&(Ae[t]=u.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new w(`Response type '${t}' is not supported`,w.ERR_NOT_SUPPORT,s)})})})(new Response);const nn=async e=>{if(e==null)return 0;if(u.isBlob(e))return e.size;if(u.isSpecCompliantForm(e))return(await new Request(C.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(u.isArrayBufferView(e)||u.isArrayBuffer(e))return e.byteLength;if(u.isURLSearchParams(e)&&(e=e+""),u.isString(e))return(await sn(e)).byteLength},on=async(e,t)=>{const r=u.toFiniteNumber(e.getContentLength());return r??nn(t)},ln=Ie&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:f,responseType:l,headers:d,withCredentials:m="same-origin",fetchOptions:h}=ir(e);l=l?(l+"").toLowerCase():"text";let g=Qa([n,i&&i.toAbortSignal()],o),p;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(f&&an&&r!=="get"&&r!=="head"&&(x=await on(d,s))!==0){let T=new Request(t,{method:"POST",body:s,duplex:"half"}),B;if(u.isFormData(s)&&(B=T.headers.get("content-type"))&&d.setContentType(B),T.body){const[I,ee]=Nt(x,Ce(St(f)));s=kt(T.body,Tt,I,ee)}}u.isString(m)||(m=m?"include":"omit");const N="credentials"in Request.prototype;p=new Request(t,{...h,signal:g,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:N?m:void 0});let S=await fetch(p,h);const j=et&&(l==="stream"||l==="response");if(et&&(c||j&&v)){const T={};["status","statusText","headers"].forEach(xe=>{T[xe]=S[xe]});const B=u.toFiniteNumber(S.headers.get("content-length")),[I,ee]=c&&Nt(B,Ce(St(c),!0))||[];S=new Response(kt(S.body,Tt,I,()=>{ee&&ee(),v&&v()}),T)}l=l||"text";let O=await Ae[u.findKey(Ae,l)||"text"](S,e);return!j&&v&&v(),await new Promise((T,B)=>{nr(T,B,{data:O,headers:D.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:p})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new w("Network Error",w.ERR_NETWORK,e,p),{cause:N.cause||N}):w.from(N,N&&N.code,e,p)}}),tt={http:ja,xhr:Za,fetch:ln};u.forEach(tt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Et=e=>`- ${e}`,cn=e=>u.isFunction(e)||e===null||e===!1,dr={getAdapter:e=>{e=u.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let i=0;i<t;i++){r=e[i];let o;if(s=r,!cn(r)&&(s=tt[(o=String(r)).toLowerCase()],s===void 0))throw new w(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Et).join(`
`):" "+Et(i[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:tt};function Ve(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ne(null,e)}function Rt(e){return Ve(e),e.headers=D.from(e.headers),e.data=We.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dr.getAdapter(e.adapter||pe.adapter)(e).then(function(s){return Ve(e),s.data=We.call(e,e.transformResponse,s),s.headers=D.from(s.headers),s},function(s){return ar(s)||(Ve(e),s&&s.response&&(s.response.data=We.call(e,e.transformResponse,s.response),s.response.headers=D.from(s.response.headers))),Promise.reject(s)})}const ur="1.11.0",$e={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$e[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ct={};$e.transitional=function(t,r,s){function n(i,o){return"[Axios v"+ur+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(t===!1)throw new w(n(o," has been removed"+(r?" in "+r:"")),w.ERR_DEPRECATED);return r&&!Ct[o]&&(Ct[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};$e.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function dn(e,t,r){if(typeof e!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],o=t[i];if(o){const c=e[i],f=c===void 0||o(c,i,e);if(f!==!0)throw new w("option "+i+" must be "+f,w.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new w("Unknown option "+i,w.ERR_BAD_OPTION)}}const Te={assertOptions:dn,validators:$e},q=Te.validators;let Y=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wt,response:new wt}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Z(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&Te.assertOptions(s,{silentJSONParsing:q.transitional(q.boolean),forcedJSONParsing:q.transitional(q.boolean),clarifyTimeoutError:q.transitional(q.boolean)},!1),n!=null&&(u.isFunction(n)?r.paramsSerializer={serialize:n}:Te.assertOptions(n,{encode:q.function,serialize:q.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Te.assertOptions(r,{baseUrl:q.spelling("baseURL"),withXsrfToken:q.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&u.merge(i.common,i[r.method]);i&&u.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=D.concat(o,i);const c=[];let f=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(f=f&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let d,m=0,h;if(!f){const p=[Rt.bind(this),void 0];for(p.unshift(...c),p.push(...l),h=p.length,d=Promise.resolve(r);m<h;)d=d.then(p[m++],p[m++]);return d}h=c.length;let g=r;for(m=0;m<h;){const p=c[m++],v=c[m++];try{g=p(g)}catch(x){v.call(this,x);break}}try{d=Rt.call(this,g)}catch(p){return Promise.reject(p)}for(m=0,h=l.length;m<h;)d=d.then(l[m++],l[m++]);return d}getUri(t){t=Z(this.defaults,t);const r=or(t.baseURL,t.url,t.allowAbsoluteUrls);return tr(r,t.params,t.paramsSerializer)}};u.forEach(["delete","get","head","options"],function(t){Y.prototype[t]=function(r,s){return this.request(Z(s||{},{method:t,url:r,data:(s||{}).data}))}});u.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,c){return this.request(Z(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Y.prototype[t]=r(),Y.prototype[t+"Form"]=r(!0)});let un=class mr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,c){s.reason||(s.reason=new ne(i,o,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new mr(function(n){t=n}),cancel:t}}};function mn(e){return function(r){return e.apply(null,r)}}function fn(e){return u.isObject(e)&&e.isAxiosError===!0}const rt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rt).forEach(([e,t])=>{rt[t]=e});function fr(e){const t=new Y(e),r=Ht(Y.prototype.request,t);return u.extend(r,Y.prototype,t,{allOwnKeys:!0}),u.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return fr(Z(e,n))},r}const E=fr(pe);E.Axios=Y;E.CanceledError=ne;E.CancelToken=un;E.isCancel=ar;E.VERSION=ur;E.toFormData=Fe;E.AxiosError=w;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=mn;E.isAxiosError=fn;E.mergeConfig=Z;E.AxiosHeaders=D;E.formToJSON=e=>sr(u.isHTMLForm(e)?new FormData(e):e);E.getAdapter=dr.getAdapter;E.HttpStatusCode=rt;E.default=E;const{Axios:Co,AxiosError:Ao,CanceledError:Oo,isCancel:Po,CancelToken:Mo,VERSION:Do,all:Lo,Cancel:Fo,isAxiosError:Io,spread:$o,toFormData:Uo,AxiosHeaders:Bo,HttpStatusCode:qo,formToJSON:Ho,getAdapter:zo,mergeConfig:Wo}=E,hr={},pr=hr?.VITE_API_URL?`${(void 0).replace(/\/$/,"")}/api/v1`:"/api/v1",k=E.create({baseURL:pr,timeout:1e4,headers:{"Content-Type":"application/json"}}),lt=E.create({baseURL:pr,timeout:18e4,headers:{"Content-Type":"application/json"}}),xr=e=>{const t=localStorage.getItem("raido-token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},gr=e=>Promise.reject(e),br=e=>e,yr=e=>{const t=e.response?.data?.detail||e.message||"An error occurred";return e.response?.status===401?(!!localStorage.getItem("raido-token")&&(localStorage.removeItem("raido-token"),window.location.reload()),Promise.reject(e)):(e.response?.status>=500?_.error(`Server error: ${t}`):e.response?.status>=400?_.error(t):e.code==="NETWORK_ERROR"&&_.error("ðŸ´â€â˜ ï¸ Network error - check your connection!"),Promise.reject(e))};k.interceptors.request.use(xr,gr);k.interceptors.response.use(br,yr);lt.interceptors.request.use(xr,gr);lt.interceptors.response.use(br,yr);const K={getNowPlaying:(e="christmas")=>k.get("/now",{params:{station:e}}),getHistory:(e=20,t=0,r="christmas")=>k.get("/now/history",{params:{limit:e,offset:t,station:r}}),getNextUp:(e=1,t="christmas")=>k.get("/now/next",{params:{limit:e,station:t}}),getSettings:(e="christmas")=>k.get("/admin/settings",{params:{station:e}}),updateSettings:(e,t="christmas")=>k.post("/admin/settings",e,{params:{station:t}}),getStats:()=>k.get("/admin/stats"),getVoices:()=>k.get("/admin/voices"),getUsers:()=>k.get("/admin/users"),createUser:e=>k.post("/admin/users",e),updateUser:(e,t)=>k.put(`/admin/users/${e}`,t),deleteUser:e=>k.delete(`/admin/users/${e}`),deleteCommentary:e=>k.delete(`/admin/commentary/${e}`),resolveStaticUrl:e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=hr?.VITE_API_URL;return t&&e.startsWith("/")?`${t.replace(/\/$/,"").replace(/\/(api)(\/v1)?$/i,"")}${e}`:e},skipTrack:()=>k.post("/liquidsoap/skip"),getTracks:()=>k.get("/tracks"),getStations:()=>k.get("/stations"),createStation:e=>k.post("/stations",e)};function hn(e=20,t=0){return Pt({queryKey:["history","christmas",e,t],queryFn:()=>k.get("/now/history",{params:{limit:e,offset:t,station:"christmas"}}).then(r=>r.data),staleTime:3e4,refetchInterval:6e4,retry:2})}function st(e){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(e)}function U(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function A(e){U(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||st(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var pn={};function xn(){return pn}function At(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ee(e,t){U(2,arguments);var r=A(e),s=A(t),n=r.getTime()-s.getTime();return n<0?-1:n>0?1:n}function gn(e,t){U(2,arguments);var r=A(e),s=A(t),n=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return n*12+i}function bn(e,t){return U(2,arguments),A(e).getTime()-A(t).getTime()}var yn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},vn="trunc";function wn(e){return yn[vn]}function jn(e){U(1,arguments);var t=A(e);return t.setHours(23,59,59,999),t}function Nn(e){U(1,arguments);var t=A(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Sn(e){U(1,arguments);var t=A(e);return jn(t).getTime()===Nn(t).getTime()}function _n(e,t){U(2,arguments);var r=A(e),s=A(t),n=Ee(r,s),i=Math.abs(gn(r,s)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*i);var c=Ee(r,s)===-n;Sn(A(e))&&i===1&&Ee(e,s)===1&&(c=!1),o=n*(i-Number(c))}return o===0?0:o}function kn(e,t,r){U(2,arguments);var s=bn(e,t)/1e3;return wn()(s)}var Tn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},En=function(t,r,s){var n,i=Tn[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Je(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}var Rn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},An={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},On={date:Je({formats:Rn,defaultWidth:"full"}),time:Je({formats:Cn,defaultWidth:"full"}),dateTime:Je({formats:An,defaultWidth:"full"})},Pn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mn=function(t,r,s,n){return Pn[t]};function le(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",n;if(s==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var c=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[f]||e.values[c]}var l=e.argumentCallback?e.argumentCallback(t):t;return n[l]}}var Dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ln={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},In={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$n={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Un={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bn=function(t,r){var s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},qn={ordinalNumber:Bn,era:le({values:Dn,defaultWidth:"wide"}),quarter:le({values:Ln,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:le({values:Fn,defaultWidth:"wide"}),day:le({values:In,defaultWidth:"wide"}),dayPeriod:le({values:$n,defaultWidth:"wide",formattingValues:Un,defaultFormattingWidth:"wide"})};function ce(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(c)?zn(c,function(m){return m.test(o)}):Hn(c,function(m){return m.test(o)}),l;l=e.valueCallback?e.valueCallback(f):f,l=r.valueCallback?r.valueCallback(l):l;var d=t.slice(o.length);return{value:l,rest:d}}}function Hn(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function zn(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Wn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var n=s[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var c=t.slice(n.length);return{value:o,rest:c}}}var Vn=/^(\d+)(th|st|nd|rd)?/i,Jn=/\d+/i,Xn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kn={any:[/^b/i,/^(a|c)/i]},Gn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yn={any:[/1/i,/2/i,/3/i,/4/i]},Zn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},to={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ro={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},so={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ao={ordinalNumber:Wn({matchPattern:Vn,parsePattern:Jn,valueCallback:function(t){return parseInt(t,10)}}),era:ce({matchPatterns:Xn,defaultMatchWidth:"wide",parsePatterns:Kn,defaultParseWidth:"any"}),quarter:ce({matchPatterns:Gn,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ce({matchPatterns:Zn,defaultMatchWidth:"wide",parsePatterns:Qn,defaultParseWidth:"any"}),day:ce({matchPatterns:eo,defaultMatchWidth:"wide",parsePatterns:to,defaultParseWidth:"any"}),dayPeriod:ce({matchPatterns:ro,defaultMatchWidth:"any",parsePatterns:so,defaultParseWidth:"any"})},no={code:"en-US",formatDistance:En,formatLong:On,formatRelative:Mn,localize:qn,match:ao,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vr(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function oo(e){return vr({},e)}var Ot=1440,io=2520,Xe=43200,lo=86400;function co(e,t,r){var s,n;U(2,arguments);var i=xn(),o=(s=(n=r?.locale)!==null&&n!==void 0?n:i.locale)!==null&&s!==void 0?s:no;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=Ee(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var f=vr(oo(r),{addSuffix:!!r?.addSuffix,comparison:c}),l,d;c>0?(l=A(t),d=A(e)):(l=A(e),d=A(t));var m=kn(d,l),h=(At(d)-At(l))/1e3,g=Math.round((m-h)/60),p;if(g<2)return r!=null&&r.includeSeconds?m<5?o.formatDistance("lessThanXSeconds",5,f):m<10?o.formatDistance("lessThanXSeconds",10,f):m<20?o.formatDistance("lessThanXSeconds",20,f):m<40?o.formatDistance("halfAMinute",0,f):m<60?o.formatDistance("lessThanXMinutes",1,f):o.formatDistance("xMinutes",1,f):g===0?o.formatDistance("lessThanXMinutes",1,f):o.formatDistance("xMinutes",g,f);if(g<45)return o.formatDistance("xMinutes",g,f);if(g<90)return o.formatDistance("aboutXHours",1,f);if(g<Ot){var v=Math.round(g/60);return o.formatDistance("aboutXHours",v,f)}else{if(g<io)return o.formatDistance("xDays",1,f);if(g<Xe){var x=Math.round(g/Ot);return o.formatDistance("xDays",x,f)}else if(g<lo)return p=Math.round(g/Xe),o.formatDistance("aboutXMonths",p,f)}if(p=_n(d,l),p<12){var N=Math.round(g/Xe);return o.formatDistance("xMonths",N,f)}else{var S=p%12,j=Math.floor(p/12);return S<3?o.formatDistance("aboutXYears",j,f):S<9?o.formatDistance("overXYears",j,f):o.formatDistance("almostXYears",j+1,f)}}function uo(e,t){return U(1,arguments),co(e,Date.now(),t)}function wr({size:e="md",message:t="Loading...",fullScreen:r=!1}){const s={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"},n=a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[a.jsx("div",{className:`spinner ${s[e]}`}),t&&a.jsx("p",{className:"text-gray-400 text-sm font-medium animate-pulse",children:t})]});return r?a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-50",children:n}):n}function mo(){const{data:e,isLoading:t,error:r}=hn();if(console.log("PlayHistory debug:",{history:e,isLoading:t,error:r,tracks:e?.tracks?.length}),t)return a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[a.jsx(He,{className:"w-5 h-5"}),a.jsx("span",{children:"Play History"})]}),a.jsx(wr,{})]});if(r||!e)return a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[a.jsx(He,{className:"w-5 h-5"}),a.jsx("span",{children:"Play History"})]}),a.jsx("div",{className:"text-center text-gray-400 py-8",children:a.jsx("p",{children:"Unable to load play history"})})]});const s=e.tracks||[];return a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center space-x-2",children:[a.jsx(He,{className:"w-5 h-5"}),a.jsx("span",{children:"Play History"})]}),s.length===0?a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx(qt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No tracks played yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Start the radio to see your play history!"})]}):a.jsx("div",{className:"space-y-4",children:s.map((n,i)=>a.jsx(fo,{item:n,isRecent:i<3},`${n.play.id}-${i}`))})]})}function fo({item:e,isRecent:t}){const r=e.track,s=e.play,n=e.commentary,i=new Date(s.started_at),o=uo(i,{addSuffix:!0}),c=f=>{const l=Math.floor(f/60),d=Math.floor(f%60);return`${l}:${d.toString().padStart(2,"0")}`};return a.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg transition-all ${t?"bg-primary-900 bg-opacity-20 border border-primary-800":"bg-gray-800 bg-opacity-50 hover:bg-opacity-80"}`,children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pirate-600 to-pirate-800 rounded-md flex items-center justify-center overflow-hidden",children:r.artwork_url?a.jsx("img",{src:r.artwork_url,alt:`${r.title} artwork`,className:"w-full h-full object-cover"}):a.jsx(qt,{className:"w-6 h-6 text-pirate-300"})})}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-grow",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:r.title}),a.jsx("p",{className:"text-gray-300 text-sm truncate",children:r.artist}),r.album&&a.jsxs("p",{className:"text-gray-400 text-xs truncate",children:[r.album,r.year&&` â€¢ ${r.year}`]})]}),a.jsxs("div",{className:"flex-shrink-0 text-right ml-4",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:o}),r.duration_sec&&a.jsx("div",{className:"text-xs text-gray-500",children:c(r.duration_sec)})]})]}),n&&a.jsx("div",{className:"mt-3 p-3 bg-gray-900 bg-opacity-50 rounded-md border border-gray-600",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Cs,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-grow",children:[a.jsx("p",{className:"text-sm text-gray-300",children:n.text}),n.audio_url&&a.jsx("div",{className:"mt-2",children:a.jsxs("audio",{controls:!0,className:"w-full h-8",preload:"metadata",children:[a.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})})]})]})}),r.tags&&r.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.tags.slice(0,3).map((f,l)=>a.jsx("span",{className:"inline-block bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:f},l))})]}),a.jsx("div",{className:"flex-shrink-0",children:s.was_skipped?a.jsx("div",{className:"text-orange-400 text-xs",children:"Skipped"}):a.jsx(As,{className:"w-4 h-4 text-green-400"})})]})}const ho=({settings:e,testText:t,setTestText:r})=>{const[s,n]=y.useState(!1),[i,o]=y.useState(null),c=async()=>{if(e){n(!0),o(null);try{const d=e.dj_voice_provider||"kokoro";let m="/admin/tts-test",h={text:t};switch(d){case"openai_tts":m="/admin/tts-test-openai",h.voice=e.openai_tts_voice||"onyx",h.model=e.openai_tts_model||"tts-1";break;case"chatterbox":m="/admin/tts-test-chatterbox",h.voice=e.chatterbox_voice||"default",h.exaggeration=e.chatterbox_exaggeration,h.cfg_weight=e.chatterbox_cfg_weight;break;case"xtts":m="/admin/tts-test-xtts",h.voice=e.xtts_voice||"coqui-tts:en_ljspeech",h.speaker=e.xtts_speaker;break;default:h.voice=e.kokoro_voice||"af_bella",h.speed=e.kokoro_speed,h.volume=e.dj_tts_volume;break}const g=await lt.post(m,h),p=K.resolveStaticUrl(g.data?.audio_url);p&&(o(p),_.success(`${d.toUpperCase()} voice test generated!`))}catch(d){const m=d?.response?.data?.detail||"Voice test failed";_.error(m)}finally{n(!1)}}},f=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return e?.openai_tts_voice||"onyx";case"chatterbox":return e?.chatterbox_voice||"default";case"xtts":return e?.xtts_voice||"coqui-tts:en_ljspeech";default:return e?.kokoro_voice||"af_bella"}},l=()=>{switch(e?.dj_voice_provider||"kokoro"){case"openai_tts":return"OpenAI TTS";case"chatterbox":return"Chatterbox";case"xtts":return"XTTS";default:return"Kokoro"}};return a.jsxs("div",{className:"bg-gradient-to-br from-pirate-800/30 to-pirate-900/30 rounded-xl p-6 border border-pirate-600/20",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸŽ¤ Voice Testing"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Test Text"}),a.jsx("input",{type:"text",value:t,onChange:d=>r(d.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm",placeholder:"Enter text to test the voice..."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:c,disabled:s||!e,className:`px-4 py-2 rounded-lg text-white font-medium ${s?"bg-gray-700":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:s?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin inline-block mr-2",children:"â³"}),"Testing..."]}):`Test ${l()} Voice`}),a.jsxs("div",{className:"text-sm text-gray-400",children:["Voice: ",a.jsx("span",{className:"text-white",children:f()})]})]}),i&&a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Generated Audio:"}),a.jsxs("audio",{controls:!0,className:"w-full h-8",children:[a.jsx("source",{src:i,type:"audio/mpeg"}),"Your browser does not support audio playback."]})]})]})]})},po=({settings:e,setSettings:t})=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"âš™ï¸ General Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Provider"}),a.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:e.dj_provider||"templates",onChange:r=>t({...e,dj_provider:r.target.value}),children:[a.jsx("option",{value:"ollama",children:"Ollama"}),a.jsx("option",{value:"openai",children:"OpenAI"}),a.jsx("option",{value:"templates",children:"Templates"}),a.jsx("option",{value:"disabled",children:"Disabled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Max Intro Duration (seconds)"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:r=>t({...e,dj_max_seconds:parseInt(r.target.value||"0",10)}),className:"flex-1"}),a.jsx("input",{type:"number",min:5,max:60,step:1,value:Number(e.dj_max_seconds??30),onChange:r=>t({...e,dj_max_seconds:parseInt(r.target.value||"0",10)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]})]}),xo=({settings:e,setSettings:t,voices:r,chatterboxVoices:s})=>{const n=e?.dj_voice_provider||"kokoro",i=()=>{switch(n){case"openai_tts":return["alloy","echo","fable","onyx","nova","shimmer"];case"chatterbox":{const l=s.length?s:["default"],d=e?.chatterbox_voice;return d&&!l.includes(d)?[d,...l]:l}case"xtts":return r.length?r:[];default:return r.length?r:["af_bella","af_sarah","af_sky","am_onyx","am_michael","am_ryan","bf_ava","bf_sophie","bm_george","bm_james"]}},o=l=>n==="chatterbox"?l.replace(/^custom-/,"").split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "):l,c=()=>{switch(n){case"openai_tts":return"openai_tts_voice";case"chatterbox":return"chatterbox_voice";case"xtts":return"xtts_voice";default:return"kokoro_voice"}},f=()=>{const l=c();return e[l]||i()[0]||""};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸ”Š Voice & TTS Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Voice Provider"}),a.jsxs("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:n,onChange:l=>t({...e,dj_voice_provider:l.target.value}),children:[a.jsx("option",{value:"kokoro",children:"Kokoro TTS"}),a.jsx("option",{value:"openai_tts",children:"OpenAI TTS"}),a.jsx("option",{value:"chatterbox",children:"Chatterbox"}),a.jsx("option",{value:"xtts",children:"XTTS"}),a.jsx("option",{value:"liquidsoap",children:"Liquidsoap"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:n==="openai_tts"?"OpenAI Voice":n==="chatterbox"?"Chatterbox Voice":n==="xtts"?"XTTS Voice":"Kokoro Voice"}),a.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:f(),onChange:l=>{const d=c();t({...e,[d]:l.target.value})},children:i().map(l=>a.jsx("option",{value:l,children:o(l)},l))})]}),n==="kokoro"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Kokoro Speed"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:l=>t({...e,kokoro_speed:parseFloat(l.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:.5,max:1.5,step:.05,value:Number(e.kokoro_speed??1),onChange:l=>t({...e,kokoro_speed:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Volume"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]}),n==="chatterbox"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Custom Voice (optional)"}),a.jsx("input",{type:"text",placeholder:"e.g., brian",value:e.chatterbox_voice||"",onChange:l=>t({...e,chatterbox_voice:l.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"If your Chatterbox server supports named voices, enter it here."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Chatterbox Voices API URL"}),a.jsx("input",{type:"text",placeholder:"http://192.168.1.170:8080/api/voices",value:e.chatterbox_voices_url||"",onChange:l=>t({...e,chatterbox_voices_url:l.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Used for listing voices only. TTS generation uses the configured Chatterbox base URL."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"TTS Volume"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:.5,max:2,step:.1,value:Number(e.dj_tts_volume??1),onChange:l=>t({...e,dj_tts_volume:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Exaggeration"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:.25,max:2,step:.05,value:Number(e.chatterbox_exaggeration??1),onChange:l=>t({...e,chatterbox_exaggeration:parseFloat(l.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:.25,max:2,step:.05,value:Number(e.chatterbox_exaggeration??1),onChange:l=>t({...e,chatterbox_exaggeration:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"CFG Weight"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:0,max:1,step:.05,value:Number(e.chatterbox_cfg_weight??.5),onChange:l=>t({...e,chatterbox_cfg_weight:parseFloat(l.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:0,max:1,step:.05,value:Number(e.chatterbox_cfg_weight??.5),onChange:l=>t({...e,chatterbox_cfg_weight:parseFloat(l.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]})]})]})},go=({settings:e,setSettings:t,ollamaModels:r})=>{e?.dj_provider;const s=e?.dj_model||e?.ollama_model||"llama3.2:1b";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:"ðŸ¤– AI Model Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Ollama Model"}),a.jsx("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white",value:s,onChange:n=>t({...e,dj_model:n.target.value,ollama_model:n.target.value}),children:r.length>0?r.map(n=>a.jsx("option",{value:n,children:n},n)):a.jsxs("option",{value:s,children:[s," (server offline)"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Temperature"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:n=>t({...e,dj_temperature:parseFloat(n.target.value)}),className:"flex-1"}),a.jsx("input",{type:"number",min:0,max:2,step:.1,value:Number(e.dj_temperature??.8),onChange:n=>t({...e,dj_temperature:parseFloat(n.target.value)}),className:"w-20 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Commentary Prompt Template (Ollama/OpenAI)"}),a.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white text-sm min-h-[160px]",placeholder:"You're a pirate radio DJ introducing the NEXT song... Use {{song_title}}, {{artist}}, {{album}}, {{year}}.",value:e.dj_prompt_template??"",onChange:n=>t({...e,dj_prompt_template:n.target.value})}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Used when provider is Ollama or OpenAI. Supports Jinja variables like ","{{song_title}}",", ","{{artist}}",", ","{{album}}",", ","{{year}}","."]})]})})]})},bo=()=>{const[t,r]=y.useState(!1),[s,n]=y.useState([]),[i,o]=y.useState([]),[c,f]=y.useState([]),[l,d]=y.useState("Welcome to Raido FM! This voice sounds crisp and clear for our pirate radio commentary."),[m,h]=y.useState(null),[g,p]=y.useState(null),[v,x]=y.useState(null),[N,S]=y.useState(!0),[j,O]=y.useState(!0),[T,B]=y.useState({interval:1,tracksSince:0,nextTrack:null});y.useEffect(()=>{K.getSettings().then(b=>{h(b.data),p(b.data)}).catch(()=>x("Failed to load settings"))},[]),y.useEffect(()=>{m&&(async()=>{try{const R=Number(m?.dj_commentary_interval??1),ft=(await K.getHistory(R+1,0)).data?.tracks||[];let Be=0;for(const Er of ft){if(Er?.commentary)break;Be+=1}const ve=(await K.getNextUp(1)).data?.next_tracks?.[0]?.track||null;B({interval:R,tracksSince:Be,nextTrack:ve?{id:ve.id,title:ve.title,artist:ve.artist}:null})}catch{}})()},[m?.dj_commentary_interval,m?.enable_commentary,m?.dj_provider]),y.useEffect(()=>{const b=m?.dj_voice_provider||"kokoro";(async()=>{try{if(b==="xtts"){const L=await k.get("/admin/voices-xtts");n(L.data?.voices||[])}else if(b==="chatterbox"){const L=await k.get("/admin/voices-chatterbox");o(L.data?.voices||[])}else{const L=await k.get("/admin/voices");n(L.data?.voices||[])}}catch{n([]),o([])}})()},[m?.dj_voice_provider,m?.chatterbox_voices_url]),y.useEffect(()=>{(async()=>{try{const R=await k.get("/admin/ollama-models");f(R.data?.models||[])}catch{f([])}})()},[m?.dj_provider]);const I=!!(m&&g&&JSON.stringify(m)!==JSON.stringify(g)),ee=async()=>{if(m){r(!0),x(null);try{await K.updateSettings(m),_.success("Settings saved successfully! ðŸŽ›ï¸"),p(m)}catch(b){const R=b?.response?.data?.detail||"Failed to save settings";x(R),_.error(`Save failed: ${R}`)}finally{r(!1)}}},xe=b=>b.replace(/<[^>]*>/g,""),jr=(b,R)=>{if(!b)return`tts-commentary-${R}.mp3`;const L=b.split("/").filter(Boolean);return(L[L.length-1]||"").split("?")[0].replace(/[^a-zA-Z0-9._-]/g,"_")||`tts-commentary-${R}.mp3`},[te,ct]=y.useState(0),ge=20,{data:F,isLoading:Nr,error:Sr,refetch:dt}=Pt({queryKey:["ttsStatus","christmas",te],queryFn:()=>k.get("/admin/tts-status",{params:{station:"christmas",window_hours:24,limit:ge,offset:te*ge}}).then(b=>b.data),refetchInterval:3e4,staleTime:1e4,keepPreviousData:!0}),be=b=>b?b<1e3?`${b}ms`:`${(b/1e3).toFixed(1)}s`:"N/A",_r=async b=>{if(confirm("Delete this TTS entry? This will also remove the audio file."))try{await K.deleteCommentary(b),dt()}catch(R){console.error("Failed to delete commentary:",R)}},ye=b=>{switch(b){case"ready":return"text-green-400";case"failed":return"text-red-400";case"running":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},oe=b=>{switch(b){case"running":return"ðŸŸ¢";case"stopped":return"ðŸ”´";case"warning":return"ðŸŸ¡";default:return"âšª"}},kr=b=>{switch(b){case"running":return{container:"border-green-600/30 bg-green-900/20 text-green-200",badge:"border-green-500/40 bg-green-500/10 text-green-200"};case"warning":return{container:"border-yellow-600/30 bg-yellow-900/20 text-yellow-200",badge:"border-yellow-500/40 bg-yellow-500/10 text-yellow-200"};case"stopped":return{container:"border-red-600/30 bg-red-900/20 text-red-200",badge:"border-red-500/40 bg-red-500/10 text-red-200"};default:return{container:"border-gray-600/30 bg-gray-800/30 text-gray-200",badge:"border-gray-500/40 bg-gray-700/40 text-gray-200"}}};if(Nr)return a.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(wr,{message:"Loading TTS monitoring data..."})})});if(Sr)return a.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center text-red-400",children:[a.jsx("p",{className:"text-xl mb-2",children:"âš ï¸ Error Loading TTS Status"}),a.jsx("p",{children:"Unable to fetch TTS monitoring data"}),a.jsx("button",{onClick:()=>dt(),className:"mt-4 px-4 py-2 bg-pirate-600 hover:bg-pirate-700 text-white rounded-lg transition-colors",children:"Retry"})]})})});const re=F?.statistics,Ue=F?.recent_activity||[],P=F?.system_status,X=F?.chatterbox_health,se=X?.status||P?.chatterbox_tts||(X?.detail?"unknown":void 0),ut=kr(se),mt=(()=>{if(!se)return"";const b=X?.detail?.trim();if(b)return b;switch(se){case"running":return"Chatterbox TTS is responding normally.";case"warning":return"Chatterbox TTS responded but indicated an issue.";case"stopped":return"Unable to reach Chatterbox TTS. Check the shim container and network.";default:return"Chatterbox TTS status is unknown."}})();return a.jsxs("div",{className:"space-y-6",children:[se&&a.jsx("div",{className:`rounded-2xl border shadow-2xl px-4 py-4 sm:px-6 ${ut.container}`,children:a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl","aria-hidden":!0,children:"ðŸ—£ï¸"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Chatterbox Service"}),a.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold border ${ut.badge}`,children:[a.jsx("span",{children:oe(se)}),a.jsx("span",{className:"capitalize",children:se})]})]}),mt&&a.jsx("p",{className:"mt-1 text-sm text-gray-100",children:mt}),X?.endpoint&&a.jsxs("p",{className:"mt-1 text-xs text-gray-300",children:["Endpoint: ",a.jsx("span",{className:"text-gray-100",children:X.endpoint})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[a.jsx("span",{children:"Tip:"}),X?.endpoint?a.jsxs("span",{className:"text-gray-100",children:["Run ",a.jsxs("code",{className:"bg-gray-800 px-1.5 py-0.5 rounded",children:["curl ",X.endpoint,"/health"]})," from the host."]}):a.jsx("span",{className:"text-gray-100",children:"Set the Chatterbox base URL under Voice & TTS settings."})]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-6 shadow-2xl border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>S(!N),className:"flex items-center gap-3 text-2xl font-bold text-white hover:text-pirate-400 transition-colors",children:[a.jsx("span",{className:`transform transition-transform ${N?"rotate-0":"rotate-90"}`,children:"â–¶"}),a.jsx("span",{children:"ðŸŽ›ï¸ DJ Settings"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[I&&a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"Unsaved changes"}),a.jsx("button",{onClick:ee,disabled:!m||t||!I,className:`px-4 py-2 rounded-lg text-white font-medium ${t||!I?"bg-gray-700 cursor-not-allowed":"bg-pirate-600 hover:bg-pirate-700"} transition-colors`,children:t?"Savingâ€¦":"Save Settings"})]})]}),!N&&m&&a.jsx("div",{className:"mb-4",children:!m.enable_commentary||m.dj_provider==="disabled"?a.jsx("div",{className:"px-3 py-2 rounded border border-red-600/30 bg-red-900/20 text-red-300 text-sm",children:"Commentary is currently disabled. Enable it and pick a provider to resume generation."}):a.jsxs(a.Fragment,{children:[T.tracksSince<(T.interval||1)?a.jsxs("div",{className:"px-3 py-2 rounded border border-yellow-600/30 bg-yellow-900/20 text-yellow-200 text-sm",children:["Waiting for interval: ",T.tracksSince," of ",T.interval," tracks since last commentary. Generation will trigger once the interval is reached."]}):a.jsx("div",{className:"px-3 py-2 rounded border border-green-600/30 bg-green-900/20 text-green-200 text-sm",children:"Eligible to generate on the next cycle."}),a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Tip: If the next-up track already had an intro in the last hour, deduplication may skip generating again. You can skip the current track or restart the DJ worker to force a new intro.",T.nextTrack&&a.jsxs("span",{className:"ml-2 text-gray-300",children:["Next up: ",T.nextTrack.artist," â€” ",T.nextTrack.title]})]})]})}),v&&!N&&a.jsx("div",{className:"text-red-400 text-sm mb-4 p-3 bg-red-900/20 rounded-lg border border-red-600/20",children:v}),!N&&m&&a.jsxs("div",{className:"space-y-8",children:[a.jsx(po,{settings:m,setSettings:h}),a.jsx(xo,{settings:m,setSettings:h,voices:s,chatterboxVoices:i}),m.dj_provider==="ollama"&&a.jsx(go,{settings:m,setSettings:h,ollamaModels:c}),a.jsx(ho,{settings:m,testText:l,setTestText:d})]})]}),a.jsx("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-4 shadow-2xl border border-gray-700/50",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("button",{onClick:()=>O(!j),className:"flex items-center gap-3 text-xl font-bold text-white hover:text-pirate-400 transition-colors","aria-expanded":!j,children:[a.jsx("span",{className:`transform transition-transform ${j?"rotate-0":"rotate-90"}`,children:"â–¶"}),a.jsx("span",{children:"ðŸŽ™ï¸ TTS Monitoring Dashboard"})]})})}),!j&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl p-3 border border-green-600/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:"âœ…"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-green-300",children:"Success Rate"}),a.jsxs("p",{className:"text-xl font-bold text-white",children:[re?.success_rate||0,"%"]})]})]}),a.jsxs("p",{className:"text-sm text-green-400",children:[re?.success_24h||0," of ",re?.total_24h||0," in 24h"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl p-3 border border-blue-600/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:"ðŸŽµ"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-300",children:"Total Generated"}),a.jsx("p",{className:"text-xl font-bold text-white",children:re?.total_24h||0})]})]}),a.jsx("p",{className:"text-sm text-blue-400",children:"Last 24 hours"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 rounded-xl p-3 border border-purple-600/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:"âš¡"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-purple-300",children:"Avg Gen Time"}),a.jsx("p",{className:"text-xl font-bold text-white",children:be(re?.avg_generation_time_ms||null)})]})]}),a.jsx("p",{className:"text-sm text-purple-400",children:"Generation speed"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 rounded-xl p-3 border border-orange-600/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-600 flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:"ðŸ”Š"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-orange-300",children:"Avg TTS Time"}),a.jsx("p",{className:"text-xl font-bold text-white",children:be(re?.avg_tts_time_ms||null)})]})]}),a.jsx("p",{className:"text-sm text-orange-400",children:"Voice synthesis"})]})]}),P&&!j&&a.jsxs("div",{className:"bg-gray-900/60 border border-gray-800/60 rounded-xl p-3 shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-300",children:[a.jsx("span",{className:"text-sm",children:"âš™ï¸"}),"System Status"]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[a.jsx("span",{className:"text-base",children:oe(P.tts_service)}),a.jsx("span",{className:"text-gray-200",children:"TTS Service"}),a.jsx("span",{className:`font-semibold capitalize ${ye(P.tts_service)}`,children:P.tts_service})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[a.jsx("span",{className:"text-base",children:oe(P.dj_worker)}),a.jsx("span",{className:"text-gray-200",children:"DJ Worker"}),a.jsx("span",{className:`font-semibold capitalize ${ye(P.dj_worker)}`,children:P.dj_worker})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[a.jsx("span",{className:"text-base",children:oe(P.kokoro_tts)}),a.jsx("span",{className:"text-gray-200",children:"Kokoro TTS"}),a.jsx("span",{className:`font-semibold capitalize ${ye(P.kokoro_tts)}`,children:P.kokoro_tts})]}),P.chatterbox_tts&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800/70 border border-gray-700/60 rounded-full text-xs",children:[a.jsx("span",{className:"text-base",children:oe(P.chatterbox_tts)}),a.jsx("span",{className:"text-gray-200",children:"Chatterbox"}),a.jsx("span",{className:`font-semibold capitalize ${ye(P.chatterbox_tts)}`,children:P.chatterbox_tts})]})]})]}),!j&&a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-pirate-900 rounded-2xl p-4 shadow-2xl border border-gray-700/50",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"ðŸ“‹"}),"Recent TTS Activity"]}),Ue.length===0?a.jsx("div",{className:"text-center text-gray-400 py-8",children:a.jsx("p",{children:"No recent TTS activity"})}):a.jsxs("div",{className:"space-y-2",children:[Ue.map(b=>{const R=K.resolveStaticUrl(b.audio_url),L=jr(b.audio_url,b.id);return a.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[b.status==="running"?a.jsx("span",{className:"mt-1.5 inline-block w-3 h-3 border-2 border-gray-400 border-t-transparent rounded-full animate-spin","aria-label":"Generating",title:"Generating"}):a.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${b.status==="ready"?"bg-green-400":b.status==="failed"?"bg-red-400":"bg-yellow-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("h4",{className:"font-medium text-white whitespace-pre-wrap break-words",children:b.transcript?b.transcript:xe(b.text)}),a.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{children:[b.provider," â€¢ ",b.voice_provider]}),b.voice_id?a.jsxs("span",{children:["â€¢ voice: ",b.voice_id]}):null,b.provider==="ollama"&&b.llm_mode==="nonstream"&&a.jsx("span",{className:"text-xxs px-2 py-0.5 rounded bg-yellow-500/10 text-yellow-300 border border-yellow-500/20",children:"nonâ€‘streaming fallback"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[a.jsxs("div",{className:"text-right text-sm text-gray-400",children:[a.jsx("div",{children:new Date(b.created_at).toLocaleTimeString()}),(b.generation_time_ms||b.tts_time_ms)&&a.jsxs("div",{className:"text-xs",children:[b.generation_time_ms&&`Gen: ${be(b.generation_time_ms)}`,b.generation_time_ms&&b.tts_time_ms&&" â€¢ ",b.tts_time_ms&&`TTS: ${be(b.tts_time_ms)}`]})]}),a.jsx("button",{onClick:()=>_r(b.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete TTS entry",children:a.jsx("span",{className:"text-sm",children:"ðŸ—‘ï¸"})})]})]}),R&&a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("audio",{controls:!0,className:"w-full h-6",preload:"metadata",children:[a.jsx("source",{src:R,type:"audio/mpeg"}),"Your browser does not support audio playback."]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-gray-400",children:[a.jsx("span",{className:"truncate",title:L,children:L}),a.jsxs("a",{href:R,download:L,className:"inline-flex items-center gap-1 text-sm text-pirate-300 hover:text-pirate-200",children:[a.jsx("span",{"aria-hidden":"true",children:"â¬‡ï¸"}),a.jsx("span",{children:"Download"})]})]})]})]})]},b.id)}),F?.pagination&&F.pagination.total>ge&&a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-gray-700/50",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",F.pagination.offset+1,"-",Math.min(F.pagination.offset+Ue.length,F.pagination.total)," of ",F.pagination.total]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ct(Math.max(0,te-1)),disabled:te===0,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Previous"}),a.jsxs("span",{className:"px-3 py-1 text-gray-300",children:["Page ",te+1," of ",Math.ceil(F.pagination.total/ge)]}),a.jsx("button",{onClick:()=>ct(te+1),disabled:!F.pagination.has_more,className:"px-3 py-1 bg-gray-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Next"})]})]})]})]})]})},yo=()=>{const[e,t]=y.useState([]);return y.useEffect(()=>{const r=Array.from({length:20},(s,n)=>({id:n,left:Math.random()*100,animationDuration:10+Math.random()*20,opacity:.3+Math.random()*.7,size:.5+Math.random()*1.5}));t(r)},[]),a.jsxs(a.Fragment,{children:[e.map(r=>a.jsx("div",{className:"snowflake",style:{left:`${r.left}%`,animationDuration:`${r.animationDuration}s`,animationDelay:`${Math.random()*5}s`,opacity:r.opacity,fontSize:`${r.size}em`},children:"â„"},r.id)),a.jsx("div",{className:"frost-overlay"})]})};function vo(){return a.jsxs("div",{className:"min-h-screen winter-theme",children:[a.jsx(yo,{}),a.jsx(Ms,{children:a.jsx(gt,{children:a.jsxs(Or,{children:[a.jsx(we,{path:"/",element:a.jsx("div",{className:"space-y-6",children:a.jsx(gt,{fallback:a.jsx("div",{className:"card p-6 text-gray-300",children:"Failed to render Now Playing."}),children:a.jsx(Ls,{})})})}),a.jsx(we,{path:"/history",element:a.jsx(mo,{})}),a.jsx(we,{path:"/admin",element:a.jsx(bo,{})}),a.jsx(we,{path:"*",element:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ðŸ´â€â˜ ï¸ Page Not Found"}),a.jsx("p",{className:"text-gray-400",children:"Ye've sailed into uncharted waters, matey!"})]})})})]})})})]})}const wo=new Rr({defaultOptions:{queries:{staleTime:60*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1,retry:(e,t)=>t?.response?.status>=400&&t?.response?.status<500?!1:e<2}}}),jo="/christmas/",No=jo.replace(/\/$/,"");Ir.createRoot(document.getElementById("root")).render(a.jsx(Mt.StrictMode,{children:a.jsx(Cr,{client:wo,children:a.jsxs(Pr,{basename:No,children:[a.jsx(vo,{}),a.jsx(ks,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"}}})]})})}));
